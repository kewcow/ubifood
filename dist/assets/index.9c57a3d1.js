(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function F(){}const _l=n=>n;function mt(n,e){for(const t in e)n[t]=e[t];return n}function gl(n){return n&&typeof n=="object"&&typeof n.then=="function"}function ro(n){return n()}function oi(){return Object.create(null)}function Re(n){n.forEach(ro)}function an(n){return typeof n=="function"}function ue(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let vn;function we(n,e){return vn||(vn=document.createElement("a")),vn.href=e,n===vn.href}function vl(n){return Object.keys(n).length===0}function Gr(n,...e){if(n==null)return F;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Bt(n){let e;return Gr(n,t=>e=t)(),e}function de(n,e,t){n.$$.on_destroy.push(Gr(e,t))}function yt(n,e,t,r){if(n){const i=io(n,e,t,r);return n[0](i)}}function io(n,e,t,r){return n[1]&&r?mt(t.ctx.slice(),n[1](r(e))):t.ctx}function $t(n,e,t,r){if(n[2]&&r){const i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|i[a];return s}return e.dirty|i}return e.dirty}function wt(n,e,t,r,i,s){if(i){const o=io(e,t,r,s);n.p(o,i)}}function kt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function Tn(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Rn(n,e){const t={};e=new Set(e);for(const r in n)!e.has(r)&&r[0]!=="$"&&(t[r]=n[r]);return t}function jn(n){return n==null?"":n}function Oe(n,e,t){return n.set(t),e}function bl(n){return n&&an(n.destroy)?n.destroy:F}const so=typeof window<"u";let yl=so?()=>window.performance.now():()=>Date.now(),qr=so?n=>requestAnimationFrame(n):F;const Nt=new Set;function oo(n){Nt.forEach(e=>{e.c(n)||(Nt.delete(e),e.f())}),Nt.size!==0&&qr(oo)}function $l(n){let e;return Nt.size===0&&qr(oo),{promise:new Promise(t=>{Nt.add(e={c:n,f:t})}),abort(){Nt.delete(e)}}}function g(n,e){n.appendChild(e)}function lo(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function wl(n){const e=w("style");return kl(lo(n),e),e.sheet}function kl(n,e){g(n.head||n,e)}function U(n,e,t){n.insertBefore(e,t||null)}function D(n){n.parentNode.removeChild(n)}function Te(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function w(n){return document.createElement(n)}function ve(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function oe(n){return document.createTextNode(n)}function E(){return oe(" ")}function Ie(){return oe("")}function te(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Sl(n){return function(e){return e.preventDefault(),n.call(this,e)}}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function li(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set?n[r]=e[r]:d(n,r,e[r])}function El(n){return Array.from(n.childNodes)}function be(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function le(n,e){n.value=e==null?"":e}function W(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function ao(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}const An=new Map;let In=0;function Cl(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Pl(n,e){const t={stylesheet:wl(e),rules:{}};return An.set(n,t),t}function Ol(n,e,t,r,i,s,o,a=0){const l=16.666/r;let u=`{
`;for(let v=0;v<=1;v+=l){const y=e+(t-e)*s(v);u+=v*100+`%{${o(y,1-y)}}
`}const c=u+`100% {${o(t,1-t)}}
}`,h=`__svelte_${Cl(c)}_${a}`,f=lo(n),{stylesheet:p,rules:m}=An.get(f)||Pl(f,n);m[h]||(m[h]=!0,p.insertRule(`@keyframes ${h} ${c}`,p.cssRules.length));const _=n.style.animation||"";return n.style.animation=`${_?`${_}, `:""}${h} ${r}ms linear ${i}ms 1 both`,In+=1,h}function Tl(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),In-=i,In||Rl())}function Rl(){qr(()=>{In||(An.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),An.clear())})}let rn;function Ye(n){rn=n}function qt(){if(!rn)throw new Error("Function called outside component initialization");return rn}function jl(n){qt().$$.on_mount.push(n)}function Al(n){qt().$$.on_destroy.push(n)}function Il(){const n=qt();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const s=ao(e,t,{cancelable:r});return i.slice().forEach(o=>{o.call(n,s)}),!s.defaultPrevented}return!0}}function Zt(n,e){return qt().$$.context.set(n,e),e}function nt(n){return qt().$$.context.get(n)}function Lt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const Xt=[],Mn=[],kn=[],ai=[],uo=Promise.resolve();let wr=!1;function co(){wr||(wr=!0,uo.then(xr))}function fo(){return co(),uo}function Dn(n){kn.push(n)}const cr=new Set;let bn=0;function xr(){const n=rn;do{for(;bn<Xt.length;){const e=Xt[bn];bn++,Ye(e),Ml(e.$$)}for(Ye(null),Xt.length=0,bn=0;Mn.length;)Mn.pop()();for(let e=0;e<kn.length;e+=1){const t=kn[e];cr.has(t)||(cr.add(t),t())}kn.length=0}while(Xt.length);for(;ai.length;)ai.pop()();wr=!1,cr.clear(),Ye(n)}function Ml(n){if(n.fragment!==null){n.update(),Re(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Dn)}}let Jt;function Dl(){return Jt||(Jt=Promise.resolve(),Jt.then(()=>{Jt=null})),Jt}function ui(n,e,t){n.dispatchEvent(ao(`${e?"intro":"outro"}${t}`))}const Sn=new Set;let tt;function he(){tt={r:0,c:[],p:tt}}function pe(){tt.r||Re(tt.c),tt=tt.p}function $(n,e){n&&n.i&&(Sn.delete(n),n.i(e))}function S(n,e,t,r){if(n&&n.o){if(Sn.has(n))return;Sn.add(n),tt.c.push(()=>{Sn.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const Nl={duration:0};function Ul(n,e,t){let r=e(n,t),i=!0,s;const o=tt;o.r+=1;function a(){const{delay:l=0,duration:u=300,easing:c=_l,tick:h=F,css:f}=r||Nl;f&&(s=Ol(n,1,0,u,l,c,f));const p=yl()+l,m=p+u;Dn(()=>ui(n,!1,"start")),$l(_=>{if(i){if(_>=m)return h(0,1),ui(n,!1,"end"),--o.r||Re(o.c),!1;if(_>=p){const v=c((_-p)/u);h(1-v,v)}}return i})}return an(r)?Dl().then(()=>{r=r(),a()}):a(),{end(l){l&&r.tick&&r.tick(1,0),i&&(s&&Tl(n,s),i=!1)}}}function We(n,e){const t=e.token={};function r(i,s,o,a){if(e.token!==t)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const u=i&&(e.current=i)(l);let c=!1;e.block&&(e.blocks?e.blocks.forEach((h,f)=>{f!==s&&h&&(he(),S(h,1,1,()=>{e.blocks[f]===h&&(e.blocks[f]=null)}),pe())}):e.block.d(1),u.c(),$(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[s]=u),c&&xr()}if(gl(n)){const i=qt();if(n.then(s=>{Ye(i),r(e.then,1,e.value,s),Ye(null)},s=>{if(Ye(i),r(e.catch,2,e.error,s),Ye(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,n),!0;e.resolved=n}}function pt(n,e,t){const r=e.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,t)}function Bl(n,e){S(n,1,1,()=>{e.delete(n.key)})}function Ll(n,e,t,r,i,s,o,a,l,u,c,h){let f=n.length,p=s.length,m=f;const _={};for(;m--;)_[n[m].key]=m;const v=[],y=new Map,j=new Map;for(m=p;m--;){const A=h(i,s,m),R=t(A);let N=o.get(R);N?r&&N.p(A,e):(N=u(R,A),N.c()),y.set(R,v[m]=N),R in _&&j.set(R,Math.abs(m-_[R]))}const b=new Set,T=new Set;function P(A){$(A,1),A.m(a,c),o.set(A.key,A),c=A.first,p--}for(;f&&p;){const A=v[p-1],R=n[f-1],N=A.key,G=R.key;A===R?(c=A.first,f--,p--):y.has(G)?!o.has(N)||b.has(N)?P(A):T.has(G)?f--:j.get(N)>j.get(G)?(T.add(N),P(A)):(b.add(G),f--):(l(R,o),f--)}for(;f--;){const A=n[f];y.has(A.key)||l(A,o)}for(;p;)P(v[p-1]);return v}function ho(n,e){const t={},r={},i={$$scope:1};let s=n.length;for(;s--;){const o=n[s],a=e[s];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)i[l]||(t[l]=a[l],i[l]=1);n[s]=a}else for(const l in o)i[l]=1}for(const o in r)o in t||(t[o]=void 0);return t}function ci(n){return typeof n=="object"&&n!==null?n:{}}function H(n){n&&n.c()}function L(n,e,t,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=n.$$;i&&i.m(e,t),r||Dn(()=>{const l=s.map(ro).filter(an);o?o.push(...l):Re(l),n.$$.on_mount=[]}),a.forEach(Dn)}function z(n,e){const t=n.$$;t.fragment!==null&&(Re(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zl(n,e){n.$$.dirty[0]===-1&&(Xt.push(n),co(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ce(n,e,t,r,i,s,o,a=[-1]){const l=rn;Ye(n);const u=n.$$={fragment:null,ctx:null,props:s,update:F,not_equal:i,bound:oi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:oi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(n,e.props||{},(h,f,...p)=>{const m=p.length?p[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=m)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](m),c&&zl(n,h)),f}):[],u.update(),c=!0,Re(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=El(e.target);u.fragment&&u.fragment.l(h),h.forEach(D)}else u.fragment&&u.fragment.c();e.intro&&$(n.$$.fragment),L(n,e.target,e.anchor,e.customElement),xr()}Ye(l)}class fe{$destroy(){z(this,1),this.$destroy=F}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!vl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fi=n=>typeof n>"u",po=n=>typeof n=="function",mo=n=>typeof n=="number";function Hl(n){return!n.defaultPrevented&&n.button===0&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _o(){let n=0;return()=>n++}function Fl(){return Math.random().toString(36).substring(2)}const rt=typeof window>"u";function go(n,e,t){return n.addEventListener(e,t),()=>n.removeEventListener(e,t)}const It=[];function Gl(n,e){return{subscribe:_e(n,e).subscribe}}function _e(n,e=F){let t;const r=new Set;function i(a){if(ue(n,a)&&(n=a,t)){const l=!It.length;for(const u of r)u[1](),It.push(u,n);if(l){for(let u=0;u<It.length;u+=2)It[u][0](It[u+1]);It.length=0}}}function s(a){i(a(n))}function o(a,l=F){const u=[a,l];return r.add(u),r.size===1&&(t=e(i)||F),a(n),()=>{r.delete(u),r.size===0&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}function ql(n,e,t){const r=!Array.isArray(n),i=r?[n]:n,s=e.length<2;return Gl(t,o=>{let a=!1;const l=[];let u=0,c=F;const h=()=>{if(u)return;c();const p=e(r?l[0]:l,o);s?o(p):c=an(p)?p:F},f=i.map((p,m)=>Gr(p,_=>{l[m]=_,u&=~(1<<m),a&&h()},()=>{u|=1<<m}));return a=!0,h(),function(){Re(f),c()}})}const un=n=>`@@svnav-ctx__${n}`,kr=un("LOCATION"),zt=un("ROUTER"),vo=un("ROUTE"),xl=un("ROUTE_PARAMS"),Wl=un("FOCUS_ELEM"),bo=/^:(.+)/,Sr=(n,e)=>n.substr(0,e.length)===e,Jl=n=>n==="",Vl=n=>bo.test(n),yo=n=>n[0]==="*",Kl=n=>n.replace(/\*.*$/,""),$o=n=>n.replace(/(^\/+|\/+$)/g,"");function Je(n,e=!1){const t=$o(n).split("/");return e?t.filter(Boolean):t}const fr=(n,e)=>n+(e?`?${e}`:""),Wr=n=>`/${$o(n)}`;function cn(...n){const e=r=>Je(r,!0).join("/"),t=n.map(e).join("/");return Wr(t)}const Jr=1,Gn=2,_t=3,Ql=4,wo=5,Yl=6,ko=7,Xl=8,Zl=9,So=10,Eo=11,ea={[Jr]:"Link",[Gn]:"Route",[_t]:"Router",[Ql]:"useFocus",[wo]:"useLocation",[Yl]:"useMatch",[ko]:"useNavigate",[Xl]:"useParams",[Zl]:"useResolvable",[So]:"useResolve",[Eo]:"navigate"},Vr=n=>ea[n];function ta(n,e){let t;return n===Gn?t=e.path?`path="${e.path}"`:"default":n===Jr?t=`to="${e.to}"`:n===_t&&(t=`basepath="${e.basepath||""}"`),`<${Vr(n)} ${t||""} />`}function na(n,e,t,r){const i=t&&ta(r||n,t),s=i?`

Occurred in: ${i}`:"",o=Vr(n),a=po(e)?e(o):e;return`<${o}> ${a}${s}`}const Co=n=>(...e)=>n(na(...e)),Po=Co(n=>{throw new Error(n)}),Nn=Co(console.warn),di=4,ra=3,ia=2,sa=1,oa=1;function la(n,e){const t=n.default?0:Je(n.fullPath).reduce((r,i)=>{let s=r;return s+=di,Jl(i)?s+=oa:Vl(i)?s+=ia:yo(i)?s-=di+sa:s+=ra,s},0);return{route:n,score:t,index:e}}function aa(n){return n.map(la).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}function Oo(n,e){let t,r;const[i]=e.split("?"),s=Je(i),o=s[0]==="",a=aa(n);for(let l=0,u=a.length;l<u;l++){const{route:c}=a[l];let h=!1;const f={},p=y=>({...c,params:f,uri:y});if(c.default){r=p(e);continue}const m=Je(c.fullPath),_=Math.max(s.length,m.length);let v=0;for(;v<_;v++){const y=m[v],j=s[v];if(!fi(y)&&yo(y)){const T=y==="*"?"*":y.slice(1);f[T]=s.slice(v).map(decodeURIComponent).join("/");break}if(fi(j)){h=!0;break}const b=bo.exec(y);if(b&&!o){const T=decodeURIComponent(j);f[b[1]]=T}else if(y!==j){h=!0;break}}if(!h){t=p(cn(...s.slice(0,v)));break}}return t||r||null}function To(n,e){return Oo([n],e)}function ua(n,e){if(Sr(n,"/"))return n;const[t,r]=n.split("?"),[i]=e.split("?"),s=Je(t),o=Je(i);if(s[0]==="")return fr(i,r);if(!Sr(s[0],".")){const u=o.concat(s).join("/");return fr((i==="/"?"":"/")+u,r)}const a=o.concat(s),l=[];return a.forEach(u=>{u===".."?l.pop():u!=="."&&l.push(u)}),fr(`/${l.join("/")}`,r)}function hi(n,e){const{pathname:t,hash:r="",search:i="",state:s}=n,o=Je(e,!0),a=Je(t,!0);for(;o.length;)o[0]!==a[0]&&Po(_t,`Invalid state: All locations must begin with the basepath "${e}", found "${t}"`),o.shift(),a.shift();return{pathname:cn(...a),hash:r,search:i,state:s}}const pi=n=>n.length===1?"":n;function Ro(n){const e=n.indexOf("?"),t=n.indexOf("#"),r=e!==-1,i=t!==-1,s=i?pi(n.substr(t)):"",o=i?n.substr(0,t):n,a=r?pi(o.substr(e)):"";return{pathname:r?o.substr(0,e):o,search:a,hash:s}}function ca(n,e,t){return cn(t,ua(n,e))}function fa(n,e){const t=Wr(Kl(n)),r=Je(t,!0),i=Je(e,!0).slice(0,r.length),s=To({fullPath:t},cn(...i));return s&&s.uri}const dr="POP",da="PUSH",ha="REPLACE";function hr(n){return{...n.location,pathname:encodeURI(decodeURI(n.location.pathname)),state:n.history.state,_key:n.history.state&&n.history.state._key||"initial"}}function pa(n){let e=[],t=hr(n),r=dr;const i=(s=e)=>s.forEach(o=>o({location:t,action:r}));return{get location(){return t},listen(s){e.push(s);const o=()=>{t=hr(n),r=dr,i([s])};i([s]);const a=go(n,"popstate",o);return()=>{a(),e=e.filter(l=>l!==s)}},navigate(s,o){const{state:a={},replace:l=!1}=o||{};if(r=l?ha:da,mo(s))o&&Nn(Eo,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),r=dr,n.history.go(s);else{const u={...a,_key:Fl()};try{n.history[l?"replaceState":"pushState"](u,"",s)}catch{n.location[l?"replace":"assign"](s)}}t=hr(n),i()}}}function pr(n,e){return{...Ro(e),state:n}}function ma(n="/"){let e=0,t=[pr(null,n)];return{get entries(){return t},get location(){return t[e]},addEventListener(){},removeEventListener(){},history:{get state(){return t[e].state},pushState(r,i,s){e++,t=t.slice(0,e),t.push(pr(r,s))},replaceState(r,i,s){t[e]=pr(r,s)},go(r){const i=e+r;i<0||i>t.length-1||(e=i)}}}}const _a=!!(!rt&&window.document&&window.document.createElement),ga=!rt&&window.location.origin==="null",va=pa(_a&&!ga?window:ma());let Ke=null,jo=!0;function ba(n,e){const t=document.querySelectorAll("[data-svnav-router]");for(let r=0;r<t.length;r++){const i=t[r],s=Number(i.dataset.svnavRouter);if(s===n)return!0;if(s===e)return!1}return!1}function ya(n){(!Ke||n.level>Ke.level||n.level===Ke.level&&ba(n.routerId,Ke.routerId))&&(Ke=n)}function $a(){Ke=null}function wa(){jo=!1}function mi(n){if(!n)return!1;const e="tabindex";try{if(!n.hasAttribute(e)){n.setAttribute(e,"-1");let t;t=go(n,"blur",()=>{n.removeAttribute(e),t()})}return n.focus(),document.activeElement===n}catch{return!1}}function ka(n,e){return Number(n.dataset.svnavRouteEnd)===e}function Sa(n){return/^H[1-6]$/i.test(n.tagName)}function _i(n,e=document){return e.querySelector(n)}function Ea(n){let t=_i(`[data-svnav-route-start="${n}"]`).nextElementSibling;for(;!ka(t,n);){if(Sa(t))return t;const r=_i("h1,h2,h3,h4,h5,h6",t);if(r)return r;t=t.nextElementSibling}return null}function Ca(n){Promise.resolve(Bt(n.focusElement)).then(e=>{const t=e||Ea(n.id);t||Nn(_t,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,n,Gn),!mi(t)&&mi(document.documentElement)})}const Pa=(n,e,t)=>(r,i)=>fo().then(()=>{if(!Ke||jo){wa();return}if(r&&Ca(Ke.route),n.announcements&&i){const{path:s,fullPath:o,meta:a,params:l,uri:u}=Ke.route,c=n.createAnnouncement({path:s,fullPath:o,meta:a,params:l,uri:u},Bt(t));Promise.resolve(c).then(h=>{e.set(h)})}$a()}),Oa="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function Ta(n){let e,t;return{c(){e=w("div"),t=oe(n[0]),d(e,"role","status"),d(e,"aria-atomic","true"),d(e,"aria-live","polite"),d(e,"style",Oa)},m(r,i){U(r,e,i),g(e,t)},p(r,i){i[0]&1&&be(t,r[0])},d(r){r&&D(e)}}}function Ra(n){let e,t,r,i,s;const o=n[20].default,a=yt(o,n,n[19],null);let l=n[2]&&n[4]&&n[1].announcements&&Ta(n);return{c(){e=w("div"),t=E(),a&&a.c(),r=E(),l&&l.c(),i=Ie(),W(e,"display","none"),d(e,"aria-hidden","true"),d(e,"data-svnav-router",n[3])},m(u,c){U(u,e,c),U(u,t,c),a&&a.m(u,c),U(u,r,c),l&&l.m(u,c),U(u,i,c),s=!0},p(u,c){a&&a.p&&(!s||c[0]&524288)&&wt(a,o,u,u[19],s?$t(o,u[19],c,null):kt(u[19]),null),u[2]&&u[4]&&u[1].announcements&&l.p(u,c)},i(u){s||($(a,u),s=!0)},o(u){S(a,u),s=!1},d(u){u&&D(e),u&&D(t),a&&a.d(u),u&&D(r),l&&l.d(u),u&&D(i)}}}const ja=_o(),gi="/";function Aa(n,e,t){let r,i,s,o,a,{$$slots:l={},$$scope:u}=e,{basepath:c=gi}=e,{url:h=null}=e,{history:f=va}=e,{primary:p=!0}=e,{a11y:m={}}=e;const _={createAnnouncement:X=>`Navigated to ${X.uri}`,announcements:!0,...m},v=c,y=Wr(c),j=nt(kr),b=nt(zt),T=!j,P=ja(),A=p&&!(b&&!b.manageFocus),R=_e("");de(n,R,X=>t(0,a=X));const N=_e([]);de(n,N,X=>t(18,o=X));const G=_e(null);de(n,G,X=>t(16,i=X));let J=!1;const q=T?0:b.level+1,V=T?_e((()=>hi(rt?Ro(h):f.location,y))()):j;de(n,V,X=>t(15,r=X));const Z=_e(r);de(n,Z,X=>t(17,s=X));const Q=Pa(_,R,V),ie=X=>se=>se.filter(I=>I.id!==X);function ge(X){if(rt){if(J)return;const se=To(X,r.pathname);if(se)return J=!0,se}else N.update(se=>{const I=ie(X.id)(se);return I.push(X),I})}function Y(X){N.update(ie(X))}return!T&&c!==gi&&Nn(_t,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:c}),T&&(jl(()=>f.listen(se=>{const I=hi(se.location,y);Z.set(r),V.set(I)})),Zt(kr,V)),Zt(zt,{activeRoute:G,registerRoute:ge,unregisterRoute:Y,manageFocus:A,level:q,id:P,history:T?f:b.history,basepath:T?y:b.basepath}),n.$$set=X=>{"basepath"in X&&t(10,c=X.basepath),"url"in X&&t(11,h=X.url),"history"in X&&t(12,f=X.history),"primary"in X&&t(13,p=X.primary),"a11y"in X&&t(14,m=X.a11y),"$$scope"in X&&t(19,u=X.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&1024&&c!==v&&Nn(_t,'You cannot change the "basepath" prop. It is ignored.'),n.$$.dirty[0]&294912){const X=Oo(o,r.pathname);G.set(X)}if(n.$$.dirty[0]&163840&&T){const X=!!r.hash,se=!X&&A,I=!X||r.pathname!==s.pathname;Q(se,I)}n.$$.dirty[0]&65536&&A&&i&&i.primary&&ya({level:q,routerId:P,route:i})},[a,_,T,P,A,R,N,G,V,Z,c,h,f,p,m,r,i,s,o,u,l]}class Ao extends fe{constructor(e){super(),ce(this,e,Aa,Ra,ue,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function fn(n,e,t=zt,r=_t){nt(t)||Po(n,s=>`You cannot use ${s} outside of a ${Vr(r)}.`,e)}const Ia=n=>{const{subscribe:e}=nt(n);return{subscribe:e}};function Kr(){return fn(wo),Ia(kr)}function Io(){const{history:n}=nt(zt);return n}function Mo(){const n=nt(vo);return n?ql(n,e=>e.base):_e("/")}function Do(){fn(So);const n=Mo(),{basepath:e}=nt(zt);return r=>ca(r,Bt(n),e)}function Ma(){fn(ko);const n=Do(),{navigate:e}=Io();return(r,i)=>{const s=mo(r)?r:n(r);return e(s,i)}}const Da=n=>({params:n&16,location:n&8}),vi=n=>({params:rt?Bt(n[9]):n[4],location:n[3],navigate:n[10]});function bi(n){let e,t;return e=new Ao({props:{primary:n[1],$$slots:{default:[Ba]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.primary=r[1]),i&264217&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Na(n){let e;const t=n[17].default,r=yt(t,n,n[18],vi);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&262168)&&wt(r,t,i,i[18],e?$t(t,i[18],s,Da):kt(i[18]),vi)},i(i){e||($(r,i),e=!0)},o(i){S(r,i),e=!1},d(i){r&&r.d(i)}}}function Ua(n){let e,t,r;const i=[{location:n[3]},{navigate:n[10]},rt?Bt(n[9]):n[4],n[11]];var s=n[0];function o(a){let l={};for(let u=0;u<i.length;u+=1)l=mt(l,i[u]);return{props:l}}return s&&(e=new s(o())),{c(){e&&H(e.$$.fragment),t=Ie()},m(a,l){e&&L(e,a,l),U(a,t,l),r=!0},p(a,l){const u=l&3608?ho(i,[l&8&&{location:a[3]},l&1024&&{navigate:a[10]},l&528&&ci(rt?Bt(a[9]):a[4]),l&2048&&ci(a[11])]):{};if(s!==(s=a[0])){if(e){he();const c=e;S(c.$$.fragment,1,0,()=>{z(c,1)}),pe()}s?(e=new s(o()),H(e.$$.fragment),$(e.$$.fragment,1),L(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&S(e.$$.fragment,a),r=!1},d(a){a&&D(t),e&&z(e,a)}}}function Ba(n){let e,t,r,i;const s=[Ua,Na],o=[];function a(l,u){return l[0]!==null?0:1}return e=a(n),t=o[e]=s[e](n),{c(){t.c(),r=Ie()},m(l,u){o[e].m(l,u),U(l,r,u),i=!0},p(l,u){let c=e;e=a(l),e===c?o[e].p(l,u):(he(),S(o[c],1,1,()=>{o[c]=null}),pe(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){i||($(t),i=!0)},o(l){S(t),i=!1},d(l){o[e].d(l),l&&D(r)}}}function La(n){let e,t,r,i,s,o=n[2]&&bi(n);return{c(){e=w("div"),t=E(),o&&o.c(),r=E(),i=w("div"),W(e,"display","none"),d(e,"aria-hidden","true"),d(e,"data-svnav-route-start",n[5]),W(i,"display","none"),d(i,"aria-hidden","true"),d(i,"data-svnav-route-end",n[5])},m(a,l){U(a,e,l),U(a,t,l),o&&o.m(a,l),U(a,r,l),U(a,i,l),s=!0},p(a,[l]){a[2]?o?(o.p(a,l),l&4&&$(o,1)):(o=bi(a),o.c(),$(o,1),o.m(r.parentNode,r)):o&&(he(),S(o,1,1,()=>{o=null}),pe())},i(a){s||($(o),s=!0)},o(a){S(o),s=!1},d(a){a&&D(e),a&&D(t),o&&o.d(a),a&&D(r),a&&D(i)}}}const za=_o();function Ha(n,e,t){let r;const i=["path","component","meta","primary"];let s=Rn(e,i),o,a,l,u,{$$slots:c={},$$scope:h}=e,{path:f=""}=e,{component:p=null}=e,{meta:m={}}=e,{primary:_=!0}=e;fn(Gn,e);const v=za(),{registerRoute:y,unregisterRoute:j,activeRoute:b}=nt(zt);de(n,b,q=>t(15,o=q));const T=Mo();de(n,T,q=>t(16,l=q));const P=Kr();de(n,P,q=>t(3,a=q));const A=_e(null);let R;const N=_e(),G=_e({});de(n,G,q=>t(4,u=q)),Zt(vo,N),Zt(xl,G),Zt(Wl,A);const J=Ma();return rt||Al(()=>j(v)),n.$$set=q=>{t(23,e=mt(mt({},e),Tn(q))),t(11,s=Rn(e,i)),"path"in q&&t(12,f=q.path),"component"in q&&t(0,p=q.component),"meta"in q&&t(13,m=q.meta),"primary"in q&&t(1,_=q.primary),"$$scope"in q&&t(18,h=q.$$scope)},n.$$.update=()=>{if(n.$$.dirty&77834){const q=f==="",K=cn(l,f),V={id:v,path:f,meta:m,default:q,fullPath:q?"":K,base:q?l:fa(K,a.pathname),primary:_,focusElement:A};N.set(V),t(14,R=y(V))}if(n.$$.dirty&49152&&t(2,r=!!(R||o&&o.id===v)),n.$$.dirty&49156&&r){const{params:q}=R||o;G.set(q)}},e=Tn(e),[p,_,r,a,u,v,b,T,P,G,J,s,f,m,R,o,l,c,h]}class Vt extends fe{constructor(e){super(),ce(this,e,Ha,La,ue,{path:12,component:0,meta:13,primary:1})}}function Fa(n){let e,t,r,i;const s=n[13].default,o=yt(s,n,n[12],null);let a=[{href:n[0]},n[2],n[1]],l={};for(let u=0;u<a.length;u+=1)l=mt(l,a[u]);return{c(){e=w("a"),o&&o.c(),li(e,l)},m(u,c){U(u,e,c),o&&o.m(e,null),t=!0,r||(i=te(e,"click",n[4]),r=!0)},p(u,[c]){o&&o.p&&(!t||c&4096)&&wt(o,s,u,u[12],t?$t(s,u[12],c,null):kt(u[12]),null),li(e,l=ho(a,[(!t||c&1)&&{href:u[0]},c&4&&u[2],c&2&&u[1]]))},i(u){t||($(o,u),t=!0)},o(u){S(o,u),t=!1},d(u){u&&D(e),o&&o.d(u),r=!1,i()}}}function Ga(n,e,t){let r,i,s,o,a;const l=["to","replace","state","getProps"];let u=Rn(e,l),c,{$$slots:h={},$$scope:f}=e,{to:p}=e,{replace:m=!1}=e,{state:_={}}=e,{getProps:v=null}=e;fn(Jr,e);const y=Kr();de(n,y,A=>t(11,c=A));const j=Il(),b=Do(),{navigate:T}=Io();function P(A){j("click",A),Hl(A)&&(A.preventDefault(),T(r,{state:_,replace:s||m}))}return n.$$set=A=>{t(18,e=mt(mt({},e),Tn(A))),t(17,u=Rn(e,l)),"to"in A&&t(5,p=A.to),"replace"in A&&t(6,m=A.replace),"state"in A&&t(7,_=A.state),"getProps"in A&&t(8,v=A.getProps),"$$scope"in A&&t(12,f=A.$$scope)},n.$$.update=()=>{n.$$.dirty&2080&&t(0,r=b(p,c)),n.$$.dirty&2049&&t(10,i=Sr(c.pathname,r)),n.$$.dirty&2049&&t(9,s=r===c.pathname),n.$$.dirty&512&&t(2,o=s?{"aria-current":"page"}:{}),t(1,a=(()=>{if(po(v)){const A=v({location:c,href:r,isPartiallyCurrent:i,isCurrent:s});return{...u,...A}}return u})())},e=Tn(e),[r,a,o,y,P,p,m,_,v,s,i,c,f,h]}class St extends fe{constructor(e){super(),ce(this,e,Ga,Fa,ue,{to:5,replace:6,state:7,getProps:8})}}function qa(n){let e;return{c(){e=w("link"),d(e,"href","https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap"),d(e,"rel","stylesheet")},m(t,r){g(document.head,e)},p:F,i:F,o:F,d(t){D(e)}}}class xa extends fe{constructor(e){super(),ce(this,e,null,qa,ue,{})}}const Un=_e(""),mr=_e("");function Wa(n,e,t){let r,i,s=F,o,a=F;de(n,Un,u=>t(2,i=u)),de(n,mr,u=>t(3,o=u)),n.$$.on_destroy.push(()=>s()),n.$$.on_destroy.push(()=>a());const l=Kr();return de(n,l,u=>t(1,r=u)),n.$$.update=()=>{n.$$.dirty&2&&(r.pathname.split("/").length<3?Oe(mr,o=r.pathname,o):Oe(mr,o="/hidden",o)),n.$$.dirty&2&&Oe(Un,i=r.pathname.split("/")[2],i)},[l,r]}class Ja extends fe{constructor(e){super(),ce(this,e,Wa,null,ue,{})}}function Va(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function Ka(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M194.6 32H317.4C338.1 32 356.4 45.22 362.9 64.82L373.3 96H448C483.3 96 512 124.7 512 160V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V160C0 124.7 28.65 96 64 96H138.7L149.1 64.82C155.6 45.22 173.9 32 194.6 32H194.6zM256 384C309 384 352 341 352 288C352 234.1 309 192 256 192C202.1 192 160 234.1 160 288C160 341 202.1 384 256 384z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function Qa(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 320 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function Ya(n){let e,t;return{c(){e=ve("svg"),t=ve("path"),d(t,"d","M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512")},m(r,i){U(r,e,i),g(e,t)},p:F,d(r){r&&D(e)}}}function Xa(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 488 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function Za(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M112 112C112 50.14 162.1 0 224 0C285.9 0 336 50.14 336 112V160H400C426.5 160 448 181.5 448 208V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V208C0 181.5 21.49 160 48 160H112V112zM160 160H288V112C288 76.65 259.3 48 224 48C188.7 48 160 76.65 160 112V160zM136 256C149.3 256 160 245.3 160 232C160 218.7 149.3 208 136 208C122.7 208 112 218.7 112 232C112 245.3 122.7 256 136 256zM312 208C298.7 208 288 218.7 288 232C288 245.3 298.7 256 312 256C325.3 256 336 245.3 336 232C336 218.7 325.3 208 312 208z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function eu(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function tu(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M175 175C184.4 165.7 199.6 165.7 208.1 175L255.1 222.1L303 175C312.4 165.7 327.6 165.7 336.1 175C346.3 184.4 346.3 199.6 336.1 208.1L289.9 255.1L336.1 303C346.3 312.4 346.3 327.6 336.1 336.1C327.6 346.3 312.4 346.3 303 336.1L255.1 289.9L208.1 336.1C199.6 346.3 184.4 346.3 175 336.1C165.7 327.6 165.7 312.4 175 303L222.1 255.1L175 208.1C165.7 199.6 165.7 184.4 175 175V175zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function nu(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M18.92 351.2l108.5-46.52c12.78-5.531 27.77-1.801 36.45 8.98l44.09 53.82c69.25-34 125.5-90.31 159.5-159.5l-53.81-44.04c-10.75-8.781-14.41-23.69-8.974-36.47l46.51-108.5c6.094-13.91 21.1-21.52 35.79-18.11l100.8 23.25c14.25 3.25 24.22 15.8 24.22 30.46c0 252.3-205.2 457.5-457.5 457.5c-14.67 0-27.18-9.968-30.45-24.22l-23.25-100.8C-2.571 372.4 5.018 357.2 18.92 351.2z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function ru(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 320 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function iu(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function su(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M368 0C394.5 0 416 21.49 416 48V96H466.7C483.7 96 499.1 102.7 512 114.7L589.3 192C601.3 204 608 220.3 608 237.3V352C625.7 352 640 366.3 640 384C640 401.7 625.7 416 608 416H576C576 469 533 512 480 512C426.1 512 384 469 384 416H256C256 469 213 512 160 512C106.1 512 64 469 64 416H48C21.49 416 0 394.5 0 368V48C0 21.49 21.49 0 48 0H368zM416 160V256H544V237.3L466.7 160H416zM160 368C133.5 368 112 389.5 112 416C112 442.5 133.5 464 160 464C186.5 464 208 442.5 208 416C208 389.5 186.5 368 160 368zM480 464C506.5 464 528 442.5 528 416C528 389.5 506.5 368 480 368C453.5 368 432 389.5 432 416C432 442.5 453.5 464 480 464z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 640 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function ou(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 512 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function lu(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M168.3 499.2C116.1 435 0 279.4 0 192C0 85.96 85.96 0 192 0C298 0 384 85.96 384 192C384 279.4 267 435 215.7 499.2C203.4 514.5 180.6 514.5 168.3 499.2H168.3zM192 256C227.3 256 256 227.3 256 192C256 156.7 227.3 128 192 128C156.7 128 128 156.7 128 192C128 227.3 156.7 256 192 256z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 384 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function au(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function uu(n){let e,t,r=`${n[2]}em`,i=`${n[2]}em`;return{c(){e=ve("svg"),t=ve("path"),d(t,"fill",n[1]),d(t,"d","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 448 512"),W(e,"width",r,!1),W(e,"height",i,!1)},m(s,o){U(s,e,o),g(e,t)},p(s,o){o&2&&d(t,"fill",s[1]),o&4&&r!==(r=`${s[2]}em`)&&W(e,"width",r,!1),o&4&&i!==(i=`${s[2]}em`)&&W(e,"height",i,!1)},d(s){s&&D(e)}}}function cu(n){let e;function t(s,o){if(s[0]==="plus")return uu;if(s[0]==="whatsapp")return au;if(s[0]==="location-dot")return lu;if(s[0]==="clock")return ou;if(s[0]==="truck")return su;if(s[0]==="arrow-left")return iu;if(s[0]==="arrow-right")return ru;if(s[0]==="phone")return nu;if(s[0]==="close")return tu;if(s[0]==="minus")return eu;if(s[0]==="bag-shopping")return Za;if(s[0]==="google")return Xa;if(s[0]==="pen-to-square")return Ya;if(s[0]==="close-simple")return Qa;if(s[0]==="camera")return Ka;if(s[0]==="user")return Va}let r=t(n),i=r&&r(n);return{c(){i&&i.c(),e=Ie()},m(s,o){i&&i.m(s,o),U(s,e,o)},p(s,[o]){r===(r=t(s))&&i?i.p(s,o):(i&&i.d(1),i=r&&r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:F,o:F,d(s){i&&i.d(s),s&&D(e)}}}function fu(n,e,t){let{name:r}=e,{color:i}=e,{size:s}=e;return n.$$set=o=>{"name"in o&&t(0,r=o.name),"color"in o&&t(1,i=o.color),"size"in o&&t(2,s=o.size)},[r,i,s]}class ae extends fe{constructor(e){super(),ce(this,e,fu,cu,ue,{name:0,color:1,size:2})}}function du(n){let e,t;return{c(){e=w("img"),we(e.src,t="/header/home.png")||d(e,"src",t),d(e,"alt","home")},m(r,i){U(r,e,i)},p:F,d(r){r&&D(e)}}}function yi(n){let e,t;return e=new St({props:{to:"/login",class:"link-login",$$slots:{default:[hu]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function hu(n){let e,t,r;return e=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:.875}}),{c(){H(e.$$.fragment),t=oe("\xA1Sum\xE1 tu comercio!")},m(i,s){L(e,i,s),U(i,t,s),r=!0},p:F,i(i){r||($(e.$$.fragment,i),r=!0)},o(i){S(e.$$.fragment,i),r=!1},d(i){z(e,i),i&&D(t)}}}function pu(n){let e,t,r,i;t=new St({props:{to:"/",class:"link-home",$$slots:{default:[du]},$$scope:{ctx:n}}});let s=n[0]&&yi(n);return{c(){e=w("header"),H(t.$$.fragment),r=E(),s&&s.c(),d(e,"class","svelte-ynok1a")},m(o,a){U(o,e,a),L(t,e,null),g(e,r),s&&s.m(e,null),i=!0},p(o,[a]){const l={};a&2&&(l.$$scope={dirty:a,ctx:o}),t.$set(l),o[0]?s?a&1&&$(s,1):(s=yi(o),s.c(),$(s,1),s.m(e,null)):s&&(he(),S(s,1,1,()=>{s=null}),pe())},i(o){i||($(t.$$.fragment,o),$(s),i=!0)},o(o){S(t.$$.fragment,o),S(s),i=!1},d(o){o&&D(e),z(t),s&&s.d()}}}function mu(n,e,t){let{state:r=!0}=e;return n.$$set=i=>{"state"in i&&t(0,r=i.state)},[r]}class No extends fe{constructor(e){super(),ce(this,e,mu,pu,ue,{state:0})}}function _u(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N;return u=new ae({props:{name:"location-dot",color:"hsl(0,0%,46.7%)",size:1}}),m=new ae({props:{name:"clock",color:"hsl(0,0%,46.7%)",size:1}}),b=new ae({props:{name:"truck",color:"hsl(0,0%,46.7%)",size:1}}),R=new ae({props:{name:"whatsapp",color:"hsl(0, 0%, 46.7%)",size:1.75}}),{c(){e=w("img"),r=E(),i=w("address"),s=w("h2"),o=oe(n[0]),a=E(),l=w("span"),H(u.$$.fragment),c=E(),h=oe(n[2]),f=E(),p=w("span"),H(m.$$.fragment),_=E(),v=oe(n[3]),y=E(),j=w("span"),H(b.$$.fragment),T=E(),P=oe(n[4]),A=E(),H(R.$$.fragment),we(e.src,t=n[1])||d(e,"src",t),d(e,"alt",n[0]),d(e,"class","svelte-1xcltvw"),d(s,"class","title svelte-1xcltvw"),d(l,"class","address svelte-1xcltvw"),d(p,"class","days svelte-1xcltvw"),d(j,"class","shipping svelte-1xcltvw"),d(i,"class","svelte-1xcltvw")},m(G,J){U(G,e,J),U(G,r,J),U(G,i,J),g(i,s),g(s,o),g(i,a),g(i,l),L(u,l,null),g(l,c),g(l,h),g(i,f),g(i,p),L(m,p,null),g(p,_),g(p,v),g(i,y),g(i,j),L(b,j,null),g(j,T),g(j,P),g(i,A),L(R,i,null),N=!0},p(G,J){(!N||J&2&&!we(e.src,t=G[1]))&&d(e,"src",t),(!N||J&1)&&d(e,"alt",G[0]),(!N||J&1)&&be(o,G[0]),(!N||J&4)&&be(h,G[2]),(!N||J&8)&&be(v,G[3]),(!N||J&16)&&be(P,G[4])},i(G){N||($(u.$$.fragment,G),$(m.$$.fragment,G),$(b.$$.fragment,G),$(R.$$.fragment,G),N=!0)},o(G){S(u.$$.fragment,G),S(m.$$.fragment,G),S(b.$$.fragment,G),S(R.$$.fragment,G),N=!1},d(G){G&&D(e),G&&D(r),G&&D(i),z(u),z(m),z(b),z(R)}}}function gu(n){let e,t,r;return t=new St({props:{to:"/food/"+n[0],$$slots:{default:[_u]},$$scope:{ctx:n}}}),{c(){e=w("article"),H(t.$$.fragment),d(e,"class","svelte-1xcltvw")},m(i,s){U(i,e,s),L(t,e,null),r=!0},p(i,[s]){const o={};s&1&&(o.to="/food/"+i[0]),s&63&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){S(t.$$.fragment,i),r=!1},d(i){i&&D(e),z(t)}}}function vu(n,e,t){let{title:r}=e,{icon:i}=e,{address:s}=e,{businessDays:o}=e,{shipping:a}=e;return n.$$set=l=>{"title"in l&&t(0,r=l.title),"icon"in l&&t(1,i=l.icon),"address"in l&&t(2,s=l.address),"businessDays"in l&&t(3,o=l.businessDays),"shipping"in l&&t(4,a=l.shipping)},[r,i,s,o,a]}class bu extends fe{constructor(e){super(),ce(this,e,vu,gu,ue,{title:0,icon:1,address:2,businessDays:3,shipping:4})}}function $i(n,e,t){const r=n.slice();return r[3]=e[t].imageStore,r[4]=e[t].nameStore,r[5]=e[t].addressStore,r[6]=e[t].schedule,r[7]=e[t].shippingStore,r}function yu(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function $u(n){let e,t,r=n[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=wi($i(n,r,o));const s=o=>S(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ie()},m(o,a){for(let l=0;l<i.length;l+=1)i[l].m(o,a);U(o,e,a),t=!0},p(o,a){if(a&1){r=o[2];let l;for(l=0;l<r.length;l+=1){const u=$i(o,r,l);i[l]?(i[l].p(u,a),$(i[l],1)):(i[l]=wi(u),i[l].c(),$(i[l],1),i[l].m(e.parentNode,e))}for(he(),l=r.length;l<i.length;l+=1)s(l);pe()}},i(o){if(!t){for(let a=0;a<r.length;a+=1)$(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)S(i[a]);t=!1},d(o){Te(i,o),o&&D(e)}}}function wi(n){let e,t;return e=new bu({props:{icon:n[3],title:n[4],address:n[5],businessDays:n[6],shipping:n[7]}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function wu(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function ku(n){let e,t,r,i,s,o={ctx:n,current:null,token:null,hasCatch:!1,pending:wu,then:$u,catch:yu,value:2,blocks:[,,,]};return We(n[0],o),{c(){e=w("section"),t=w("img"),i=E(),o.block.c(),we(t.src,r="/section/adds.jpg")||d(t,"src",r),d(t,"loading","lazy"),d(t,"alt","add section"),d(t,"class","svelte-qgofax"),d(e,"class","svelte-qgofax")},m(a,l){U(a,e,l),g(e,t),g(e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,s=!0},p(a,[l]){n=a,pt(o,n,l)},i(a){s||($(o.block),s=!0)},o(a){for(let l=0;l<3;l+=1){const u=o.blocks[l];S(u)}s=!1},d(a){a&&D(e),o.block.d(),o.token=null,o=null}}}function Su(n){return[(async()=>await(await fetch("https://ubifood-backend.deno.dev/ubifood/storesData")).json())()]}class Eu extends fe{constructor(e){super(),ce(this,e,Su,ku,ue,{})}}const Er=_e([]);function Cu(n){let e,t,r,i,s,o,a,l,u;return r=new ae({props:{name:"close",color:"hsl(0,0%,0%)",size:3}}),{c(){e=w("article"),t=w("button"),H(r.$$.fragment),i=E(),s=w("h2"),s.textContent="Informacion de contacto",d(t,"class","svelte-1lilyen"),d(s,"class","svelte-1lilyen"),d(e,"class",o=jn(n[0])+" svelte-1lilyen")},m(c,h){U(c,e,h),g(e,t),L(r,t,null),g(e,i),g(e,s),a=!0,l||(u=te(t,"click",n[1]),l=!0)},p(c,[h]){(!a||h&1&&o!==(o=jn(c[0])+" svelte-1lilyen"))&&d(e,"class",o)},i(c){a||($(r.$$.fragment,c),a=!0)},o(c){S(r.$$.fragment,c),a=!1},d(c){c&&D(e),z(r),l=!1,u()}}}let Bn=_e("");function Pu(n,e,t){let r,i=F;return de(n,Bn,o=>t(0,r=o)),n.$$.on_destroy.push(()=>i()),[r,()=>Oe(Bn,r="",r)]}class Ou extends fe{constructor(e){super(),ce(this,e,Pu,Cu,ue,{})}}function ki(n,e,t){const r=n.slice();return r[7]=e[t],r}function Si(n){let e,t,r,i,s;return{c(){e=w("button"),t=oe("Tu Pedido $"),r=oe(n[0]),d(e,"class","cart-open svelte-vq24rw")},m(o,a){U(o,e,a),g(e,t),g(e,r),i||(s=te(e,"click",n[5]),i=!0)},p(o,a){a&1&&be(r,o[0])},d(o){o&&D(e),i=!1,s()}}}function Ei(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_;r=new ae({props:{name:"arrow-left",color:"hsl(0,0%,0%)",size:2}});let v=n[1],y=[];for(let b=0;b<v.length;b+=1)y[b]=Ci(ki(n,v,b));const j=b=>S(y[b],1,1,()=>{y[b]=null});return f=new ae({props:{name:"bag-shopping",color:"hsl(0,0%,100%)",size:1.2}}),{c(){e=w("aside"),t=w("button"),H(r.$$.fragment),i=E(),s=w("h2"),s.textContent="Pedido",o=E(),a=w("span"),a.textContent="Tu carrito:",l=E();for(let b=0;b<y.length;b+=1)y[b].c();u=E(),c=w("a"),h=oe(`Hacer el pedido
      `),H(f.$$.fragment),d(t,"class","back svelte-vq24rw"),d(s,"class","svelte-vq24rw"),d(a,"class","svelte-vq24rw"),d(c,"class","pay svelte-vq24rw"),d(c,"href",n[3]),d(c,"target","_blank"),d(e,"class","svelte-vq24rw")},m(b,T){U(b,e,T),g(e,t),L(r,t,null),g(e,i),g(e,s),g(e,o),g(e,a),g(e,l);for(let P=0;P<y.length;P+=1)y[P].m(e,null);g(e,u),g(e,c),g(c,h),L(f,c,null),p=!0,m||(_=te(t,"click",n[6]),m=!0)},p(b,T){if(T&2){v=b[1];let P;for(P=0;P<v.length;P+=1){const A=ki(b,v,P);y[P]?(y[P].p(A,T),$(y[P],1)):(y[P]=Ci(A),y[P].c(),$(y[P],1),y[P].m(e,u))}for(he(),P=v.length;P<y.length;P+=1)j(P);pe()}(!p||T&8)&&d(c,"href",b[3])},i(b){if(!p){$(r.$$.fragment,b);for(let T=0;T<v.length;T+=1)$(y[T]);$(f.$$.fragment,b),p=!0}},o(b){S(r.$$.fragment,b),y=y.filter(Boolean);for(let T=0;T<y.length;T+=1)S(y[T]);S(f.$$.fragment,b),p=!1},d(b){b&&D(e),z(r),Te(y,b),z(f),m=!1,_()}}}function Ci(n){let e,t,r,i,s,o=n[7].productName+"",a,l,u,c,h=n[7].total+"",f,p,m,_,v,y,j=n[7].amount+"",b,T,P,A,R;return _=new ae({props:{name:"minus",color:"hsl(0,0%,0%)",size:1}}),A=new ae({props:{name:"plus",color:"hsl(0,0%,0%)",size:1}}),{c(){e=w("div"),t=w("img"),i=E(),s=w("span"),a=oe(o),l=E(),u=w("span"),c=oe("$"),f=oe(h),p=E(),m=w("button"),H(_.$$.fragment),v=E(),y=w("span"),b=oe(j),T=E(),P=w("button"),H(A.$$.fragment),we(t.src,r=n[7].iconProduct)||d(t,"src",r),d(t,"alt","icon"),d(t,"class","svelte-vq24rw"),d(s,"class","name-product svelte-vq24rw"),d(u,"class","price-total svelte-vq24rw"),d(m,"class","svelte-vq24rw"),d(y,"class","amount-total svelte-vq24rw"),d(P,"class","svelte-vq24rw"),d(e,"class","svelte-vq24rw")},m(N,G){U(N,e,G),g(e,t),g(e,i),g(e,s),g(s,a),g(e,l),g(e,u),g(u,c),g(u,f),g(e,p),g(e,m),L(_,m,null),g(e,v),g(e,y),g(y,b),g(e,T),g(e,P),L(A,P,null),R=!0},p(N,G){(!R||G&2&&!we(t.src,r=N[7].iconProduct))&&d(t,"src",r),(!R||G&2)&&o!==(o=N[7].productName+"")&&be(a,o),(!R||G&2)&&h!==(h=N[7].total+"")&&be(f,h),(!R||G&2)&&j!==(j=N[7].amount+"")&&be(b,j)},i(N){R||($(_.$$.fragment,N),$(A.$$.fragment,N),R=!0)},o(N){S(_.$$.fragment,N),S(A.$$.fragment,N),R=!1},d(N){N&&D(e),z(_),z(A)}}}function Pi(n){let e;return{c(){e=w("style"),e.textContent=`body {
      overflow: hidden;
    }`},m(t,r){U(t,e,r)},d(t){t&&D(e)}}}function Tu(n){let e,t,r,i,s=n[1].length>0&&Si(n),o=n[2]&&Ei(n),a=n[2]&&Pi();return{c(){s&&s.c(),e=E(),o&&o.c(),t=E(),a&&a.c(),r=Ie()},m(l,u){s&&s.m(l,u),U(l,e,u),o&&o.m(l,u),U(l,t,u),a&&a.m(document.head,null),g(document.head,r),i=!0},p(l,[u]){l[1].length>0?s?s.p(l,u):(s=Si(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),l[2]?o?(o.p(l,u),u&4&&$(o,1)):(o=Ei(l),o.c(),$(o,1),o.m(t.parentNode,t)):o&&(he(),S(o,1,1,()=>{o=null}),pe()),l[2]?a||(a=Pi(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(l){i||($(o),i=!0)},o(l){S(o),i=!1},d(l){s&&s.d(l),l&&D(e),o&&o.d(l),l&&D(t),a&&a.d(l),D(r)}}}let sn=_e([]);function Ru(n,e,t){let r,i=F;de(n,sn,h=>t(1,r=h)),n.$$.on_destroy.push(()=>i());let s=!1,o,a,l;const u=()=>t(2,s=!s),c=()=>t(2,s=!s);return n.$$.update=()=>{n.$$.dirty&19&&(t(4,o=r.map(h=>h.total)),t(0,a=o.reduce((h,f)=>h+f,0)),t(3,l=`https://api.whatsapp.com/send?phone=116578998&text=Hola%20$${a}`))},[a,r,s,l,o,u,c]}class ju extends fe{constructor(e){super(),ce(this,e,Ru,Tu,ue,{})}}function Au(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y;return i=new ae({props:{name:"minus",color:"hsl(0,0%,100%)",size:1.2}}),c=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:1.2}}),m=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:1}}),{c(){e=w("div"),t=oe(`Cantidad
  `),r=w("button"),H(i.$$.fragment),s=E(),o=w("span"),a=oe(n[0]),l=E(),u=w("button"),H(c.$$.fragment),h=E(),f=w("button"),p=oe(`Agregar al carrito
    `),H(m.$$.fragment),d(r,"class","minus svelte-19r3gju"),d(o,"class","svelte-19r3gju"),d(u,"class","add svelte-19r3gju"),d(e,"class","svelte-19r3gju"),d(f,"class","add-to-cart svelte-19r3gju")},m(j,b){U(j,e,b),g(e,t),g(e,r),L(i,r,null),g(e,s),g(e,o),g(o,a),g(e,l),g(e,u),L(c,u,null),U(j,h,b),U(j,f,b),g(f,p),L(m,f,null),_=!0,v||(y=[te(r,"click",n[1]),te(u,"click",n[7]),te(f,"click",n[6]),te(f,"click",n[2])],v=!0)},p(j,[b]){(!_||b&1)&&be(a,j[0])},i(j){_||($(i.$$.fragment,j),$(c.$$.fragment,j),$(m.$$.fragment,j),_=!0)},o(j){S(i.$$.fragment,j),S(c.$$.fragment,j),S(m.$$.fragment,j),_=!1},d(j){j&&D(e),z(i),z(c),j&&D(h),j&&D(f),z(m),v=!1,Re(y)}}}function Iu(n,e,t){let r,i;de(n,Er,m=>t(9,r=m)),de(n,sn,m=>t(10,i=m));let{productName:s}=e,{productPrice:o}=e,{iconProduct:a}=e,l=1;const u=()=>{l>1&&t(0,l=l-1)};let c;const h=()=>{c>=0&&r.splice(c,1),r.push({iconProduct:a,productName:s,amount:l,productPrice:o,total:l*o}),c=r.findIndex(m=>JSON.stringify(m)===JSON.stringify({productName:s,amount:l,productPrice:o,total:l*o})),Oe(sn,i=r,i),console.log(r)};function f(m){Lt.call(this,n,m)}const p=()=>t(0,l++,l);return n.$$set=m=>{"productName"in m&&t(3,s=m.productName),"productPrice"in m&&t(4,o=m.productPrice),"iconProduct"in m&&t(5,a=m.iconProduct)},[l,u,h,s,o,a,f,p]}class Mu extends fe{constructor(e){super(),ce(this,e,Iu,Au,ue,{productName:3,productPrice:4,iconProduct:5})}}function Oi(n){let e;return{c(){e=w("style"),e.textContent=`body {
      overflow: hidden;
    }`},m(t,r){U(t,e,r)},d(t){t&&D(e)}}}function Du(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N;r=new ae({props:{name:"arrow-left",color:"hsl(0,0%,100%)",size:2}}),j=new Mu({props:{productName:n[0],productPrice:n[2],iconProduct:n[3]}}),j.$on("click",n[6]);let G=n[4]&&Oi();return{c(){e=w("aside"),t=w("button"),H(r.$$.fragment),i=E(),s=w("img"),a=E(),l=w("h2"),u=oe(n[0]),c=E(),h=w("p"),f=oe(n[1]),p=E(),m=w("span"),_=oe("$"),v=oe(n[2]),y=E(),H(j.$$.fragment),T=E(),G&&G.c(),P=Ie(),d(t,"class","close svelte-lvi2gt"),we(s.src,o=n[3])||d(s,"src",o),d(s,"alt",n[0]),d(s,"class","svelte-lvi2gt"),d(l,"class","svelte-lvi2gt"),d(h,"class","svelte-lvi2gt"),d(m,"class","svelte-lvi2gt"),d(e,"class",b=jn(n[4])+" svelte-lvi2gt")},m(J,q){U(J,e,q),g(e,t),L(r,t,null),g(e,i),g(e,s),g(e,a),g(e,l),g(l,u),g(e,c),g(e,h),g(h,f),g(e,p),g(e,m),g(m,_),g(m,v),g(e,y),L(j,e,null),U(J,T,q),G&&G.m(document.head,null),g(document.head,P),A=!0,R||(N=te(t,"click",n[5]),R=!0)},p(J,[q]){(!A||q&8&&!we(s.src,o=J[3]))&&d(s,"src",o),(!A||q&1)&&d(s,"alt",J[0]),(!A||q&1)&&be(u,J[0]),(!A||q&2)&&be(f,J[1]),(!A||q&4)&&be(v,J[2]);const K={};q&1&&(K.productName=J[0]),q&4&&(K.productPrice=J[2]),q&8&&(K.iconProduct=J[3]),j.$set(K),(!A||q&16&&b!==(b=jn(J[4])+" svelte-lvi2gt"))&&d(e,"class",b),J[4]?G||(G=Oi(),G.c(),G.m(P.parentNode,P)):G&&(G.d(1),G=null)},i(J){A||($(r.$$.fragment,J),$(j.$$.fragment,J),A=!0)},o(J){S(r.$$.fragment,J),S(j.$$.fragment,J),A=!1},d(J){J&&D(e),z(r),z(j),J&&D(T),G&&G.d(J),D(P),R=!1,N()}}}function Nu(n,e,t){let{productName:r}=e,{productDescription:i}=e,{productPrice:s}=e,{iconProduct:o}=e,{selected:a}=e;function l(c){Lt.call(this,n,c)}function u(c){Lt.call(this,n,c)}return n.$$set=c=>{"productName"in c&&t(0,r=c.productName),"productDescription"in c&&t(1,i=c.productDescription),"productPrice"in c&&t(2,s=c.productPrice),"iconProduct"in c&&t(3,o=c.iconProduct),"selected"in c&&t(4,a=c.selected)},[r,i,s,o,a,l,u]}class Uu extends fe{constructor(e){super(),ce(this,e,Nu,Du,ue,{productName:0,productDescription:1,productPrice:2,iconProduct:3,selected:4})}}function Bu(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j;return _=new Uu({props:{productName:n[0],productDescription:n[1],productPrice:n[2],iconProduct:n[3],selected:n[4]}}),_.$on("click",n[6]),{c(){e=w("div"),t=w("img"),i=E(),s=w("span"),o=oe(n[0]),a=E(),l=w("span"),u=oe(n[1]),c=E(),h=w("span"),f=oe("$"),p=oe(n[2]),m=E(),H(_.$$.fragment),we(t.src,r=n[3])||d(t,"src",r),d(t,"alt",n[0]),d(t,"class","svelte-1p0lda"),d(s,"class","name svelte-1p0lda"),d(l,"class","description svelte-1p0lda"),d(h,"class","price svelte-1p0lda"),d(e,"class","svelte-1p0lda")},m(b,T){U(b,e,T),g(e,t),g(e,i),g(e,s),g(s,o),g(e,a),g(e,l),g(l,u),g(e,c),g(e,h),g(h,f),g(h,p),U(b,m,T),L(_,b,T),v=!0,y||(j=te(e,"click",n[5]),y=!0)},p(b,[T]){(!v||T&8&&!we(t.src,r=b[3]))&&d(t,"src",r),(!v||T&1)&&d(t,"alt",b[0]),(!v||T&1)&&be(o,b[0]),(!v||T&2)&&be(u,b[1]),(!v||T&4)&&be(p,b[2]);const P={};T&1&&(P.productName=b[0]),T&2&&(P.productDescription=b[1]),T&4&&(P.productPrice=b[2]),T&8&&(P.iconProduct=b[3]),T&16&&(P.selected=b[4]),_.$set(P)},i(b){v||($(_.$$.fragment,b),v=!0)},o(b){S(_.$$.fragment,b),v=!1},d(b){b&&D(e),b&&D(m),z(_,b),y=!1,j()}}}function Lu(n,e,t){let{productName:r}=e,{productDescription:i}=e,{productPrice:s}=e,{iconProduct:o}=e,a=!1;const l=()=>t(4,a=!a),u=()=>t(4,a=!a);return n.$$set=c=>{"productName"in c&&t(0,r=c.productName),"productDescription"in c&&t(1,i=c.productDescription),"productPrice"in c&&t(2,s=c.productPrice),"iconProduct"in c&&t(3,o=c.iconProduct)},[r,i,s,o,a,l,u]}class zu extends fe{constructor(e){super(),ce(this,e,Lu,Bu,ue,{productName:0,productDescription:1,productPrice:2,iconProduct:3})}}function Ti(n,e,t){const r=n.slice();return r[4]=e[t].nameCategories,r[5]=e[t].products,r[6]=e[t].menuStore,r[7]=e[t].nameStore,r}function Ri(n,e,t){const r=n.slice();return r[10]=e[t].descriptionProduct,r[11]=e[t].nameProduct,r[12]=e[t].priceProduct,r[13]=e[t].imageSrc,r}function ji(n,e,t){const r=n.slice();return r[16]=e[t].secure_url,r[17]=e[t].public_id,r}function Hu(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function Fu(n){let e,t,r=n[3],i=[];for(let o=0;o<r.length;o+=1)i[o]=Di(Ti(n,r,o));const s=o=>S(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ie()},m(o,a){for(let l=0;l<i.length;l+=1)i[l].m(o,a);U(o,e,a),t=!0},p(o,a){if(a&3){r=o[3];let l;for(l=0;l<r.length;l+=1){const u=Ti(o,r,l);i[l]?(i[l].p(u,a),$(i[l],1)):(i[l]=Di(u),i[l].c(),$(i[l],1),i[l].m(e.parentNode,e))}for(he(),l=r.length;l<i.length;l+=1)s(l);pe()}},i(o){if(!t){for(let a=0;a<r.length;a+=1)$(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)S(i[a]);t=!1},d(o){Te(i,o),o&&D(e)}}}function Ai(n){let e,t,r,i,s=n[4]+"",o,a,l,u,c=n[6],h=[];for(let _=0;_<c.length;_+=1)h[_]=Ii(ji(n,c,_));let f=n[5],p=[];for(let _=0;_<f.length;_+=1)p[_]=Mi(Ri(n,f,_));const m=_=>S(p[_],1,1,()=>{p[_]=null});return{c(){e=w("div");for(let _=0;_<h.length;_+=1)h[_].c();t=E(),r=w("article"),i=w("h2"),o=oe(s),a=E();for(let _=0;_<p.length;_+=1)p[_].c();l=E(),d(e,"class","menuStore svelte-pfa2ar"),d(i,"class","svelte-pfa2ar"),d(r,"class","svelte-pfa2ar")},m(_,v){U(_,e,v);for(let y=0;y<h.length;y+=1)h[y].m(e,null);U(_,t,v),U(_,r,v),g(r,i),g(i,o),g(r,a);for(let y=0;y<p.length;y+=1)p[y].m(r,null);g(r,l),u=!0},p(_,v){if(v&2){c=_[6];let y;for(y=0;y<c.length;y+=1){const j=ji(_,c,y);h[y]?h[y].p(j,v):(h[y]=Ii(j),h[y].c(),h[y].m(e,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=c.length}if(v&2){f=_[5];let y;for(y=0;y<f.length;y+=1){const j=Ri(_,f,y);p[y]?(p[y].p(j,v),$(p[y],1)):(p[y]=Mi(j),p[y].c(),$(p[y],1),p[y].m(r,l))}for(he(),y=f.length;y<p.length;y+=1)m(y);pe()}},i(_){if(!u){for(let v=0;v<f.length;v+=1)$(p[v]);u=!0}},o(_){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)S(p[v]);u=!1},d(_){_&&D(e),Te(h,_),_&&D(t),_&&D(r),Te(p,_)}}}function Ii(n){let e,t;return{c(){e=w("img"),we(e.src,t=n[16])||d(e,"src",t),d(e,"alt",n[17]),d(e,"class","svelte-pfa2ar")},m(r,i){U(r,e,i)},p:F,d(r){r&&D(e)}}}function Mi(n){let e,t;return e=new zu({props:{productName:n[11],productDescription:n[10],productPrice:n[12],iconProduct:n[13].secure_url}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Di(n){let e=n[7]===n[0].replace("%20"," "),t,r,i=e&&Ai(n);return{c(){i&&i.c(),t=Ie()},m(s,o){i&&i.m(s,o),U(s,t,o),r=!0},p(s,o){o&1&&(e=s[7]===s[0].replace("%20"," ")),e?i?(i.p(s,o),o&1&&$(i,1)):(i=Ai(s),i.c(),$(i,1),i.m(t.parentNode,t)):i&&(he(),S(i,1,1,()=>{i=null}),pe())},i(s){r||($(i),r=!0)},o(s){S(i),r=!1},d(s){i&&i.d(s),s&&D(t)}}}function Gu(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function qu(n){let e,t,r,i,s={ctx:n,current:null,token:null,hasCatch:!1,pending:Gu,then:Fu,catch:Hu,value:3,blocks:[,,,]};return We(n[1],s),{c(){e=w("section"),t=w("span"),t.textContent="MENU",r=E(),s.block.c(),d(t,"class","svelte-pfa2ar"),d(e,"class","svelte-pfa2ar")},m(o,a){U(o,e,a),g(e,t),g(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,i=!0},p(o,[a]){n=o,pt(s,n,a)},i(o){i||($(s.block),i=!0)},o(o){for(let a=0;a<3;a+=1){const l=s.blocks[a];S(l)}i=!1},d(o){o&&D(e),s.block.d(),s.token=null,s=null}}}function xu(n,e,t){let r;de(n,Un,o=>t(0,r=o));let s=(async()=>{const a=await(await fetch("https://ubifood-backend.deno.dev/ubifood/storesData")).json();let l=[];a.map(({categories:c,menuStore:h,nameStore:f})=>{c.map(p=>{l.push(Object.assign({},p,{products:[]},{menuStore:h},{nameStore:f}))})});let u=[];return a.map(c=>{for(const h in c)h.length===21&&u.push(Object.assign({},{idProduct:h},...c[h]))}),l.map(c=>{u.map(({idCategories:h,descriptionProduct:f,idProduct:p,imageProduct:m,nameProduct:_,priceProduct:v,imageSrc:y})=>{c.idCategories===h&&c.products.push(Object.assign({},{descriptionProduct:f,idProduct:p,nameProduct:_,priceProduct:v},{imageProduct:"2710"},{imageSrc:y}))})}),console.log(l),l})();return[r,s]}class Wu extends fe{constructor(e){super(),ce(this,e,xu,qu,ue,{})}}function Ni(n,e,t){const r=n.slice();return r[9]=e[t].nameStore,r[10]=e[t].imageStore,r[11]=e[t].addressStore,r[12]=e[t].schedule,r[13]=e[t].shippingStore,r}function Ju(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function Vu(n){let e,t,r,i=n[8],s=[];for(let a=0;a<i.length;a+=1)s[a]=Bi(Ni(n,i,a));const o=a=>S(s[a],1,1,()=>{s[a]=null});return t=new ju({}),{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=E(),H(t.$$.fragment)},m(a,l){for(let u=0;u<s.length;u+=1)s[u].m(a,l);U(a,e,l),L(t,a,l),r=!0},p(a,l){if(l&31){i=a[8];let u;for(u=0;u<i.length;u+=1){const c=Ni(a,i,u);s[u]?(s[u].p(c,l),$(s[u],1)):(s[u]=Bi(c),s[u].c(),$(s[u],1),s[u].m(e.parentNode,e))}for(he(),u=i.length;u<s.length;u+=1)o(u);pe()}},i(a){if(!r){for(let l=0;l<i.length;l+=1)$(s[l]);$(t.$$.fragment,a),r=!0}},o(a){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)S(s[l]);S(t.$$.fragment,a),r=!1},d(a){Te(s,a),a&&D(e),z(t,a)}}}function Ui(n){let e,t,r,i,s,o,a,l,u=n[9]+"",c,h,f,p,m,_=n[11]+"",v,y,j,b,T,P=n[12]+"",A,R,N,G,J,q=n[13]+"",K,V,Z,Q,ie,ge,Y,X,se;return t=new St({props:{to:"/",$$slots:{default:[Ku]},$$scope:{ctx:n}}}),t.$on("click",n[5]),p=new ae({props:{name:"location-dot",color:"hsl(0,0%,100%)",size:1}}),b=new ae({props:{name:"clock",color:"hsl(0,0%,100%)",size:1}}),G=new ae({props:{name:"truck",color:"hsl(0,0%,100%)",size:1}}),Q=new ae({props:{name:"phone",color:"hsl(0,0%,100%)",size:1.7}}),ge=new Wu({}),{c(){e=w("header"),H(t.$$.fragment),r=E(),i=w("img"),o=E(),a=w("address"),l=w("h2"),c=oe(u),h=E(),f=w("span"),H(p.$$.fragment),m=E(),v=oe(_),y=E(),j=w("span"),H(b.$$.fragment),T=E(),A=oe(P),R=E(),N=w("span"),H(G.$$.fragment),J=oe(`
        Envio `),K=oe(q),V=E(),Z=w("button"),H(Q.$$.fragment),ie=E(),H(ge.$$.fragment),we(i.src,s=n[10])||d(i,"src",s),d(i,"alt","icon"),d(i,"class","svelte-1sjzgdf"),d(l,"class","svelte-1sjzgdf"),d(f,"class","svelte-1sjzgdf"),d(j,"class","svelte-1sjzgdf"),d(N,"class","svelte-1sjzgdf"),d(a,"class","svelte-1sjzgdf"),d(Z,"class","svelte-1sjzgdf"),d(e,"class","svelte-1sjzgdf")},m(I,k){U(I,e,k),L(t,e,null),g(e,r),g(e,i),g(e,o),g(e,a),g(a,l),g(l,c),g(a,h),g(a,f),L(p,f,null),g(f,m),g(f,v),g(a,y),g(a,j),L(b,j,null),g(j,T),g(j,A),g(a,R),g(a,N),L(G,N,null),g(N,J),g(N,K),g(e,V),g(e,Z),L(Q,Z,null),U(I,ie,k),L(ge,I,k),Y=!0,X||(se=te(Z,"click",n[6]),X=!0)},p(I,k){const O={};k&65536&&(O.$$scope={dirty:k,ctx:I}),t.$set(O)},i(I){Y||($(t.$$.fragment,I),$(p.$$.fragment,I),$(b.$$.fragment,I),$(G.$$.fragment,I),$(Q.$$.fragment,I),$(ge.$$.fragment,I),Y=!0)},o(I){S(t.$$.fragment,I),S(p.$$.fragment,I),S(b.$$.fragment,I),S(G.$$.fragment,I),S(Q.$$.fragment,I),S(ge.$$.fragment,I),Y=!1},d(I){I&&D(e),z(t),z(p),z(b),z(G),z(Q),I&&D(ie),z(ge,I),X=!1,se()}}}function Ku(n){let e,t;return e=new ae({props:{name:"arrow-left",color:"hsl(0,0%,100%)",size:1.5}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Bi(n){let e=n[9]===n[0].replace("%20"," "),t,r,i=e&&Ui(n);return{c(){i&&i.c(),t=Ie()},m(s,o){i&&i.m(s,o),U(s,t,o),r=!0},p(s,o){o&1&&(e=s[9]===s[0].replace("%20"," ")),e?i?(i.p(s,o),o&1&&$(i,1)):(i=Ui(s),i.c(),$(i,1),i.m(t.parentNode,t)):i&&(he(),S(i,1,1,()=>{i=null}),pe())},i(s){r||($(i),r=!0)},o(s){S(i),r=!1},d(s){i&&i.d(s),s&&D(t)}}}function Qu(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function Yu(n){let e,t,r,i,s={ctx:n,current:null,token:null,hasCatch:!1,pending:Qu,then:Vu,catch:Ju,value:8,blocks:[,,,]};return We(n[4],s),r=new Ou({}),{c(){e=w("main"),s.block.c(),t=E(),H(r.$$.fragment),d(e,"class","svelte-1sjzgdf")},m(o,a){U(o,e,a),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,U(o,t,a),L(r,o,a),i=!0},p(o,[a]){n=o,pt(s,n,a)},i(o){i||($(s.block),$(r.$$.fragment,o),i=!0)},o(o){for(let a=0;a<3;a+=1){const l=s.blocks[a];S(l)}S(r.$$.fragment,o),i=!1},d(o){o&&D(e),s.block.d(),s.token=null,s=null,o&&D(t),z(r,o)}}}function Xu(n,e,t){let r,i,s,o;de(n,Un,h=>t(0,r=h)),de(n,sn,h=>t(1,i=h)),de(n,Er,h=>t(2,s=h)),de(n,Bn,h=>t(3,o=h));let l=(async()=>await(await fetch("https://ubifood-backend.deno.dev/ubifood/storesData")).json())();return[r,i,s,o,l,()=>{Oe(sn,i=[],i),Oe(Er,s=[],s)},()=>Oe(Bn,o="visible",o)]}class Zu extends fe{constructor(e){super(),ce(this,e,Xu,Yu,ue,{})}}const ec="1.35.6",Uo={"X-Client-Info":`supabase-js/${ec}`},tc="supabase.auth.token";function nc(n){return n.replace(/\/$/,"")}const rc=()=>typeof window<"u",ic="1.22.22",sc="http://localhost:9999",oc={"X-Client-Info":`gotrue-js/${ic}`},yn=10,ut={ERROR_MESSAGE:"Request Failed",MAX_RETRIES:10,RETRY_INTERVAL:2},Kt="supabase.auth.token",lc={name:"sb",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};var dn=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const ac=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uc=(n,e)=>{if(!(n!=null&&n.status))return e({message:ut.ERROR_MESSAGE});if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:ac(t),status:(n==null?void 0:n.status)||500}))},cc=(n,e,t)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(t)),r};function qn(n,e,t,r,i){return dn(this,void 0,void 0,function*(){return new Promise((s,o)=>{n(t,cc(e,r,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?s:a.json()}).then(a=>s(a)).catch(a=>uc(a,o))})})}function _r(n,e,t){return dn(this,void 0,void 0,function*(){return qn(n,"GET",e,t)})}function Me(n,e,t,r){return dn(this,void 0,void 0,function*(){return qn(n,"POST",e,r,t)})}function Li(n,e,t,r){return dn(this,void 0,void 0,function*(){return qn(n,"PUT",e,r,t)})}function fc(n,e,t,r){return dn(this,void 0,void 0,function*(){return qn(n,"DELETE",e,r,t)})}function dc(n,e,t){const r=t||{},i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!s.test(n))throw new TypeError("argument name is invalid");const o=i(e);if(o&&!s.test(o))throw new TypeError("argument val is invalid");let a=n+"="+o;if(r.maxAge!=null){const l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function hc(n){if(!n||!n.headers||!n.headers.host)throw new Error('The "host" request header is not available');const e=n.headers.host.indexOf(":")>-1&&n.headers.host.split(":")[0]||n.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function pc(n,e){var t,r,i;return dc(n.name,n.value,{maxAge:n.maxAge,expires:new Date(Date.now()+n.maxAge*1e3),httpOnly:!0,secure:e,path:(t=n.path)!==null&&t!==void 0?t:"/",domain:(r=n.domain)!==null&&r!==void 0?r:"",sameSite:(i=n.sameSite)!==null&&i!==void 0?i:"lax"})}function Cr(n,e,t){const r=t.map(s=>pc(s,hc(n))),i=e.getHeader("Set-Cookie");return i&&(i instanceof Array?Array.prototype.push.apply(r,i):typeof i=="string"&&r.push(i)),r}function $n(n,e,t){e.setHeader("Set-Cookie",Cr(n,e,t))}const mc="modulepreload",_c=function(n){return"/"+n},zi={},xn=function(e,t,r){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=_c(i),i in zi)return;zi[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":mc,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((l,u)=>{a.addEventListener("load",l),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var Wn=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};function Xe(n){return Math.round(Date.now()/1e3)+n}function gc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u";function Ze(n,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const vc=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Wn(void 0,void 0,void 0,function*(){return yield(yield xn(()=>import("./browser-ponyfill.564fad46.js").then(r=>r.b),[])).fetch(...t)}):e=fetch,(...t)=>e(...t)},bc=(n,e,t)=>Wn(void 0,void 0,void 0,function*(){Qe()&&(yield n==null?void 0:n.setItem(e,JSON.stringify(t)))}),yc=(n,e)=>Wn(void 0,void 0,void 0,function*(){const t=Qe()&&(yield n==null?void 0:n.getItem(e));if(!t)return null;try{return JSON.parse(t)}catch{return t}}),$c=(n,e)=>{const t=Qe()&&(n==null?void 0:n.getItem(e));if(!t||typeof t!="string")return null;try{return JSON.parse(t)}catch{return t}},wc=(n,e)=>Wn(void 0,void 0,void 0,function*(){Qe()&&(yield n==null?void 0:n.removeItem(e))});var Ee=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class kc{constructor({url:e="",headers:t={},cookieOptions:r,fetch:i}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},lc),r),this.fetch=vc(i)}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const i=new URLSearchParams(t.queryParams);r.push(`${i}`)}return`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let s="";r.redirectTo&&(s="?redirect_to="+encodeURIComponent(r.redirectTo));const o=yield Me(this.fetch,`${this.url}/signup${s}`,{email:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Xe(o.expires_in)),{data:a,error:null}}catch(i){return{data:null,error:i}}})}signInWithEmail(e,t,r={}){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let s="?grant_type=password";r.redirectTo&&(s+="&redirect_to="+encodeURIComponent(r.redirectTo));const o=yield Me(this.fetch,`${this.url}/token${s}`,{email:e,password:t,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Xe(o.expires_in)),{data:a,error:null}}catch(i){return{data:null,error:i}}})}signUpWithPhone(e,t,r={}){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),s=yield Me(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),o=Object.assign({},s);return o.expires_in&&(o.expires_at=Xe(s.expires_in)),{data:o,error:null}}catch(i){return{data:null,error:i}}})}signInWithPhone(e,t,r={}){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),s="?grant_type=password",o=yield Me(this.fetch,`${this.url}/token${s}`,{phone:e,password:t,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Xe(o.expires_in)),{data:a,error:null}}catch(i){return{data:null,error:i}}})}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:i,provider:s}){return Ee(this,void 0,void 0,function*(){try{const o=Object.assign({},this.headers),a="?grant_type=id_token",l=yield Me(this.fetch,`${this.url}/token${a}`,{id_token:e,nonce:t,client_id:r,issuer:i,provider:s},{headers:o}),u=Object.assign({},l);return u.expires_in&&(u.expires_at=Xe(l.expires_in)),{data:u,error:null}}catch(o){return{data:null,error:o}}})}sendMagicLinkEmail(e,t={}){var r;return Ee(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let s="";t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo));const o=(r=t.shouldCreateUser)!==null&&r!==void 0?r:!0;return{data:yield Me(this.fetch,`${this.url}/otp${s}`,{email:e,create_user:o,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}sendMobileOTP(e,t={}){var r;return Ee(this,void 0,void 0,function*(){try{const i=(r=t.shouldCreateUser)!==null&&r!==void 0?r:!0,s=Object.assign({},this.headers);return{data:yield Me(this.fetch,`${this.url}/otp`,{phone:e,create_user:i,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:s}),error:null}}catch(i){return{data:null,error:i}}})}signOut(e){return Ee(this,void 0,void 0,function*(){try{return yield Me(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}verifyMobileOTP(e,t,r={}){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),s=yield Me(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:i}),o=Object.assign({},s);return o.expires_in&&(o.expires_at=Xe(s.expires_in)),{data:o,error:null}}catch(i){return{data:null,error:i}}})}verifyOTP({email:e,phone:t,token:r,type:i="sms"},s={}){return Ee(this,void 0,void 0,function*(){try{const o=Object.assign({},this.headers),a=yield Me(this.fetch,`${this.url}/verify`,{email:e,phone:t,token:r,type:i,redirect_to:s.redirectTo},{headers:o}),l=Object.assign({},a);return l.expires_in&&(l.expires_at=Xe(a.expires_in)),{data:l,error:null}}catch(o){return{data:null,error:o}}})}inviteUserByEmail(e,t={}){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";return t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Me(this.fetch,`${this.url}/invite${i}`,{email:e,data:t.data},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}resetPasswordForEmail(e,t={}){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";return t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Me(this.fetch,`${this.url}/recover${i}`,{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}refreshAccessToken(e){return Ee(this,void 0,void 0,function*(){try{const t=yield Me(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=Xe(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:i}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");$n(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map(s=>{var o;return{name:`${this.cookieName()}-${s.key}`,value:s.value,domain:this.cookieOptions.domain,maxAge:(o=this.cookieOptions.lifetime)!==null&&o!==void 0?o:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}r==="SIGNED_OUT"&&$n(e,t,["access-token","refresh-token"].map(s=>({name:`${this.cookieName()}-${s}`,value:"",maxAge:-1}))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:r="/"}){return $n(e,t,["access-token","refresh-token"].map(i=>({name:`${this.cookieName()}-${i}`,value:"",maxAge:-1}))),t.redirect(307,r)}getAuthCookieString(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:i}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");return Cr(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map(s=>{var o;return{name:`${this.cookieName()}-${s.key}`,value:s.value,domain:this.cookieOptions.domain,maxAge:(o=this.cookieOptions.lifetime)!==null&&o!==void 0?o:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}return r==="SIGNED_OUT"?Cr(e,t,["access-token","refresh-token"].map(s=>({name:`${this.cookieName()}-${s}`,value:"",maxAge:-1}))):t.getHeader("Set-Cookie")}generateLink(e,t,r={}){return Ee(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(i){return{data:null,error:i}}})}createUser(e){return Ee(this,void 0,void 0,function*(){try{const t=yield Me(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}listUsers(){return Ee(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getUserByCookie(e,t){return Ee(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const r=e.cookies[`${this.cookieName()}-access-token`],i=e.cookies[`${this.cookieName()}-refresh-token`];if(!r)throw new Error("No cookie found!");const{user:s,error:o}=yield this.getUser(r);if(o){if(!i)throw new Error("No refresh_token cookie found!");if(!t)throw new Error("You need to pass the res object to automatically refresh the session!");const{data:a,error:l}=yield this.refreshAccessToken(i);if(l)throw l;if(a)return $n(e,t,[{key:"access-token",value:a.access_token},{key:"refresh-token",value:a.refresh_token}].map(u=>{var c;return{name:`${this.cookieName()}-${u.key}`,value:u.value,domain:this.cookieOptions.domain,maxAge:(c=this.cookieOptions.lifetime)!==null&&c!==void 0?c:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})),{token:a.access_token,user:a.user,data:a.user,error:null}}return{token:r,user:s,data:s,error:null}}catch(r){return{token:null,user:null,data:null,error:r}}})}updateUserById(e,t){return Ee(this,void 0,void 0,function*(){try{const r=yield Li(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}deleteUser(e){return Ee(this,void 0,void 0,function*(){try{const t=yield fc(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}getUser(e){return Ee(this,void 0,void 0,function*(){try{const t=yield _r(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return Ee(this,void 0,void 0,function*(){try{const r=yield Li(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}}function Sc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var De=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};Sc();const Ec={url:sc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:oc};class Cc{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0;const t=Object.assign(Object.assign({},Ec),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new kc({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),this._handleVisibilityChange(),t.detectSessionInUrl&&Qe()&&!!Ze("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:r})=>{if(r)throw new Error("Error getting session from URL.")})}signUp({email:e,password:t,phone:r},i={}){return De(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:o}=r&&t?yield this.api.signUpWithPhone(r,t,{data:i.data,captchaToken:i.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:i.redirectTo,data:i.data,captchaToken:i.captchaToken});if(o)throw o;if(!s)throw"An error occurred on sign up.";let a=null,l=null;return s.access_token&&(a=s,l=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(l=s),{user:l,session:a,error:null}}catch(s){return{user:null,session:null,error:s}}})}signIn({email:e,phone:t,password:r,refreshToken:i,provider:s,oidc:o},a={}){return De(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){const{error:l}=yield this.api.sendMagicLinkEmail(e,{redirectTo:a.redirectTo,shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:l}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:a.redirectTo,captchaToken:a.captchaToken});if(t&&!r){const{error:l}=yield this.api.sendMobileOTP(t,{shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:l}}if(t&&r)return this._handlePhoneSignIn(t,r);if(i){const{error:l}=yield this._callRefreshToken(i);if(l)throw l;return{user:this.currentUser,session:this.currentSession,error:null}}if(s)return this._handleProviderSignIn(s,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});if(o)return this._handleOpenIDConnectSignIn(o);throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(l){return{user:null,session:null,error:l}}})}verifyOTP(e,t={}){return De(this,void 0,void 0,function*(){try{this._removeSession();const{data:r,error:i}=yield this.api.verifyOTP(e,t);if(i)throw i;if(!r)throw"An error occurred on token verification.";let s=null,o=null;return r.access_token&&(s=r,o=s.user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(o=r),{user:o,session:s,error:null}}catch(r){return{user:null,session:null,error:r}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return De(this,void 0,void 0,function*(){try{if(!(!((e=this.currentSession)===null||e===void 0)&&e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return De(this,void 0,void 0,function*(){try{if(!(!((t=this.currentSession)===null||t===void 0)&&t.access_token))throw new Error("Not logged in.");const{user:r,error:i}=yield this.api.updateUser(this.currentSession.access_token,e);if(i)throw i;if(!r)throw Error("Invalid user data.");const s=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}})}setSession(e){return De(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this._notifyAllSubscribers("TOKEN_REFRESHED"),this.currentSession}getSessionFromUrl(e){return De(this,void 0,void 0,function*(){try{if(!Qe())throw new Error("No browser detected.");const t=Ze("error_description");if(t)throw new Error(t);const r=Ze("provider_token"),i=Ze("access_token");if(!i)throw new Error("No access_token detected.");const s=Ze("expires_in");if(!s)throw new Error("No expires_in detected.");const o=Ze("refresh_token");if(!o)throw new Error("No refresh_token detected.");const a=Ze("token_type");if(!a)throw new Error("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(s),{user:c,error:h}=yield this.api.getUser(i);if(h)throw h;const f={provider_token:r,access_token:i,expires_in:parseInt(s),expires_at:u,refresh_token:o,token_type:a,user:c};if(e!=null&&e.storeSession){this._saveSession(f);const p=Ze("type");this._notifyAllSubscribers("SIGNED_IN"),p==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:f,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return De(this,void 0,void 0,function*(){const t=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:r}=yield this.api.signOut(t);if(r)return{error:r}}return{error:null}})}onAuthStateChange(e){try{const t=gc(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var i,s;return De(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo,captchaToken:r.captchaToken});return a||!o?{data:null,user:null,session:null,error:a}:((((i=o==null?void 0:o.user)===null||i===void 0?void 0:i.confirmed_at)||((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,t,r={}){var i;return De(this,void 0,void 0,function*(){try{const{data:s,error:o}=yield this.api.signInWithPhone(e,t,r);return o||!s?{data:null,user:null,session:null,error:o}:(!((i=s==null?void 0:s.user)===null||i===void 0)&&i.phone_confirmed_at&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(s){return{data:null,user:null,session:null,error:s}}})}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});try{return Qe()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(i){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:i}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:r,issuer:i,provider:s}){return De(this,void 0,void 0,function*(){if(e&&t&&(r&&i||s))try{const{data:o,error:a}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:i,provider:s});return a||!o?{user:null,session:null,error:a}:(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN"),{user:o.user,session:o,error:null})}catch(o){return{user:null,session:null,error:o}}throw new Error("You must provide a OpenID Connect provider with your id token and nonce.")})}_recoverSession(){try{const e=$c(this.localStorage,Kt);if(!e)return null;const{currentSession:t,expiresAt:r}=e,i=Math.round(Date.now()/1e3);r>=i+yn&&(t==null?void 0:t.user)&&(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return De(this,void 0,void 0,function*(){try{const e=yield yc(this.localStorage,Kt);if(!e)return null;const{currentSession:t,expiresAt:r}=e,i=Math.round(Date.now()/1e3);if(r<i+yn)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:s}=yield this._callRefreshToken(t.refresh_token);if(s){if(console.log(s.message),s.message===ut.ERROR_MESSAGE&&this.networkRetries<ut.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(ut.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else this._removeSession();else t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return e===void 0&&(e=(t=this.currentSession)===null||t===void 0?void 0:t.refresh_token),De(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:i}=yield this.api.refreshAccessToken(e);if(i)throw i;if(!r)throw Error("Invalid session data.");return this._saveSession(r),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:r,error:null}}catch(r){return{data:null,error:r}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),i=t-r,s=i>yn?yn:.5;this._startAutoRefreshToken((i-s)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};bc(this.localStorage,Kt,t)}_removeSession(){return De(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),wc(this.localStorage,Kt)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>De(this,void 0,void 0,function*(){this.networkRetries++;const{error:t}=yield this._callRefreshToken();t||(this.networkRetries=0),(t==null?void 0:t.message)===ut.ERROR_MESSAGE&&this.networkRetries<ut.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(ut.RETRY_INTERVAL,this.networkRetries)*100)}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!Qe()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var t;if(e.key===Kt){const r=JSON.parse(String(e.newValue));!((t=r==null?void 0:r.currentSession)===null||t===void 0)&&t.access_token?(this._saveSession(r.currentSession),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}_handleVisibilityChange(){if(!this.multiTab||!Qe()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this._recoverAndRefresh()})}catch(e){console.error("_handleVisibilityChange",e)}}}class Pc extends Cc{constructor(e){super(e)}}var Hi=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class Qr{constructor(e){Object.assign(this,e);let t;e.fetch?t=e.fetch:typeof fetch>"u"?t=(...r)=>Hi(this,void 0,void 0,function*(){return yield(yield xn(()=>import("./browser-ponyfill.564fad46.js").then(i=>i.b),[])).fetch(...r)}):t=fetch,this.fetch=(...r)=>t(...r),this.shouldThrowOnError=e.shouldThrowOnError||!1,this.allowEmpty=e.allowEmpty||!1}throwOnError(e){return e==null&&(e=!0),this.shouldThrowOnError=e,this}then(e,t){typeof this.schema>"u"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>Hi(this,void 0,void 0,function*(){var s,o,a,l;let u=null,c=null,h=null,f=i.status,p=i.statusText;if(i.ok){const _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!_){const j=yield i.text();j&&(this.headers.Accept==="text/csv"?c=j:c=JSON.parse(j))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&y&&y.length>1&&(h=parseInt(y[1]))}else{const _=yield i.text();try{u=JSON.parse(_)}catch{u={message:_}}if(u&&this.allowEmpty&&((l=u==null?void 0:u.details)===null||l===void 0?void 0:l.includes("Results contain 0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:c,count:h,status:f,statusText:p,body:c}}));return this.shouldThrowOnError||(r=r.catch(i=>({error:{message:`FetchError: ${i.message}`,details:"",hint:"",code:i.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class Oc extends Qr{select(e="*"){let t=!1;const r=e.split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:i}={}){const s=typeof i>"u"?"order":`${i}.order`,o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}}class Dt extends Oc{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=typeof t>"u"?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i=null}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${s}fts${o}.${t}`),this}fts(e,t,{config:r}={}){const i=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${i}.${t}`),this}plfts(e,t,{config:r}={}){const i=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${i}.${t}`),this}phfts(e,t,{config:r}={}){const i=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${i}.${t}`),this}wfts(e,t,{config:r}={}){const i=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${i}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class Bo extends Qr{constructor(e,{headers:t={},schema:r,fetch:i,shouldThrowOnError:s}={}){super({fetch:i,shouldThrowOnError:s}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let i=!1;const s=e.split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new Dt(this)}insert(e,{upsert:t=!1,onConflict:r,returning:i="representation",count:s=null}={}){this.method="POST";const o=[`return=${i}`];if(t&&o.push("resolution=merge-duplicates"),t&&r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Dt(this)}upsert(e,{onConflict:t,returning:r="representation",count:i=null,ignoreDuplicates:s=!1}={}){this.method="POST";const o=[`resolution=${s?"ignore":"merge"}-duplicates`,`return=${r}`];return t!==void 0&&this.url.searchParams.set("on_conflict",t),this.body=e,i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new Dt(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const i=[`return=${t}`];return this.body=e,r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Dt(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Dt(this)}}class Tc extends Qr{constructor(e,{headers:t={},schema:r,fetch:i,shouldThrowOnError:s}={}){super({fetch:i,shouldThrowOnError:s}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([i,s])=>{this.url.searchParams.append(i,s)})):(this.method="POST",this.body=e),r&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new Dt(this)}}const Rc="0.37.4",jc={"X-Client-Info":`postgrest-js/${Rc}`};class Ac{constructor(e,{headers:t={},schema:r,fetch:i,throwOnError:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},jc),t),this.schema=r,this.fetch=i,this.shouldThrowOnError=s}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new Bo(t,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:i=null}={}){const s=`${this.url}/rpc/${e}`;return new Tc(s,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:r,count:i})}}var $e;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})($e||($e={}));const Fi=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Ic(o,n,e,i),s),{})},Ic=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?Lo(s,o):Pr(o)},Lo=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Uc(e,t)}switch(n){case $e.bool:return Mc(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return Dc(e);case $e.json:case $e.jsonb:return Nc(e);case $e.timestamp:return Bc(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Pr(e);default:return Pr(e)}},Pr=n=>n,Mc=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Dc=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Nc=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Uc=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Lo(e,a))}return n},Bc=n=>typeof n=="string"?n.replace(" ","T"):n;var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gr,Gi;function Lc(){if(Gi)return gr;Gi=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return gr=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),gr}const zc="websocket",Hc="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Fc=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Gc="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",qc=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],xc="1.0.34",Wc={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Jc="https://github.com/theturtle32/WebSocket-Node",Vc={node:">=4.0.0"},Kc={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Qc={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Yc={verbose:!1},Xc={test:"tape test/unit/*.js",gulp:"gulp"},Zc="index",ef={lib:"./lib"},tf="lib/browser.js",nf="Apache-2.0",rf={name:zc,description:Hc,keywords:Fc,author:Gc,contributors:qc,version:xc,repository:Wc,homepage:Jc,engines:Vc,dependencies:Kc,devDependencies:Qc,config:Yc,scripts:Xc,main:Zc,directories:ef,browser:tf,license:nf};var sf=rf.version,ft;if(typeof globalThis=="object")ft=globalThis;else try{ft=Lc()}catch{}finally{if(!ft&&typeof window<"u"&&(ft=window),!ft)throw new Error("Could not determine global this")}var on=ft.WebSocket||ft.MozWebSocket,of=sf;function zo(n,e){var t;return e?t=new on(n,e):t=new on(n),t}on&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(zo,n,{get:function(){return on[n]}})});var lf={w3cwebsocket:on?zo:null,version:of};const af="1.7.4",uf={"X-Client-Info":`realtime-js/${af}`},cf="1.0.0",Ho=1e4,ff=1e3;var en;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(en||(en={}));var Ne;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ne||(Ne={}));var qe;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(qe||(qe={}));var Or;(function(n){n.websocket="websocket"})(Or||(Or={}));var dt;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(dt||(dt={}));class Fo{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class df{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class vr{constructor(e,t,r={},i=Ho){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel.on(this.refEvent,e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class hf{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new vr(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Fo(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=Ne.closed,this.socket.remove(this)}),this.onError(i=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.on(qe.reply,(i,s)=>{this.trigger(this.replyEventName(s),i)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(qe.close,e)}onError(e){this.on(qe.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vr(this,e,t,r);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(qe.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new vr(this,qe.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:i,error:s,leave:o,join:a}=qe;if(r&&[i,s,o,a].indexOf(e)>=0&&r!==this.joinRef())return;let u=this.onMessage(e,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(c=>c.event==="*"?e===(t==null?void 0:t.type):c.event===e).map(c=>c.callback(u,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===Ne.closed}isErrored(){return this.state===Ne.errored}isJoined(){return this.state===Ne.joined}isJoining(){return this.state===Ne.joining}isLeaving(){return this.state===Ne.leaving}}var pf=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const mf=()=>{};class _f{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=uf,this.params={},this.timeout=Ho,this.transport=lf.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mf,this.conn=null,this.sendBuffer=[],this.serializer=new df,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${Or.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),t!=null&&t.longpollerTimeout&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,i)=>i(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fo(()=>pf(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,i)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(s){r({error:s,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return dt.Connecting;case en.open:return dt.Open;case en.closing:return dt.Closing;default:return dt.Closed}}isConnected(){return this.connectionState()===dt.Open}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){const r=new hf(e,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e;let o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a.isMember(r)).forEach(a=>a.trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cf}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(qe.access_token,{access_token:e})})}leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r.isJoined()||r.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(qe.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ff,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class gf{constructor(e,t,r,i){const s={},o=i==="*"?`realtime:${r}`:`realtime:${r}:${i}`,a=t.Authorization.split(" ")[1];a&&(s.user_token=a),this.subscription=e.channel(o,s)}getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Fi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Fi(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,r=>{let i={schema:r.schema,table:r.table,commit_timestamp:r.commit_timestamp,eventType:r.type,new:{},old:{},errors:r.errors};i=Object.assign(Object.assign({},i),this.getPayloadRecords(r)),t(i)}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class vf extends Bo{constructor(e,{headers:t={},schema:r,realtime:i,table:s,fetch:o,shouldThrowOnError:a}){super(e,{headers:t,schema:r,fetch:o,shouldThrowOnError:a}),this._subscription=null,this._realtime=i,this._headers=t,this._schema=r,this._table=s}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new gf(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}const bf="1.7.3",yf={"X-Client-Info":`storage-js/${bf}`};var hn=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const $f=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),wf=(n,e)=>{if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:$f(t),status:(n==null?void 0:n.status)||500}))},kf=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Jn(n,e,t,r,i,s){return hn(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,kf(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?o(l):l.json()}).then(l=>o(l)).catch(l=>wf(l,a))})})}function Tr(n,e,t,r){return hn(this,void 0,void 0,function*(){return Jn(n,"GET",e,t,r)})}function ht(n,e,t,r,i){return hn(this,void 0,void 0,function*(){return Jn(n,"POST",e,r,i,t)})}function Sf(n,e,t,r,i){return hn(this,void 0,void 0,function*(){return Jn(n,"PUT",e,r,i,t)})}function Go(n,e,t,r,i){return hn(this,void 0,void 0,function*(){return Jn(n,"DELETE",e,r,i,t)})}var Ef=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const qo=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ef(void 0,void 0,void 0,function*(){return yield(yield xn(()=>import("./browser-ponyfill.564fad46.js").then(r=>r.b),[])).fetch(...t)}):e=fetch,(...t)=>e(...t)};var Mt=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class Cf{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},yf),t),this.fetch=qo(r)}listBuckets(){return Mt(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return Mt(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(r){return{data:null,error:r}}})}updateBucket(e,t){return Mt(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}emptyBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}var xe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Pf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Of={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tf{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=qo(i)}uploadOrUpdate(e,t,r,i){return xe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Of),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,{method:e,body:s,headers:a});if(c.ok)return{data:{Key:u},error:null};{const h=yield c.json();return{data:null,error:h}}}catch(s){return{data:null,error:s}}})}upload(e,t,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return xe(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}copy(e,t){return xe(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,t){return xe(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let i=yield ht(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const s=`${this.url}${i.signedURL}`;return i={signedURL:s},{data:i,error:null,signedURL:s}}catch(r){return{data:null,error:r,signedURL:null}}})}createSignedUrls(e,t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map(i=>Object.assign(Object.assign({},i),{signedURL:i.signedURL?`${this.url}${i.signedURL}`:null})),error:null}}catch(r){return{data:null,error:r}}})}download(e){return xe(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield Tr(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,r){return xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Pf),t),{prefix:e||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){return{data:null,error:i}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class Rf extends Cf{constructor(e,t={},r){super(e,t,r)}from(e){return new Tf(this.url,this.headers,e,this.fetch)}}var jf=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Af=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>jf(void 0,void 0,void 0,function*(){return yield(yield xn(()=>import("./browser-ponyfill.564fad46.js").then(r=>r.b),[])).fetch(...t)}):e=fetch,(...t)=>e(...t)};var If=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class Mf{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=Af(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t){return If(this,void 0,void 0,function*(){try{const{headers:r,body:i}=t!=null?t:{},s=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign({},this.headers,r),body:i}),o=s.headers.get("x-relay-error");if(o&&o==="true")return{data:null,error:new Error(yield s.text())};let a;const{responseType:l}=t!=null?t:{};return!l||l==="json"?a=yield s.json():l==="arrayBuffer"?a=yield s.arrayBuffer():l==="blob"?a=yield s.blob():a=yield s.text(),{data:a,error:null}}catch(r){return{data:null,error:r}}})}}var br=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Df={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Uo};class Nf{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=nc(e),s=Object.assign(Object.assign({},Df),r);if(this.restUrl=`${i}/rest/v1`,this.realtimeUrl=`${i}/realtime/v1`.replace("http","ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,i.match(/(supabase\.co)|(supabase\.in)/)){const a=i.split(".");this.functionsUrl=`${a[0]}.functions.${a[1]}.${a[2]}`}else this.functionsUrl=`${i}/functions/v1`;this.schema=s.schema,this.multiTab=s.multiTab,this.fetch=s.fetch,this.headers=Object.assign(Object.assign({},Uo),r==null?void 0:r.headers),this.shouldThrowOnError=s.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(s),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},s.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get functions(){return new Mf(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}get storage(){return new Rf(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new vf(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:i=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:i})}removeAllSubscriptions(){return br(this,void 0,void 0,function*(){const e=this.getSubscriptions().slice(),t=e.map(i=>this.removeSubscription(i));return(yield Promise.all(t)).map(({error:i},s)=>({data:{subscription:e[s]},error:i}))})}removeSubscription(e){return br(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),i=r.filter(s=>s.isJoined()).length;return r.length===0&&(yield this.realtime.disconnect()),{data:{openSubscriptions:i},error:t}})}_closeSubscription(e){return br(this,void 0,void 0,function*(){let t=null;if(!e.isClosed()){const{error:r}=yield this._unsubscribeSubscription(e);t=r}return this.realtime.remove(e),{error:t}})}_unsubscribeSubscription(e){return new Promise(t=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",r=>t({error:r})).receive("timeout",()=>t({error:new Error("timed out")}))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:i,headers:s,fetch:o,cookieOptions:a,multiTab:l}){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pc({url:this.authUrl,headers:Object.assign(Object.assign({},s),u),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:i,fetch:o,cookieOptions:a,multiTab:l})}_initRealtimeClient(e){return new _f(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Ac(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}_getAuthHeaders(){var e,t;const r=Object.assign({},this.headers),i=(t=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=r.Authorization||`Bearer ${i}`,r}_listenForMultiTabEvents(){if(!this.multiTab||!rc()||!(window!=null&&window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var t,r,i;if(e.key===tc){const s=JSON.parse(String(e.newValue)),o=(r=(t=s==null?void 0:s.currentSession)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0,a=(i=this.auth.session())===null||i===void 0?void 0:i.access_token;o?!a&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):a!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t),r=="STORAGE"&&this.auth.setAuth(t),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const Uf=(n,e,t)=>new Nf(n,e,t),Bf="https://jrgaumcsfzzmyhoapjci.supabase.co",Lf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyZ2F1bWNzZnp6bXlob2FwamNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjA3ODM3NDEsImV4cCI6MTk3NjM1OTc0MX0.ijEbT1BRpm3r1IZNMrJ7IcgMROYAUUuqXfrf2Az_GZE",Et=Uf(Bf,Lf),xo=async()=>{try{const{error:n}=await Et.auth.signOut();if(n)throw n}catch(n){console.log(n)}};function zf(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_;return t=new No({props:{state:!1}}),f=new ae({props:{name:"google",color:"hsl(0,0%,100%)",size:2}}),{c(){e=w("main"),H(t.$$.fragment),r=E(),i=w("section"),s=w("h2"),s.textContent="SUMA TU COMERCIO",o=E(),a=w("p"),a.textContent=`Registrate con google para crear tu tienda de comida
      en pocos pasos y empezar a vender.`,l=E(),u=w("form"),c=w("button"),h=oe(`Registrate con Google
        `),H(f.$$.fragment),d(s,"class","svelte-r7syrw"),d(a,"class","svelte-r7syrw"),d(c,"class","svelte-r7syrw"),d(u,"class","svelte-r7syrw"),d(i,"class","svelte-r7syrw")},m(v,y){U(v,e,y),L(t,e,null),g(e,r),g(e,i),g(i,s),g(i,o),g(i,a),g(i,l),g(i,u),g(u,c),g(c,h),L(f,c,null),p=!0,m||(_=te(u,"submit",Sl(n[0])),m=!0)},p:F,i(v){p||($(t.$$.fragment,v),$(f.$$.fragment,v),p=!0)},o(v){S(t.$$.fragment,v),S(f.$$.fragment,v),p=!1},d(v){v&&D(e),z(t),z(f),m=!1,_()}}}function Hf(n){let e=!1;return[async()=>{try{e=!0;const{error:r}=await Et.auth.signIn({provider:"google"},{redirectTo:"https://ubifood.deno.dev/user/store"});if(r)throw r}catch(r){console.log(r)}finally{e=!1}}]}class Ff extends fe{constructor(e){super(),ce(this,e,Hf,zf,ue,{})}}const En=_e();async function Gf(n,e){const t=En.subscribe(r=>{!r||(n.dispatchEvent(new CustomEvent("notify",{detail:r})),En.set())});await fo();try{const r=JSON.parse(sessionStorage.getItem(e));for(const i of r)En.set(i)}catch{}finally{try{sessionStorage.removeItem(e)}catch{}}return{destroy(){t()}}}function qi(n,e,t){const r=n.slice();return r[9]=e[t],r}function xi(n){let e,t,r;function i(){return n[7](n[9])}return{c(){e=w("button"),e.textContent="\u2715",d(e,"class","close svelte-vlqkf6")},m(s,o){U(s,e,o),t||(r=te(e,"click",i),t=!0)},p(s,o){n=s},d(s){s&&D(e),t=!1,r()}}}function Wi(n,e){let t,r,i,s=e[9].message+"",o,a,l,u,c,h,f,p,m=e[9].persist&&xi(e);function _(){return e[8](e[9])}return{key:n,first:null,c(){t=w("li"),m&&m.c(),r=E(),i=w("div"),o=oe(s),a=E(),l=w("div"),u=E(),d(i,"class","content svelte-vlqkf6"),d(l,"class","progress svelte-vlqkf6"),W(l,"animation-duration",e[9].timeout+"ms"),d(t,"class","toast svelte-vlqkf6"),W(t,"background",e[9].background),this.first=t},m(v,y){U(v,t,y),m&&m.m(t,null),g(t,r),g(t,i),g(i,o),g(t,a),g(t,l),g(t,u),h=!0,f||(p=te(l,"animationend",_),f=!0)},p(v,y){e=v,e[9].persist?m?m.p(e,y):(m=xi(e),m.c(),m.m(t,r)):m&&(m.d(1),m=null),(!h||y&2)&&s!==(s=e[9].message+"")&&be(o,s),(!h||y&2)&&W(l,"animation-duration",e[9].timeout+"ms"),(!h||y&2)&&W(t,"background",e[9].background)},i(v){h||(c&&c.end(1),h=!0)},o(v){c=Ul(t,xf,{}),h=!1},d(v){v&&D(t),m&&m.d(),v&&c&&c.end(),f=!1,p()}}}function qf(n){let e,t=[],r=new Map,i,s,o,a,l=n[1];const u=c=>c[9].id;for(let c=0;c<l.length;c+=1){let h=qi(n,l,c),f=u(h);r.set(f,t[c]=Wi(f,h))}return{c(){e=w("ul");for(let c=0;c<t.length;c+=1)t[c].c();d(e,"class","toasts svelte-vlqkf6")},m(c,h){U(c,e,h);for(let f=0;f<t.length;f+=1)t[f].m(e,null);s=!0,o||(a=[bl(i=Gf.call(null,e,n[0])),te(e,"notify",n[2])],o=!0)},p(c,[h]){h&26&&(l=c[1],he(),t=Ll(t,h,u,1,c,l,r,e,Bl,Wi,null,qi),pe()),i&&an(i.update)&&h&1&&i.update.call(null,c[0])},i(c){if(!s){for(let h=0;h<l.length;h+=1)$(t[h]);s=!0}},o(c){for(let h=0;h<t.length;h+=1)S(t[h]);s=!1},d(c){c&&D(e);for(let h=0;h<t.length;h+=1)t[h].d();o=!1,Re(a)}}}function xf(n,{delay:e=0,duration:t=1e3}){return{delay:e,duration:t,css:r=>`opacity: ${(r-.7)*1}; transform-origin: top right;`}}function Wf(n,e,t){let{themes:r={danger:"#bb2124",success:"#22bb33",warning:"#f0ad4e",info:"#5bc0de",default:"#aaaaaa"}}=e,{timeout:i=3e3}=e,{sessionKey:s="byk-toasts"}=e,o=[];function a({detail:f}){const{message:p,type:m,options:_={}}=f,v=r[m]||r.default,y=_.persist,j=_.persist?0:_.timeout||i,b=Math.random().toString(36).replace(/[^a-z]+/g,"");try{sessionStorage.setItem(s,JSON.stringify([...JSON.parse(sessionStorage.getItem(s)||"[]"),{...f,id:b}]))}catch{}t(1,o=[{id:b,message:p,background:v,persist:y,timeout:j,width:"100%"},...o])}function l(f){!f.persist&&u(f.id)}function u(f){const p=m=>m.id!==f;t(1,o=o.filter(p));try{sessionStorage.setItem(s,JSON.stringify(JSON.parse(sessionStorage.getItem(s)||"[]").filter(p)))}catch{}}const c=f=>u(f.id),h=f=>l(f);return n.$$set=f=>{"themes"in f&&t(5,r=f.themes),"timeout"in f&&t(6,i=f.timeout),"sessionKey"in f&&t(0,s=f.sessionKey)},[s,o,a,l,u,r,i,c,h]}class Jf extends fe{constructor(e){super(),ce(this,e,Wf,qf,ue,{themes:5,timeout:6,sessionKey:0})}}function Vf(n){return typeof n=="number"?{timeout:n}:n}function Wo(n,e="default",t){En.set({type:e,message:n,options:Vf(t)})}function Kf(n,e){Wo(n,"danger",e)}function Qf(n,e){Wo(n,"success",e)}function Yf(n){let e,t,r,i,s;return i=new ae({props:{name:"pen-to-square",color:"hsl(0,0%,100%)",size:1.5}}),{c(){e=w("label"),t=w("input"),r=E(),H(i.$$.fragment),d(t,"type","checkbox"),d(t,"id",n[0]),d(t,"class","svelte-4ie4za"),d(e,"for",n[0]),d(e,"class","svelte-4ie4za")},m(o,a){U(o,e,a),g(e,t),g(e,r),L(i,e,null),s=!0},p(o,[a]){(!s||a&1)&&d(t,"id",o[0]),(!s||a&1)&&d(e,"for",o[0])},i(o){s||($(i.$$.fragment,o),s=!0)},o(o){S(i.$$.fragment,o),s=!1},d(o){o&&D(e),z(i)}}}function Xf(n,e,t){let{name:r=""}=e;return n.$$set=i=>{"name"in i&&t(0,r=i.name)},[r]}class Ct extends fe{constructor(e){super(),ce(this,e,Xf,Yf,ue,{name:0})}}var pn={},Jo={},Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});var Ko={},Yr={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.typeGuard=void 0;function Zf(n,e){return e}st.typeGuard=Zf;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CtxLike=void 0;var e=st;(function(t){function r(i){return(0,e.typeGuard)(i,!0)&&i instanceof Object&&typeof i.done=="function"&&typeof i.abort=="function"&&typeof i.zz__addHandler=="function"&&typeof i.zz__removeHandler=="function"}t.match=r})(n.CtxLike||(n.CtxLike={}))})(Yr);(function(n){var e=x&&x.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=x&&x.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Yr,n)})(Ko);var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.__hack=void 0;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */Vn.__hack="NOT TYPE ONLY";var Xr={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.EventTargetLike=void 0;var e=st;(function(t){var r;(function(l){function u(c){return(0,e.typeGuard)(c,!0)&&c instanceof Object&&typeof c.subscribe=="function"}l.match=u})(r=t.RxJSSubject||(t.RxJSSubject={}));var i;(function(l){function u(c){return(0,e.typeGuard)(c,!0)&&c instanceof Object&&typeof c.addListener=="function"&&typeof c.removeListener=="function"}l.match=u})(i=t.NodeStyleEventEmitter||(t.NodeStyleEventEmitter={}));var s;(function(l){function u(c){return(0,e.typeGuard)(c,!0)&&c instanceof Object&&typeof c.on=="function"&&typeof c.off=="function"}l.match=u})(s=t.JQueryStyleEventEmitter||(t.JQueryStyleEventEmitter={}));var o;(function(l){function u(c){return(0,e.typeGuard)(c,!0)&&c instanceof Object&&typeof c.addEventListener=="function"&&typeof c.removeEventListener=="function"}l.match=u})(o=t.HasEventTargetAddRemove||(t.HasEventTargetAddRemove={}));function a(l){try{return o.match(l)||i.match(l)||s.match(l)||r.match(l)}catch{return!1}}t.canBe=a})(n.EventTargetLike||(n.EventTargetLike={}))})(Xr);var gt={},Qo=x&&x.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(gt,"__esModule",{value:!0});gt.DetachedEvtError=gt.TimeoutEvtError=void 0;var ed=function(n){Qo(e,n);function e(t){var r=this.constructor,i=n.call(this,"Evt timeout after ".concat(t,"ms"))||this;return i.timeout=t,Object.setPrototypeOf(i,r.prototype),i}return e}(Error);gt.TimeoutEvtError=ed;var td=function(n){Qo(e,n);function e(){var t=this.constructor,r=n.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(r,t.prototype),r}return e}(Error);gt.DetachedEvtError=td;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});(function(n){var e=x&&x.__createBinding||(Object.create?function(s,o,a,l){l===void 0&&(l=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(s,l,u)}:function(s,o,a,l){l===void 0&&(l=a),s[l]=o[a]}),t=x&&x.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),r=x&&x.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)},i=x&&x.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var a in s)a!=="default"&&Object.prototype.hasOwnProperty.call(s,a)&&e(o,s,a);return t(o,s),o};Object.defineProperty(n,"__esModule",{value:!0}),n.dom=void 0,r(Vo,n),r(Ko,n),n.dom=i(Vn),r(Xr,n),r(gt,n),r(Yo,n)})(Jo);var Xo={},Zo={},Kn={},Pt={},Zr={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.convertOperatorToStatelessF\u03BB=void 0;function e(i){var s=i[1];return function(o,a){var l=i[0](o,s,a);return l!==null&&a(function(){return s=l[0]}),l}}function t(i){return function(s,o){var a=i(s,o);return a instanceof Object&&!("input"in a)&&a.length===1?a:a?[s]:null}}function r(i){return typeof i!="function"?e(i):t(i)}n.convertOperatorToStatelessF\u03BB=r})(Zr);var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.id=void 0;var nd=function(n){return n};Ot.id=nd;var Cn=x&&x.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s},rd=x&&x.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.compose=void 0;var Rr=Zr,id=Ot;function sd(n,e){var t=(0,Rr.convertOperatorToStatelessF\u03BB)(n),r=(0,Rr.convertOperatorToStatelessF\u03BB)(e);return(0,id.id)(function(i,s){var o=t(i,s);if(!o)return null;var a=Cn(o,1),l=a[0],u=r(l,s);return u&&[u[0]]})}function el(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===1){var t=Cn(n,1),r=t[0];return(0,Rr.convertOperatorToStatelessF\u03BB)(r)}var i=Cn(n),s=i[0],o=i[1],a=i.slice(2),l=sd(s,o);return a.length===0?l:el.apply(void 0,rd([l],Cn(a),!1))}Pt.compose=el;Object.defineProperty(Kn,"__esModule",{value:!0});Kn.throttleTime=void 0;var od=Pt,ld=function(n){return(0,od.compose)([function(e,t){var r=t.lastClick,i=Date.now();return i-r<n?null:[{data:e,lastClick:i}]},{lastClick:0,data:null}],function(e){var t=e.data;return[t]})};Kn.throttleTime=ld;var tl={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.to=void 0;var e=new Map,t=function(r){var i;return(i=e.get(r))!==null&&i!==void 0?i:(e.set(r,function(s){return s[0]!==r?null:[s[1]]}),(0,n.to)(r))};n.to=t})(tl);var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.nonNullable=void 0;var ad=function(n){return n!=null},ud=function(n){return ad(n)?[n]:null},cd=function(){return ud};Qn.nonNullable=cd;var Yn={},fd=x&&x.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s},Ji=x&&x.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.distinct=void 0;var dd=Pt,hd=function(n,e){var t;return(0,dd.compose)(function(r){var i,s;return[{data:r,selectedKey:(i=n==null?void 0:n(r))!==null&&i!==void 0?i:r,currentFlushCount:(s=e==null?void 0:e.evtDoneOrAborted.postCount)!==null&&s!==void 0?s:0}]},[function(r,i){var s=r.data,o=r.selectedKey,a=r.currentFlushCount,l=i.alreadyPostedData,u=i.previousFlushCount;return[{boxedData:a!==u||!l.has(o)?[s]:null,alreadyPostedData:new Set(Ji(Ji([],fd(a!==u?[]:Array.from(l)),!1),[o],!1)),previousFlushCount:a}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(t=e==null?void 0:e.evtDoneOrAborted.postCount)!==null&&t!==void 0?t:0}],function(r){var i=r.boxedData;return i})};Yn.distinct=hd;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.distinct=n.nonNullable=n.to=n.throttleTime=void 0;var e=Kn;Object.defineProperty(n,"throttleTime",{enumerable:!0,get:function(){return e.throttleTime}});var t=tl;Object.defineProperty(n,"to",{enumerable:!0,get:function(){return t.to}});var r=Qn;Object.defineProperty(n,"nonNullable",{enumerable:!0,get:function(){return r.nonNullable}});var i=Yn;Object.defineProperty(n,"distinct",{enumerable:!0,get:function(){return i.distinct}})})(Zo);(function(n){var e=x&&x.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,l)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),t=x&&x.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),n.compose=void 0,t(Zo,n);var r=Pt;Object.defineProperty(n,"compose",{enumerable:!0,get:function(){return r.compose}})})(Xo);var nl={},Ht={},it={};it.__esModule=!0;it.Polyfill=it.LightMapImpl=void 0;var rl=function(){function n(){this.record=[]}return n.prototype.has=function(e){return this.record.map(function(t){var r=t[0];return r}).indexOf(e)>=0},n.prototype.get=function(e){var t=this.record.filter(function(r){var i=r[0];return i===e})[0];if(t!==void 0)return t[1]},n.prototype.set=function(e,t){var r=this.record.filter(function(i){var s=i[0];return s===e})[0];return r===void 0?this.record.push([e,t]):r[1]=t,this},n.prototype.delete=function(e){var t=this.record.map(function(r){var i=r[0];return i}).indexOf(e);return t<0?!1:(this.record.splice(t,1),!0)},n.prototype.keys=function(){return this.record.map(function(e){var t=e[0];return t})},n}();it.LightMapImpl=rl;it.Polyfill=typeof Map<"u"?Map:rl;Ht.__esModule=!0;Ht.Polyfill=Ht.LightSetImpl=void 0;var pd=it,il=function(){function n(e){if(this.map=new pd.Polyfill,e!==void 0)for(var t=0,r=e;t<r.length;t++){var i=r[t];this.add(i)}}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.add=function(e){return this.map.set(e,!0),this},n.prototype.values=function(){return this.map.keys()},n.prototype.delete=function(e){return this.map.delete(e)},n}();Ht.LightSetImpl=il;Ht.Polyfill=typeof Set<"u"?Set:il;var Tt={};Tt.__esModule=!0;Tt.Polyfill=void 0;var md=it;Tt.Polyfill=typeof WeakMap<"u"?WeakMap:md.Polyfill;var ot={},Qt={},mn={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.assertIsRefWrapper=void 0;var _d=Ot;_n.assertIsRefWrapper={ref:(0,_d.id)(void 0)};Object.defineProperty(mn,"__esModule",{value:!0});mn.is=void 0;var wn=_n,Vi=["Wrong usage of the "+jr.name+" function refer to","https://docs.tsafe.dev/"+jr.name.toLowerCase()].join(" ");function jr(n){var e={};if(wn.assertIsRefWrapper.ref!==void 0)throw wn.assertIsRefWrapper.ref=void 0,new Error(Vi);return wn.assertIsRefWrapper.ref=e,Promise.resolve().then(function(){if(wn.assertIsRefWrapper.ref===e)throw new Error(Vi)}),null}mn.is=jr;var Ki;function xt(){if(Ki)return Qt;Ki=1;var n=x&&x.__assign||function(){return n=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i},n.apply(this,arguments)};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.overwriteReadonlyProp=void 0;var e=ei(),t=mn,r=function(i,s,o){try{i[s]=o}catch{}if(i[s]===o)return o;var a=void 0,l=Object.getOwnPropertyDescriptor(i,s)||{enumerable:!0,configurable:!0};if(l.get)throw new Error("Probably a wrong ides to overwrite "+s+" getter");try{Object.defineProperty(i,s,n(n({},l),{value:o}))}catch(u){(0,e.assert)((0,t.is)(u)),a=u}if(i[s]!==o)throw a||new Error("Can't assign");return o};return Qt.overwriteReadonlyProp=r,Qt}var Qi;function ei(){if(Qi)return ot;Qi=1;var n=x&&x.__extends||function(){var o=function(a,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(u[h]=c[h])},o(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(a,l);function u(){this.constructor=a}a.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),e=x&&x.__read||function(o,a){var l=typeof Symbol=="function"&&o[Symbol.iterator];if(!l)return o;var u=l.call(o),c,h=[],f;try{for(;(a===void 0||a-- >0)&&!(c=u.next()).done;)h.push(c.value)}catch(p){f={error:p}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(f)throw f.error}}return h};Object.defineProperty(ot,"__esModule",{value:!0}),ot.assert=ot.AssertionError=void 0;var t=xt(),r=_n,i=function(o){n(a,o);function a(l){var u=this.constructor,c=o.call(this,"Wrong assertion encountered"+(l?': "'+l+'"':""))||this;if(Object.setPrototypeOf(c,u.prototype),!c.stack)return c;try{(0,t.overwriteReadonlyProp)(c,"stack",c.stack.split(`
`).filter(function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];var p=e(h,2),m=p[1];return m!==1&&m!==2}).join(`
`))}catch{}return c}return a}(Error);ot.AssertionError=i;function s(o,a){if(arguments.length===0&&(o=!0),r.assertIsRefWrapper.ref!==void 0){r.assertIsRefWrapper.ref=void 0;return}if(!o)throw new i(a)}return ot.assert=s,ot}var Wt={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.importProxy=void 0;Ue.importProxy={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.LazyEvt=void 0;var gd=xt(),vd=Ue,bd=function(){function n(){this.initialPostCount=0}return Object.defineProperty(n.prototype,"evt",{get:function(){return this.__evt===void 0&&(this.__evt=new vd.importProxy.Evt,(0,gd.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},enumerable:!1,configurable:!0}),n.prototype.__post=function(e,t){return this.__evt===void 0?++this.initialPostCount:this.__evt[t?"postAndWait":"post"](e)},n.prototype.post=function(e){return this.__post(e,!1)},n.prototype.postAndWait=function(e){return this.__post(e,!0)},n}();Wt.LazyEvt=bd;(function(n){var e=x&&x.__assign||function(){return e=Object.assign||function(h){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(h[_]=f[_])}return h},e.apply(this,arguments)},t=x&&x.__values||function(h){var f=typeof Symbol=="function"&&Symbol.iterator,p=f&&h[f],m=0;if(p)return p.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.Ctx=void 0;var r=Ht,i=Tt,s=ei(),o=mn,a=Wt,l=Ue,u=xt(),c=function(){function h(){this.lazyEvtAttach=new a.LazyEvt,this.lazyEvtDetach=new a.LazyEvt,this.lazyEvtDoneOrAborted=new a.LazyEvt,this.handlers=new r.Polyfill,this.evtByHandler=new i.Polyfill}return Object.defineProperty(h.prototype,"evtDoneOrAborted",{get:function(){return this.lazyEvtDoneOrAborted.evt},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"evtAttach",{get:function(){return this.lazyEvtAttach.evt},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"evtDetach",{get:function(){return this.lazyEvtDetach.evt},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"completionStatus",{get:function(){return this.__completionStatus},enumerable:!1,configurable:!0}),h.prototype.onDoneOrAborted=function(f){this.__completionStatus=f,this.lazyEvtDoneOrAborted.post(f)},h.prototype.waitFor=function(f){var p=this;return this.evtDoneOrAborted.waitFor(f).then(function(m){if(m.type==="ABORTED")throw m.error;return m.result},function(m){throw p.abort(m),m})},h.prototype.abort=function(f){return this.__done(f)},h.prototype.done=function(f){return this.__done(void 0,f)},h.prototype.__done=function(f,p){var m,_,v=[];try{for(var y=t(this.handlers.values()),j=y.next();!j.done;j=y.next()){var b=j.value,T=this.evtByHandler.get(b),P=b.detach();!P||v.push({handler:b,evt:T})}}catch(A){m={error:A}}finally{try{j&&!j.done&&(_=y.return)&&_.call(y)}finally{if(m)throw m.error}}return this.onDoneOrAborted(e(e({},f?{type:"ABORTED",error:f}:{type:"DONE",result:p}),{handlers:v})),v},h.prototype.getHandlers=function(){var f=this;return Array.from(this.handlers.values()).map(function(p){return{handler:p,evt:f.evtByHandler.get(p)}})},h.prototype.zz__addHandler=function(f,p){if((0,s.assert)(f.ctx===this),(0,s.assert)((0,o.is)(f)),this.completionStatus!==void 0){f.detach();return}this.handlers.add(f),this.evtByHandler.set(f,p),this.lazyEvtAttach.post({handler:f,evt:p})},h.prototype.zz__removeHandler=function(f){(0,s.assert)(f.ctx===this),(0,s.assert)((0,o.is)(f)),this.lazyEvtDetach.post({handler:f,evt:this.evtByHandler.get(f)}),this.handlers.delete(f)},h}();n.Ctx=c;try{(0,u.overwriteReadonlyProp)(n.Ctx,"name","Ctx")}catch{}l.importProxy.Ctx=n.Ctx})(nl);var ti={};Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(n){if(this==null)throw new TypeError('"this" is null or not defined');var e=Object(this),t=e.length>>>0;if(typeof n!="function")throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<t;){var s=e[i];if(n.call(r,s,i,e))return s;i++}},configurable:!0,writable:!0});var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.create=void 0;var Yi=Ue;function yd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.length===0?new Yi.importProxy.Evt:new Yi.importProxy.StatefulEvt(n[0])}Xn.create=yd;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.getCtxFactory=void 0;var $d=Tt,wd=Ue;function kd(){var n=new $d.Polyfill;function e(t){var r=n.get(t);return r===void 0&&(r=new wd.importProxy.Ctx,n.set(t,r)),r}return e}Zn.getCtxFactory=kd;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.factorize=void 0;function Sd(n){return n}er.factorize=Sd;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.merge=vt.mergeImpl=void 0;var Ed=Ue;function Ar(n,e){var t=new Ed.importProxy.Evt,r=function(i){return t.post(i)};return e.forEach(function(i){n===void 0?i.attach(r):i.attach(n,r)}),t}vt.mergeImpl=Ar;function Cd(n,e){return"length"in n?Ar(void 0,n):Ar(n,e)}vt.merge=Cd;var tr={},Pd=x&&x.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Od=x&&x.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Td=x&&x.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Pd(e,n,t);return Od(e,n),e},Rd=x&&x.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s};Object.defineProperty(tr,"__esModule",{value:!0});tr.from=void 0;var jd=Ot,ct=ei(),Le=st,Ad=vt,Ir=Ue,Id=Td(Xr),Yt=Id.EventTargetLike;function Mr(n,e,t,r){var i=function(h){return Yt.canBe(h)};if(!i(e)){if("then"in e){var s=new Ir.importProxy.Evt,o=function(){var h=function(){return n==null?void 0:n.evtDoneOrAborted.postCount},f=h();return function(){return f!==h()}}();return e.then(function(h){o()||s.post(h)}),s}return(0,Ad.mergeImpl)(n,Array.from(e).map(function(h){return Mr(n,h,t,r)}))}var a;if(Yt.NodeStyleEventEmitter.match(e))a={on:function(h,f){return e.addListener(f,h)},off:function(h,f){return e.removeListener(f,h)}};else if(Yt.JQueryStyleEventEmitter.match(e))a={on:function(h,f){return e.on(f,h)},off:function(h,f){return e.off(f,h)}};else if(Yt.HasEventTargetAddRemove.match(e))a={on:function(h,f,p){return e.addEventListener(f,h,p)},off:function(h,f,p){return e.removeEventListener(f,h,p)}};else if(Yt.RxJSSubject.match(e)){var l;a={on:function(h){return l=e.subscribe(function(f){return h(f)})},off:function(){return l.unsubscribe()}}}else(0,jd.id)(e),(0,ct.assert)(!1);var u=new Ir.importProxy.Evt,c=function(h){return u.post(h)};return n==null||n.evtDoneOrAborted.attachOnce(function(){return a.off(c,t,r)}),a.on(c,t,r),u}function Xi(n,e,t){var r=Ir.importProxy.Evt.create(),i=function(o){var a=Rd(o,1),l=a[0];return r.post(l)},s=new e(i);return s.observe(t),n==null||n.evtDoneOrAborted.attachOnce(function(){return s.disconnect()}),r}function Md(n,e,t,r){return"evtDoneOrAborted"in n?((0,ct.assert)((0,Le.typeGuard)(e,!0)&&(0,Le.typeGuard)(t,!0)&&(0,Le.typeGuard)(r,!0)),typeof e=="function"?((0,ct.assert)((0,Le.typeGuard)(t,!0)&&(0,Le.typeGuard)(r,!0)),Xi(n,e,t)):((0,ct.assert)((0,Le.typeGuard)(t,!0)),Mr(n,e,t,r))):((0,ct.assert)((0,Le.typeGuard)(n,!0)&&(0,Le.typeGuard)(e,!0)&&(0,Le.typeGuard)(t,!0)),typeof n=="function"?((0,ct.assert)((0,Le.typeGuard)(e,!0)&&(0,Le.typeGuard)(t,!0)),Xi(void 0,n,e)):((0,ct.assert)((0,Le.typeGuard)(e,!0)),Mr(void 0,n,e,t)))}tr.from=Md;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.asPostable=void 0;function Dd(n){return n}nr.asPostable=Dd;var rr={},Nd=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},Ud=x&&x.__generator||function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(rr,"__esModule",{value:!0});rr.asyncPipe=void 0;var Zi=Ue;function Bd(n,e){var t=this,r="state"in n?Zi.importProxy.Evt.create(void 0):Zi.importProxy.Evt.create(),i=0;return n.attach(function(s){return Nd(t,void 0,void 0,function(){var o,a,l;return Ud(this,function(u){switch(u.label){case 0:return i++,o=i,a=e(s),a!==null&&"then"in a?[4,a]:[3,2];case 1:return l=u.sent(),"state"in n&&o!==i?[2]:[3,3];case 2:l=a,u.label=3;case 3:return l?(r.post(l[0]),[2]):[2]}})})}),r}rr.asyncPipe=Bd;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.asNonPostable=void 0;function Ld(n){return n}ir.asNonPostable=Ld;var bt={},Se=x&&x.__assign||function(){return Se=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Se.apply(this,arguments)},lt=x&&x.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s},yr=x&&x.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(bt,"__esModule",{value:!0});bt.parsePropsFromArgs=bt.matchAll=void 0;var Ge=Ot,zd=Pt,Hd=st;function sl(){return!0}bt.matchAll=sl;var $r=function(n){return n!==void 0&&(0,Hd.typeGuard)(n,!0)&&(typeof n=="function"||typeof n[0]=="function")},ze={op:sl,ctx:void 0,timeout:void 0,callback:void 0};function ol(n,e){switch(e){case"pipe":{var t=function(j){return j.length===0?{}:{op:j.length===1?j[0]:zd.compose.apply(void 0,yr([],lt(j),!1))}};if($r(n[0]))return(0,Ge.id)(Se(Se({},ze),t(n)));var r=lt(n),i=r[0],s=r.slice(1);return(0,Ge.id)(Se(Se(Se({},ze),i!==void 0?{ctx:i}:{}),t(s)))}case"waitFor":return ol(yr(yr([],lt(n.filter(function(j,b){return!(b===n.length-1&&j===void 0)})),!1),[ze.callback],!1),"attach*");case"attach*":{var o=n.length;switch(o){case 4:{var a=lt(n,4),l=a[0],u=a[1],c=a[2],h=a[3];return(0,Ge.id)(Se(Se({},ze),{op:l,ctx:u,timeout:c,callback:h}))}case 3:{var f=lt(n,3),l=f[0],u=f[1],c=f[2];if(typeof u=="number"){var p=u,m=c;return $r(l)?(0,Ge.id)(Se(Se({},ze),{timeout:p,callback:m,op:l})):(0,Ge.id)(Se(Se({},ze),{timeout:p,callback:m,ctx:l}))}else return(0,Ge.id)(Se(Se({},ze),{op:l,ctx:u,callback:c}))}case 2:{var _=lt(n,2),l=_[0],u=_[1];if(typeof l=="number")return(0,Ge.id)(Se(Se({},ze),{timeout:l,callback:u}));var m=u;return $r(l)?(0,Ge.id)(Se(Se({},ze),{callback:m,op:l})):(0,Ge.id)(Se(Se({},ze),{callback:m,ctx:l}))}case 1:{var v=lt(n,1),y=v[0];return(0,Ge.id)(Se(Se({},ze),{callback:y}))}case 0:return(0,Ge.id)(Se({},ze))}}break}}bt.parsePropsFromArgs=ol;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.newCtx=void 0;var Fd=Ue;function Gd(){return new Fd.importProxy.Ctx}sr.newCtx=Gd;var Pe={},qd=x&&x.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Pe.__esModule=!0;Pe.buildMethodCb=Pe.buildCb=Pe.getPrComplete=Pe.isRunning=Pe.cancelAllQueuedCalls=Pe.getQueuedCallCount=Pe.buildMethod=Pe.build=Pe.createGroupRef=void 0;var ni=Tt,xd=function(){function n(){this.queuedCalls=[],this.isRunning=!1,this.prComplete=Promise.resolve()}return n.prototype.cancelAllQueuedCalls=function(){var e;return this.queuedCalls.splice(0,e=this.queuedCalls.length),e},n}(),ri={},Dr=new ni.Polyfill;function Ln(n,e){var t=Dr.get(n);t||(t=new ni.Polyfill,Dr.set(n,t));var r=t.get(e);return r||(r=new xd,t.set(e,r)),r}function gn(){return new Array(0)}Pe.createGroupRef=gn;function Wd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];switch(n.length){case 1:return zn(!0,gn(),n[0]);case 2:return zn(!0,n[0],n[1])}}Pe.build=Wd;function Jd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];switch(n.length){case 1:return zn(!1,gn(),n[0]);case 2:return zn(!1,n[0],n[1])}}Pe.buildMethod=Jd;function Vd(n,e){var t=or(n,e);return t?t.queuedCalls.length:0}Pe.getQueuedCallCount=Vd;function Kd(n,e){var t=or(n,e);return t?t.cancelAllQueuedCalls():0}Pe.cancelAllQueuedCalls=Kd;function Qd(n,e){var t=or(n,e);return t?t.isRunning:!1}Pe.isRunning=Qd;function Yd(n,e){var t=or(n,e);return t?t.prComplete:Promise.resolve()}Pe.getPrComplete=Yd;var ii=new ni.Polyfill;function or(n,e){e===void 0&&(e=ri);var t=ii.get(n);if(!t)throw Error("Not a run exclusiveFunction");var r=Dr.get(e);if(!!r)return r.get(t)}function zn(n,e,t){var r,i=function(){for(var s=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!n){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");r=Ln(this,e)}return new Promise(function(l,u){var c;r.prComplete=new Promise(function(f){return c=function(){return f()}});var h=function(f){c(),r.isRunning=!1,r.queuedCalls.length&&r.queuedCalls.shift()(),"data"in f?l(f.data):u(f.reason)};(function f(){for(var p=this,m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];if(r.isRunning){r.queuedCalls.push(function(){return f.apply(p,m)});return}r.isRunning=!0;try{t.apply(this,m).then(function(v){return h({data:v})}).catch(function(v){return h({reason:v})})}catch(v){h({reason:v})}}).apply(s,o)})};return n&&(r=Ln(ri,e)),ii.set(i,e),i}function Xd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];switch(n.length){case 1:return Hn(!0,gn(),n[0]);case 2:return Hn(!0,n[0],n[1])}}Pe.buildCb=Xd;function Zd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];switch(n.length){case 1:return Hn(!1,gn(),n[0]);case 2:return Hn(!1,n[0],n[1])}}Pe.buildMethodCb=Zd;function Hn(n,e,t){var r,i=function(){for(var s=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!n){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");r=Ln(this,e)}var l=void 0;o.length&&typeof o[o.length-1]=="function"&&(l=o.pop());var u;r.prComplete=new Promise(function(h){return u=function(){return h()}});var c=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];u(),r.isRunning=!1,r.queuedCalls.length&&r.queuedCalls.shift()(),l&&l.apply(s,h)};c.hasCallback=!!l,function h(){for(var f=this,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];if(r.isRunning){r.queuedCalls.push(function(){return h.apply(f,p)});return}r.isRunning=!0;try{t.apply(this,qd(p,[c]))}catch(_){throw _.message+=" ( This exception should not have been thrown, miss use of run-exclusive buildCb )",_}}.apply(this,o)};return n&&(r=Ln(ri,e)),ii.set(i,e),i}var Ft={},eh=x&&x.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.VoidDeferred=Ft.Deferred=void 0;var es=xt(),ll=function(){function n(){var e=this;this.isPending=!0;var t,r;this.pr=new Promise(function(i,s){t=function(o){(0,es.overwriteReadonlyProp)(e,"isPending",!1),i(o)},r=function(o){(0,es.overwriteReadonlyProp)(e,"isPending",!1),s(o)}}),this.resolve=t,this.reject=r}return n}();Ft.Deferred=ll;var th=function(n){eh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(ll);Ft.VoidDeferred=th;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.loosenType=void 0;function nh(n){return n}lr.loosenType=nh;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.safeClearTimeout=Gt.safeSetTimeout=void 0;var rh=function(n,e){return setTimeout(n,e)};Gt.safeSetTimeout=rh;var ih=function(n){return clearTimeout(n)};Gt.safeClearTimeout=ih;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.isPromiseLike=void 0;function sh(n){return typeof(n==null?void 0:n.then)=="function"}ar.isPromiseLike=sh;(function(n){var e=x&&x.__assign||function(){return e=Object.assign||function(I){for(var k,O=1,C=arguments.length;O<C;O++){k=arguments[O];for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(I[M]=k[M])}return I},e.apply(this,arguments)},t=x&&x.__createBinding||(Object.create?function(I,k,O,C){C===void 0&&(C=O);var M=Object.getOwnPropertyDescriptor(k,O);(!M||("get"in M?!k.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return k[O]}}),Object.defineProperty(I,C,M)}:function(I,k,O,C){C===void 0&&(C=O),I[C]=k[O]}),r=x&&x.__setModuleDefault||(Object.create?function(I,k){Object.defineProperty(I,"default",{enumerable:!0,value:k})}:function(I,k){I.default=k}),i=x&&x.__importStar||function(I){if(I&&I.__esModule)return I;var k={};if(I!=null)for(var O in I)O!=="default"&&Object.prototype.hasOwnProperty.call(I,O)&&t(k,I,O);return r(k,I),k},s=x&&x.__awaiter||function(I,k,O,C){function M(B){return B instanceof O?B:new O(function(ee){ee(B)})}return new(O||(O=Promise))(function(B,ee){function ne(ye){try{re(C.next(ye))}catch(je){ee(je)}}function me(ye){try{re(C.throw(ye))}catch(je){ee(je)}}function re(ye){ye.done?B(ye.value):M(ye.value).then(ne,me)}re((C=C.apply(I,k||[])).next())})},o=x&&x.__generator||function(I,k){var O={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},C,M,B,ee;return ee={next:ne(0),throw:ne(1),return:ne(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function ne(re){return function(ye){return me([re,ye])}}function me(re){if(C)throw new TypeError("Generator is already executing.");for(;O;)try{if(C=1,M&&(B=re[0]&2?M.return:re[0]?M.throw||((B=M.return)&&B.call(M),0):M.next)&&!(B=B.call(M,re[1])).done)return B;switch(M=0,B&&(re=[re[0]&2,B.value]),re[0]){case 0:case 1:B=re;break;case 4:return O.label++,{value:re[1],done:!1};case 5:O.label++,M=re[1],re=[0];continue;case 7:re=O.ops.pop(),O.trys.pop();continue;default:if(B=O.trys,!(B=B.length>0&&B[B.length-1])&&(re[0]===6||re[0]===2)){O=0;continue}if(re[0]===3&&(!B||re[1]>B[0]&&re[1]<B[3])){O.label=re[1];break}if(re[0]===6&&O.label<B[1]){O.label=B[1],B=re;break}if(B&&O.label<B[2]){O.label=B[2],O.ops.push(re);break}B[2]&&O.ops.pop(),O.trys.pop();continue}re=k.call(I,O)}catch(ye){re=[6,ye],M=0}finally{C=B=0}if(re[0]&5)throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}},a=x&&x.__read||function(I,k){var O=typeof Symbol=="function"&&I[Symbol.iterator];if(!O)return I;var C=O.call(I),M,B=[],ee;try{for(;(k===void 0||k-- >0)&&!(M=C.next()).done;)B.push(M.value)}catch(ne){ee={error:ne}}finally{try{M&&!M.done&&(O=C.return)&&O.call(C)}finally{if(ee)throw ee.error}}return B},l=x&&x.__spreadArray||function(I,k,O){if(O||arguments.length===2)for(var C=0,M=k.length,B;C<M;C++)(B||!(C in k))&&(B||(B=Array.prototype.slice.call(k,0,C)),B[C]=k[C]);return I.concat(B||Array.prototype.slice.call(k))},u=x&&x.__values||function(I){var k=typeof Symbol=="function"&&Symbol.iterator,O=k&&I[k],C=0;if(O)return O.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&C>=I.length&&(I=void 0),{value:I&&I[C++],done:!I}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.Evt=n.onAddHandlerByEvt=void 0;var c=Ue,h=Xn,f=Zn,p=er,m=vt,_=tr,v=nr,y=rr,j=ir,b=bt,T=sr,P=Wt,A=it,R=Tt,N=i(Pe),G=xt(),J=st,q=Ft,K=lr,V=Gt,Z=ar,Q=gt,ie=i(Yr),ge=Zr,Y=function(I){return I()},X=ie.CtxLike,se=function(){function I(){this.lazyEvtAttach=new P.LazyEvt,this.lazyEvtDetach=new P.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new A.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return I.setDefaultMaxHandlers=function(k){this.__defaultMaxHandlers=isFinite(k)?k:0},I.prototype.toStateful=function(k,O){var C=X.match(k),M=C?void 0:k,B=O||(C?k:void 0),ee=new c.importProxy.StatefulEvt(M),ne=function(me){return ee.post(me)};return B?this.attach(B,ne):this.attach(ne),ee},Object.defineProperty(I.prototype,"evtAttach",{get:function(){return this.lazyEvtAttach.evt},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"evtDetach",{get:function(){return this.lazyEvtDetach.evt},enumerable:!1,configurable:!0}),I.prototype.setMaxHandlers=function(k){return this.__maxHandlers=isFinite(k)?k:0,this},I.prototype.enableTrace=function(k){var O=k.id,C=k.formatter,M=k.log;this.traceId=O,this.traceFormatter=C||function(B){try{return JSON.stringify(B,null,2)}catch{return"".concat(B)}},this.log=M===void 0?function(){for(var B=[],ee=0;ee<arguments.length;ee++)B[ee]=arguments[ee];return console.log.apply(console,l([],a(B),!1))}:M===!1?void 0:M},I.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(I.prototype,"asyncHandlerChronologyMark",{get:function(){var k,O,C,M;return(O=(M=(k=(C=this)["~internal"])!==null&&k!==void 0?k:C["~internal"]={}).asyncHandlerChronologyMark)!==null&&O!==void 0?O:M.asyncHandlerChronologyMark=new R.Polyfill},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"asyncHandlerChronologyExceptionRange",{get:function(){var k,O,C,M;return(O=(M=(k=(C=this)["~internal"])!==null&&k!==void 0?k:C["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&O!==void 0?O:M.asyncHandlerChronologyExceptionRange=new R.Polyfill},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"invocableOpByOp",{get:function(){var k,O,C,M;return(O=(M=(k=(C=this)["~internal"])!==null&&k!==void 0?k:C["~internal"]={}).invocableOpByOp)!==null&&O!==void 0?O:M.invocableOpByOp=new R.Polyfill},enumerable:!1,configurable:!0}),I.prototype.getInvocableOp=function(k){var O=this.invocableOpByOp.get(k);if(O===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return O},I.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},I.prototype.detachHandler=function(k,O,C){var M=this.handlers.indexOf(k);return M<0?!1:((0,J.typeGuard)(k,!!k.ctx)&&k.ctx.zz__removeHandler(k),this.handlers.splice(M,1),k.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(k),O[0]!==void 0&&((0,V.safeClearTimeout)(O[0]),C(new Q.DetachedEvtError)),this.lazyEvtDetach.post(k),!0)},I.prototype.triggerHandler=function(k,O,C,M){var B=k.callback,ee=k.once;O[0]!==void 0&&((0,V.safeClearTimeout)(O[0]),O[0]=void 0),ee&&k.detach();var ne=a(M,1),me=ne[0],re=B==null?void 0:B.call(this,me);return C==null||C(me),(0,Z.isPromiseLike)(re)?re:void 0},I.prototype.addHandler=function(k,O){var C=this,M;this.invocableOpByOp.set(k.op,(0,ge.convertOperatorToStatelessF\u03BB)(k.op));var B=new q.Deferred,ee=[void 0],ne=e(e(e({},k),O),{detach:function(){return C.detachHandler(ne,ee,B.reject)},promise:B.pr});typeof ne.timeout=="number"&&(ee[0]=(0,V.safeSetTimeout)(function(){ee[0]=void 0,ne.detach(),B.reject(new Q.TimeoutEvtError(ne.timeout))},ne.timeout));var me=function(ye){return C.triggerHandler(ne,ee,B.isPending?B.resolve:void 0,ye)};if(this.handlerTriggers.set(ne,me),ne.async&&this.asyncHandlerChronologyMark.set(ne,this.getChronologyMark()),ne.prepend){var re=void 0;for(re=0;re<this.handlers.length&&this.handlers[re].extract;re++);this.handlers.splice(re,0,ne)}else this.handlers.push(ne);return ne.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,J.typeGuard)(ne,!!ne.ctx)&&ne.ctx.zz__addHandler(ne,this),(M=n.onAddHandlerByEvt.get(this))===null||M===void 0||M(ne,me),this.handlerTriggers.has(ne)&&this.lazyEvtAttach.post(ne),ne},I.prototype.checkForPotentialMemoryLeak=function(){var k=this.__maxHandlers!==void 0?this.__maxHandlers:I.__defaultMaxHandlers;if(!(k===0||this.handlers.length%(k+1)!==0)){var O=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(I.__defaultMaxHandlers,`.
`)].join(""),C=new A.Polyfill;this.getHandlers().map(function(M){var B=M.ctx,ee=M.async,ne=M.once,me=M.prepend,re=M.extract,ye=M.op,je=M.callback;return e(e({hasCtx:!!B,once:ne,prepend:me,extract:re,isWaitFor:ee},ye===b.matchAll?{}:{op:ye.toString()}),je?{callback:je.toString()}:{})}).map(function(M){return`{
`+Object.keys(M).map(function(B){return"  ".concat(B,": ").concat(M[B])}).join(`,
`)+`
}`}).forEach(function(M){return C.set(M,(C.has(M)?C.get(M):0)+1)}),O+=`
`+Array.from(C.keys()).map(function(M){return"".concat(C.get(M)," handler").concat(C.get(M)===1?"":"s",` like:
`).concat(M)}).join(`
`)+`
`,this.traceId===null&&(O+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(O)}catch{}}},I.prototype.isHandledByOp=function(k,O){var C=!1,M;try{M=this.getInvocableOp(k)}catch{return!1}var B=M(O,function(){return C=!0});return B!==null||C},I.prototype.trace=function(k){var O=this,C;if(this.traceId!==null){var M="(".concat(this.traceId,") "),B=!!this.handlers.find(function(ne){var me=ne.extract,re=ne.op;return me&&O.isHandledByOp(re,k)});if(B)M+="extracted ";else{var ee=this.handlers.filter(function(ne){var me=ne.extract,re=ne.op;return!me&&O.isHandledByOp(re,k)}).length;M+="".concat(ee," handler").concat(ee>1?"s":"",", ")}(C=this.log)===null||C===void 0||C.call(this,M+this.traceFormatter(k))}},I.prototype.postSync=function(k){var O,C,M=[],B=function(Ae){return[Ae,Promise.all(M).then(function(){})]};try{for(var ee=u(l([],a(this.handlers),!1)),ne=ee.next();!ne.done;ne=ee.next()){var me=ne.value,re=me.async,ye=me.op,je=me.extract;if(!re){var jt=this.handlerTriggers.get(me),Ce=this.getInvocableOp(ye)(k,Y);if(Ce!==null&&!!jt){var ke=jt(Ce);if(ke!==void 0&&M.push(ke),je)return B(!0)}}}}catch(Ae){O={error:Ae}}finally{try{ne&&!ne.done&&(C=ee.return)&&C.call(ee)}finally{if(O)throw O.error}}return B(!1)},I.prototype.postAsyncFactory=function(){var k=this;return N.buildMethodCb(function(O,C,M){var B,ee;if(k.asyncHandlerCount===0){M();return}var ne=[],me;Promise.resolve().then(function(){return me=k.getChronologyMark()});var re=function(ke){if(!ke.async)return"continue";var Ae=k.getInvocableOp(ke.op)(O,Y);if(Ae===null)return"continue";var Be=k.handlerTriggers.get(ke);if(!Be)return"continue";var He=function(){var Fe=k.asyncHandlerChronologyMark.get(ke);if(C>Fe)return!0;var At=k.asyncHandlerChronologyExceptionRange.get(ke);return At!==void 0&&At.lowerMark<C&&C<At.upperMark&&Fe>At.upperMark}();if(!He)return"continue";ne.push(new Promise(function(Fe){return ke.promise.then(function(){return Fe()}).catch(function(){return Fe()})})),Be(Ae)};try{for(var ye=u(l([],a(k.handlers),!1)),je=ye.next();!je.done;je=ye.next()){var jt=je.value;re(jt)}}catch(ke){B={error:ke}}finally{try{je&&!je.done&&(ee=ye.return)&&ee.call(ye)}finally{if(B)throw B.error}}if(ne.length===0){M();return}var Ce=l([],a(k.handlers),!1);Promise.all(ne).then(function(){var ke,Ae;try{for(var Be=u(k.handlers),He=Be.next();!He.done;He=Be.next()){var Fe=He.value;!Fe.async||Ce.indexOf(Fe)>=0||k.asyncHandlerChronologyExceptionRange.set(Fe,{lowerMark:C,upperMark:me})}}catch(At){ke={error:At}}finally{try{He&&!He.done&&(Ae=Be.return)&&Ae.call(Be)}finally{if(ke)throw ke.error}}M()})})},I.prototype.isHandled=function(k){var O=this;return!!this.getHandlers().find(function(C){var M=C.op;return O.isHandledByOp(M,k)})},I.prototype.getHandlers=function(){return l([],a(this.handlers),!1)},I.prototype.detach=function(k){var O,C,M=[];try{for(var B=u(this.getHandlers()),ee=B.next();!ee.done;ee=B.next()){var ne=ee.value;if(!(k!==void 0&&ne.ctx!==k)){var me=ne.detach();!me||M.push(ne)}}}catch(re){O={error:re}}finally{try{ee&&!ee.done&&(C=B.return)&&C.call(B)}finally{if(O)throw O.error}}return M},I.prototype.pipe=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];var C=new I;return this.addHandler(e(e({},(0,b.parsePropsFromArgs)(k,"pipe")),{callback:function(M){return C.post(M)}}),I.propsFormMethodNames.attach),C},I.prototype.waitFor=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.addHandler((0,b.parsePropsFromArgs)(k,"waitFor"),I.propsFormMethodNames.waitFor).promise},I.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},I.prototype.iter=function(){for(var k,O,C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];var B=(0,b.parsePropsFromArgs)(C,"waitFor"),ee=(O=B.ctx)!==null&&O!==void 0?O:(0,T.newCtx)(),ne=this;return k={ctx:ee},k[Symbol.asyncIterator]=function(){var me=ee.evtDoneOrAborted.postCount,re=function(){var Ce=B.timeout;if(Ce!==void 0){var ke=function(){var Be=new Q.TimeoutEvtError(Ce);ee.abort(Be)},Ae=setTimeout(ke,Ce);return{timeout:Ce,setTimeoutCallback:ke,timer:Ae}}}(),ye=ne.pipe(ee,B.op).pipe(function(Ce,ke){return re!==void 0&&ke(function(){clearTimeout(re.timer),re.timer=setTimeout(re.setTimeoutCallback,re.timeout)}),[Ce]}),je=[];if(ye.attach(function(Ce){return je.push([Ce])}),re!==void 0){var jt=re.timer;ee.evtDoneOrAborted.attachOnce(function(Ce){return Ce.type==="DONE"},function(){return clearTimeout(jt)})}return{next:function(){return s(this,void 0,void 0,function(){var Ce,ke,Ae,Be;return o(this,function(He){switch(He.label){case 0:return Ce=je.shift(),Ce!==void 0?[3,2]:(ke=new q.Deferred,me<ee.evtDoneOrAborted.postCount?[2,{done:!0}]:(Ae=(0,T.newCtx)(),ee.evtDoneOrAborted.attachOnce(Ae,function(){return ke.resolve(void 0)}),ye.attachOnceExtract(Ae,function(Fe){Ae.done(),ke.resolve([Fe])}),[4,ke.pr]));case 1:if(Ce=He.sent(),Ce===void 0)return[2,{done:!0}];He.label=2;case 2:return Be={done:!1,value:Ce[0]},[2,Be]}})})},return:function(){return ne.detach(ee),{done:!0}}}},k},I.prototype.$attach=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.attach.apply(this,l([],a(k),!1))},I.prototype.attach=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.__attachX(k,"attach")},I.prototype.$attachOnce=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.attachOnce.apply(this,l([],a(k),!1))},I.prototype.attachOnce=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.__attachX(k,"attachOnce")},I.prototype.$attachExtract=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.attachExtract.apply(this,l([],a(k),!1))},I.prototype.attachExtract=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.__attachX(k,"attachExtract")},I.prototype.$attachPrepend=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.attachPrepend.apply(this,l([],a(k),!1))},I.prototype.attachPrepend=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.__attachX(k,"attachPrepend")},I.prototype.$attachOncePrepend=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.attachOncePrepend.apply(this,l([],a(k),!1))},I.prototype.attachOncePrepend=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.__attachX(k,"attachOncePrepend")},I.prototype.$attachOnceExtract=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.attachOnceExtract.apply(this,l([],a(k),!1))},I.prototype.attachOnceExtract=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return this.__attachX(k,"attachOnceExtract")},I.prototype.__attachX=function(k,O){var C=(0,b.parsePropsFromArgs)(k,"attach*"),M=this.addHandler(C,I.propsFormMethodNames[O]);return C.timeout===void 0?this:M.promise},I.prototype.postAsyncOnceHandled=function(k){var O=this;if(this.isHandled(k))return this.post(k);var C=new q.Deferred;return this.evtAttach.attachOnce(function(M){var B=M.op;return O.isHandledByOp(B,k)},function(){return Promise.resolve().then(function(){return C.resolve(O.post(k))})}),C.pr},I.prototype.postOrPostAndWait=function(k,O){var C=this;this.trace(k),(0,G.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var M=this.getChronologyMark(),B=a(this.postSync(k),2),ee=B[0],ne=B[1],me=O?function(){return ne}:function(){return C.postCount};if(ee)return me();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return me();this.postAsync=this.postAsyncFactory()}return this.postAsync(k,M),me()},I.prototype.post=function(k){return this.postOrPostAndWait(k,!1)},I.prototype.postAndWait=function(k){return this.postOrPostAndWait(k,!0)},I.create=h.create,I.newCtx=T.newCtx,I.merge=m.merge,I.from=_.from,I.getCtx=(0,f.getCtxFactory)(),I.loosenType=K.loosenType,I.factorize=p.factorize,I.asPostable=v.asPostable,I.asyncPipe=y.asyncPipe,I.asNonPostable=j.asNonPostable,I.__defaultMaxHandlers=25,I.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},I}();n.onAddHandlerByEvt=new R.Polyfill,n.Evt=se;try{(0,G.overwriteReadonlyProp)(n.Evt,"name","Evt")}catch{}c.importProxy.Evt=n.Evt})(ti);var al={};Object.is||(Object.is=function(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e});var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.LazyStatefulEvt=void 0;var oh=xt(),lh=Ue,ah=function(){function n(e){this.initialPostCount=0,this.initialState=e}return Object.defineProperty(n.prototype,"evt",{get:function(){return this.__evt===void 0&&(this.__evt=new lh.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,oh.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},enumerable:!1,configurable:!0}),n.prototype.__post=function(e,t){return this.__evt===void 0?(this.initialState=e,++this.initialPostCount):this.__evt[t?"postAndWait":"post"](e)},n.prototype.post=function(e){return this.__post(e,!1)},n.prototype.postAndWait=function(e){return this.__post(e,!0)},n}();ur.LazyStatefulEvt=ah;(function(n){var e=x&&x.__extends||function(){var h=function(f,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(m[v]=_[v])},h(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),t=x&&x.__read||function(h,f){var p=typeof Symbol=="function"&&h[Symbol.iterator];if(!p)return h;var m=p.call(h),_,v=[],y;try{for(;(f===void 0||f-- >0)&&!(_=m.next()).done;)v.push(_.value)}catch(j){y={error:j}}finally{try{_&&!_.done&&(p=m.return)&&p.call(m)}finally{if(y)throw y.error}}return v},r=x&&x.__spreadArray||function(h,f,p){if(p||arguments.length===2)for(var m=0,_=f.length,v;m<_;m++)(v||!(m in f))&&(v||(v=Array.prototype.slice.call(f,0,m)),v[m]=f[m]);return h.concat(v||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.StatefulEvt=void 0;var i=Wt,s=ur,o=Ue,a=bt,l=ti,u=function(h){return h()},c=function(h){e(f,h);function f(p){var m=h.call(this)||this;return m.lazyEvtDiff=new i.LazyEvt,m.lazyEvtChangeDiff=new i.LazyEvt,m.__state=p,m.lazyEvtChange=new s.LazyStatefulEvt(m.__state),l.onAddHandlerByEvt.set(m,function(_,v){if(!_.extract){var y=m.getInvocableOp(_.op)(m.__state,u);!y||v(y)}}),m}return Object.defineProperty(f.prototype,"state",{get:function(){return this.__state},set:function(p){this.state!==p&&this.post(p)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"evtDiff",{get:function(){return this.lazyEvtDiff.evt},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"evtChange",{get:function(){return this.lazyEvtChange.evt},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"evtChangeDiff",{get:function(){return this.lazyEvtChangeDiff.evt},enumerable:!1,configurable:!0}),f.prototype.post=function(p){return this.__post(p,!1,!1)},f.prototype.postForceChange=function(p){return this.__post(p?p[0]:this.state,!0,!1)},f.prototype.postAndWait=function(p){return this.__post(p,!1,!0)},f.prototype.__post=function(p,m,_){var v=this.state;this.__state=p;var y={prevState:v,newState:this.state},j=_?"postAndWait":"post",b=[],T=this.lazyEvtDiff[j](y);if(_&&b.push(T),m||!Object.is(v,this.state)){var P=this.lazyEvtChange[j](this.state),A=this.lazyEvtChangeDiff[j](y);_&&b.push(P,A)}var R=h.prototype[j].call(this,p);return _?(b.push(R),Promise.all(b).then(function(){})):R},f.prototype.pipe=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var _=h.prototype.pipe.apply(this,r([],t(p),!1)),v=this.getInvocableOp((0,a.parsePropsFromArgs)(p,"pipe").op)(this.__state,u);if(!v)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return _.toStateful(v[0])},f.prototype.toStateless=function(p){var m=l.onAddHandlerByEvt.get(this);l.onAddHandlerByEvt.delete(this);var _=p?h.prototype.pipe.call(this,p):h.prototype.pipe.call(this);return l.onAddHandlerByEvt.set(this,m),_},f}(l.Evt);n.StatefulEvt=c,o.importProxy.StatefulEvt=n.StatefulEvt})(al);(function(n){var e=x&&x.__createBinding||(Object.create?function(o,a,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,u,c)}:function(o,a,l,u){u===void 0&&(u=l),o[u]=a[l]}),t=x&&x.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,o,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.StatefulEvt=n.Evt=n.Ctx=void 0,t(Jo,n),t(Xo,n);var r=nl;Object.defineProperty(n,"Ctx",{enumerable:!0,get:function(){return r.Ctx}});var i=ti;Object.defineProperty(n,"Evt",{enumerable:!0,get:function(){return i.Evt}});var s=al;Object.defineProperty(n,"StatefulEvt",{enumerable:!0,get:function(){return s.StatefulEvt}})})(pn);const at=async()=>{const e=await(await fetch("https://ubifood-backend.deno.dev/ubifood/getStore",{method:"POST",body:Et.auth.user().id})).json();let t;e.map(({schedule:l,weekends:u})=>{t=Object.assign({},{schedule:l,weekends:u})});let r;e.map(({nameStore:l,addressStore:u,phoneStore:c,numberStore:h,shippingStore:f})=>{r=Object.assign({},{nameStore:l,addressStore:u,phoneStore:c,numberStore:h,shippingStore:f})});let i;e.map(({imageStore:l,imageSrc:u})=>{i={imageStore:l,imageSrc:u}});let s;e.map(({menuStore:l})=>{s=l});let o=[];e.map(({categories:l})=>{l.map(u=>{o.push(Object.assign({},u,{products:[]}))})});let a=[];for(const l in e[0])l.length===21&&a.push(Object.assign({},{idProduct:l},...e[0][l]));return o.map(l=>{a.map(({idCategories:u,descriptionProduct:c,idProduct:h,imageProduct:f,nameProduct:p,priceProduct:m,imageSrc:_})=>{l.idCategories===u&&l.products.push(Object.assign({},{descriptionProduct:c,idProduct:h,nameProduct:p,priceProduct:m},{imageProduct:"2710"},{imageSrc:_}))})}),{imageProfile:i,dateSimple:r,timeDate:t,menuImage:s,category:o}},uh=_e("update"),Ut=_e({imageStore:"",imageSrc:""}),Pn=_e({menuStore:[]});let Nr;Ut.subscribe(n=>Nr=n);let ul;Pn.subscribe(n=>ul=n);let On,et=_e([{nameStore:"",addressStore:"",phoneStore:"",numberStore:"",shippingStore:""}]);et.subscribe(n=>On=n);let tn={schedule:"-",weekends:"-"};const Ur=_e([]);let cl;Ur.subscribe(n=>cl=n);const ch=async n=>{try{const e=pn.Evt.create(),t=new FileReader;if(t.readAsDataURL(n),t.addEventListener("load",()=>{e.post(encodeURIComponent(t.result))}),t.error)throw t.error;return await e.waitFor()}catch{return""}},fh=async(n,e,t,r)=>{let i=[],s=[];cl.map(({idCategories:f,nameCategories:p,products:m})=>{i.push({idCategories:f,nameCategories:p}),m.map(async({idProduct:_,nameProduct:v,priceProduct:y,descriptionProduct:j,imageProduct:b,imageSrc:T})=>{s.push({[_]:{idCategories:f,nameProduct:v,priceProduct:y,descriptionProduct:j,imageProduct:ch(b[0]),imageSrc:T}})})});let o=[];for(const f of s){let p=[];for(const m in f){o.push({[m]:p});for(const _ in f[m])p.push({[_]:await f[m][_]})}}const a=Object.assign({},{imageStore:Nr.imageStore},ul,...On,tn,{categories:i},...o,{accountId:Et.auth.user().id},{imageSrc:Nr.imageSrc});let l=[];o.map(async f=>{let p=[];for(const m in f)for(const _ of f[m])Object.values(_)[0]!==""&&p.push(_);return p.length>=4?l=[!0]:l=[!1]});let u=a.categories.map(f=>f.nameCategories[0]!==""),c=[];for(const f in On[0])On[0][f]!==""&&c.push(!0);let h=[];for(const f in tn)tn[f].split("-").every(p=>p!=="")&&h.push(!0);if(u.length>0&&u.every(f=>f===!0)&&c.length===5&&c.every(f=>f===!0)&&h.every(f=>f===!0)&&l[0]===!0){r.target.disabled=!0;const p=await(await fetch("https://ubifood-backend.deno.dev/ubifood/updateStore",{method:"POST",body:JSON.stringify(a)})).text();if(p==="there are no changes")return Kf("No hay cambios en su tienda",2e3),r.target.disabled=!1;JSON.parse(p).length>0&&(Qf("Tienda actualizada",2e3),JSON.parse(p).map(m=>{if(m==="imageStore")return n();if(m==="menuStore")return e();if(m.length===21)return t()}),r.target.disabled=!1)}};function ts(n,e,t){const r=n.slice();return r[11]=e[t].nameStore,r[12]=e[t].addressStore,r[13]=e[t].numberStore,r[14]=e[t].phoneStore,r[15]=e[t].shippingStore,r[16]=e,r[17]=t,r}function ns(n){let e,t;return e=new Ct({props:{name:"name"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function rs(n){let e,t;return e=new Ct({props:{name:"address"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function is(n){let e,t;return e=new Ct({props:{name:"number"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function ss(n){let e,t;return e=new Ct({props:{name:"whatsapp"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function os(n){let e,t;return e=new Ct({props:{name:"shipping"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function ls(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N,G,J,q,K,V,Z;function Q(){n[5].call(i,n[16],n[17])}let ie=n[0]==="update"&&ns();function ge(){n[6].call(u,n[16],n[17])}let Y=n[0]==="update"&&rs();function X(){n[7].call(m,n[16],n[17])}let se=n[0]==="update"&&is();function I(){n[8].call(b,n[16],n[17])}let k=n[0]==="update"&&ss();function O(){n[9].call(N,n[16],n[17])}let C=n[0]==="update"&&os();return{c(){e=w("div"),t=w("label"),t.textContent="Nombre de su tienda",r=E(),i=w("input"),s=E(),ie&&ie.c(),o=E(),a=w("label"),a.textContent="Dirrecci\xF3n de su tienda",l=E(),u=w("input"),c=E(),Y&&Y.c(),h=E(),f=w("label"),f.textContent="N\xFAmero de telefono",p=E(),m=w("input"),_=E(),se&&se.c(),v=E(),y=w("label"),y.textContent="N\xFAmero de Whatsapp",j=E(),b=w("input"),T=E(),k&&k.c(),P=E(),A=w("label"),A.textContent="Costo de env\xEDo",R=E(),N=w("input"),G=E(),C&&C.c(),J=E(),d(t,"for","nameStore"),d(t,"class","svelte-19e7mgq"),d(i,"type","text"),d(i,"name","nameStore"),d(i,"placeholder","Introducir nombre de su tienda..."),d(i,"autocomplete","off"),i.disabled=n[1],d(i,"class","svelte-19e7mgq"),d(a,"for","addressStore"),d(a,"class","svelte-19e7mgq"),d(u,"type","text"),d(u,"name","addressStore"),d(u,"placeholder","Introducir su dirrecci\xF3n..."),d(u,"autocomplete","off"),u.disabled=n[1],d(u,"class","svelte-19e7mgq"),d(f,"for","numberStore"),d(f,"class","svelte-19e7mgq"),d(m,"type","text"),d(m,"name","numberStore"),d(m,"placeholder","11 9999-9999"),d(m,"autocomplete","off"),m.disabled=n[1],d(m,"class","svelte-19e7mgq"),d(y,"for","whatsappStore"),d(y,"class","svelte-19e7mgq"),d(b,"type","text"),d(b,"name","whatsappStore"),d(b,"placeholder","11 9999-9999"),d(b,"autocomplete","off"),b.disabled=n[1],d(b,"class","svelte-19e7mgq"),d(A,"for","shippingStore"),d(A,"class","svelte-19e7mgq"),d(N,"type","text"),d(N,"name","shippingStore"),d(N,"placeholder","Introducir coste de env\xEDo..."),d(N,"autocomplete","off"),N.disabled=n[1],d(N,"class","svelte-19e7mgq"),d(e,"class",q="box-data "+n[0]+" svelte-19e7mgq")},m(M,B){U(M,e,B),g(e,t),g(e,r),g(e,i),le(i,n[11]),g(e,s),ie&&ie.m(e,null),g(e,o),g(e,a),g(e,l),g(e,u),le(u,n[12]),g(e,c),Y&&Y.m(e,null),g(e,h),g(e,f),g(e,p),g(e,m),le(m,n[13]),g(e,_),se&&se.m(e,null),g(e,v),g(e,y),g(e,j),g(e,b),le(b,n[14]),g(e,T),k&&k.m(e,null),g(e,P),g(e,A),g(e,R),g(e,N),le(N,n[15]),g(e,G),C&&C.m(e,null),g(e,J),K=!0,V||(Z=[te(i,"input",Q),te(u,"input",ge),te(m,"input",X),te(b,"input",I),te(N,"input",O),te(e,"click",n[3])],V=!0)},p(M,B){n=M,(!K||B&2)&&(i.disabled=n[1]),B&4&&i.value!==n[11]&&le(i,n[11]),n[0]==="update"?ie?B&1&&$(ie,1):(ie=ns(),ie.c(),$(ie,1),ie.m(e,o)):ie&&(he(),S(ie,1,1,()=>{ie=null}),pe()),(!K||B&2)&&(u.disabled=n[1]),B&4&&u.value!==n[12]&&le(u,n[12]),n[0]==="update"?Y?B&1&&$(Y,1):(Y=rs(),Y.c(),$(Y,1),Y.m(e,h)):Y&&(he(),S(Y,1,1,()=>{Y=null}),pe()),(!K||B&2)&&(m.disabled=n[1]),B&4&&m.value!==n[13]&&le(m,n[13]),n[0]==="update"?se?B&1&&$(se,1):(se=is(),se.c(),$(se,1),se.m(e,v)):se&&(he(),S(se,1,1,()=>{se=null}),pe()),(!K||B&2)&&(b.disabled=n[1]),B&4&&b.value!==n[14]&&le(b,n[14]),n[0]==="update"?k?B&1&&$(k,1):(k=ss(),k.c(),$(k,1),k.m(e,P)):k&&(he(),S(k,1,1,()=>{k=null}),pe()),(!K||B&2)&&(N.disabled=n[1]),B&4&&N.value!==n[15]&&le(N,n[15]),n[0]==="update"?C?B&1&&$(C,1):(C=os(),C.c(),$(C,1),C.m(e,J)):C&&(he(),S(C,1,1,()=>{C=null}),pe()),(!K||B&1&&q!==(q="box-data "+n[0]+" svelte-19e7mgq"))&&d(e,"class",q)},i(M){K||($(ie),$(Y),$(se),$(k),$(C),K=!0)},o(M){S(ie),S(Y),S(se),S(k),S(C),K=!1},d(M){M&&D(e),ie&&ie.d(),Y&&Y.d(),se&&se.d(),k&&k.d(),C&&C.d(),V=!1,Re(Z)}}}function dh(n){let e,t,r=n[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=ls(ts(n,r,o));const s=o=>S(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ie()},m(o,a){for(let l=0;l<i.length;l+=1)i[l].m(o,a);U(o,e,a),t=!0},p(o,[a]){if(a&15){r=o[2];let l;for(l=0;l<r.length;l+=1){const u=ts(o,r,l);i[l]?(i[l].p(u,a),$(i[l],1)):(i[l]=ls(u),i[l].c(),$(i[l],1),i[l].m(e.parentNode,e))}for(he(),l=r.length;l<i.length;l+=1)s(l);pe()}},i(o){if(!t){for(let a=0;a<r.length;a+=1)$(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)S(i[a]);t=!1},d(o){Te(i,o),o&&D(e)}}}function hh(n,e,t){let r;de(n,et,m=>t(2,r=m));let{typeBox:i="create"}=e,{dateSimple:s}=e;et.set([s]);let o=!1;i==="update"&&(o=!0);const a=m=>{const _=m.target,v=_.checked,y=_.parentNode.previousSibling.previousSibling;if(v)return y.disabled=!1,y.style.borderColor="hsl(120, 60.8%, 50%)";y.disabled=!0,y.style.borderColor="hsl(0,0%,100%)"},l=m=>{m.target.type==="checkbox"&&a(m)};function u(m,_){m[_].nameStore=this.value,et.set(r)}function c(m,_){m[_].addressStore=this.value,et.set(r)}function h(m,_){m[_].numberStore=this.value,et.set(r)}function f(m,_){m[_].phoneStore=this.value,et.set(r)}function p(m,_){m[_].shippingStore=this.value,et.set(r)}return n.$$set=m=>{"typeBox"in m&&t(0,i=m.typeBox),"dateSimple"in m&&t(4,s=m.dateSimple)},[i,o,r,l,s,u,c,h,f,p]}class ph extends fe{constructor(e){super(),ce(this,e,hh,dh,ue,{typeBox:0,dateSimple:4})}}const mh=(n,e,t)=>{const r=n.nextSibling,i=e.nextSibling;n.style.borderColor=t,e.style.borderColor=t,r.style.borderColor=t,i.style.borderColor=t},as=(n,e,t)=>{const r=n.parentNode.previousSibling.previousSibling.previousSibling,i=r.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling;r.disabled=e,i.disabled=e,mh(i,r,t)},_h=n=>{if(n.target.type==="checkbox")return n.target.checked?as(n.target,!1,"hsl(120, 60.8%, 50%)"):as(n.target,!0,"hsl(0,0%,100%)")};function gh(n){let e,t;return e=new ae({props:{name:"clock",color:"hsl(0,0%,100%)",size:2}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function vh(n){let e,t;return e=new Ct({props:{name:"Schedule"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function bh(n){let e,t;return e=new ae({props:{name:"clock",color:"hsl(0,0%,100%)",size:2}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function yh(n){let e,t;return e=new Ct({props:{name:"Weekends"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function $h(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N,G,J,q,K,V,Z,Q,ie,ge;c=new ae({props:{name:"minus",color:"hsl(0,0%,100%)",size:.6}});const Y=[vh,gh],X=[];function se(C,M){return C[0]?0:1}_=se(n),v=X[_]=Y[_](n),N=new ae({props:{name:"minus",color:"hsl(0,0%,100%)",size:.6}});const I=[yh,bh],k=[];function O(C,M){return C[0]?0:1}return V=O(n),Z=k[V]=I[V](n),{c(){e=w("div"),t=w("h3"),t.textContent="Horarios",r=E(),i=w("label"),i.textContent="LUNES A VIERNES",s=E(),o=w("input"),a=w("span"),a.textContent="am",l=E(),u=w("span"),H(c.$$.fragment),h=E(),f=w("input"),p=w("span"),p.textContent="pm",m=E(),v.c(),y=E(),j=w("label"),j.textContent="SABADO",b=E(),T=w("input"),P=w("span"),P.textContent="am",A=E(),R=w("span"),H(N.$$.fragment),G=E(),J=w("input"),q=w("span"),q.textContent="pm",K=E(),Z.c(),d(t,"class","svelte-1f0pwzf"),d(i,"for","schedule"),d(i,"class","svelte-1f0pwzf"),d(o,"type","text"),d(o,"placeholder","8:30"),o.disabled=n[0],d(o,"class","svelte-1f0pwzf"),d(a,"class","svelte-1f0pwzf"),d(u,"class","space svelte-1f0pwzf"),d(f,"type","text"),d(f,"placeholder","18:30"),f.disabled=n[0],d(f,"class","svelte-1f0pwzf"),d(p,"class","svelte-1f0pwzf"),d(j,"for","weekends"),d(j,"class","svelte-1f0pwzf"),d(T,"type","text"),d(T,"placeholder","8:30"),T.disabled=n[0],d(T,"class","svelte-1f0pwzf"),d(P,"class","svelte-1f0pwzf"),d(R,"class","space svelte-1f0pwzf"),d(J,"type","text"),d(J,"placeholder","18:30"),J.disabled=n[0],d(J,"class","svelte-1f0pwzf"),d(q,"class","svelte-1f0pwzf"),d(e,"class","svelte-1f0pwzf")},m(C,M){U(C,e,M),g(e,t),g(e,r),g(e,i),g(e,s),g(e,o),le(o,n[1].amS),g(e,a),g(e,l),g(e,u),L(c,u,null),g(e,h),g(e,f),le(f,n[1].pmS),g(e,p),g(e,m),X[_].m(e,null),g(e,y),g(e,j),g(e,b),g(e,T),le(T,n[1].amW),g(e,P),g(e,A),g(e,R),L(N,R,null),g(e,G),g(e,J),le(J,n[1].pmW),g(e,q),g(e,K),k[V].m(e,null),Q=!0,ie||(ge=[te(o,"input",n[3]),te(f,"input",n[4]),te(T,"input",n[5]),te(J,"input",n[6]),te(e,"click",_h)],ie=!0)},p(C,[M]){(!Q||M&1)&&(o.disabled=C[0]),M&2&&o.value!==C[1].amS&&le(o,C[1].amS),(!Q||M&1)&&(f.disabled=C[0]),M&2&&f.value!==C[1].pmS&&le(f,C[1].pmS);let B=_;_=se(C),_!==B&&(he(),S(X[B],1,1,()=>{X[B]=null}),pe(),v=X[_],v||(v=X[_]=Y[_](C),v.c()),$(v,1),v.m(e,y)),(!Q||M&1)&&(T.disabled=C[0]),M&2&&T.value!==C[1].amW&&le(T,C[1].amW),(!Q||M&1)&&(J.disabled=C[0]),M&2&&J.value!==C[1].pmW&&le(J,C[1].pmW);let ee=V;V=O(C),V!==ee&&(he(),S(k[ee],1,1,()=>{k[ee]=null}),pe(),Z=k[V],Z||(Z=k[V]=I[V](C),Z.c()),$(Z,1),Z.m(e,null))},i(C){Q||($(c.$$.fragment,C),$(v),$(N.$$.fragment,C),$(Z),Q=!0)},o(C){S(c.$$.fragment,C),S(v),S(N.$$.fragment,C),S(Z),Q=!1},d(C){C&&D(e),z(c),X[_].d(),z(N),k[V].d(),ie=!1,Re(ge)}}}function wh(n,e,t){let{typeBox:r=!1}=e,{datetime:i}=e;const{schedule:s,weekends:o}=i,a={amS:"",amW:"",pmS:"",pmW:""};a.amS=s.split("-")[0],a.pmS=s.split("-")[1],a.amW=o.split("-")[0],a.pmW=o.split("-")[1];function l(){a.amS=this.value,t(1,a)}function u(){a.pmS=this.value,t(1,a)}function c(){a.amW=this.value,t(1,a)}function h(){a.pmW=this.value,t(1,a)}return n.$$set=f=>{"typeBox"in f&&t(0,r=f.typeBox),"datetime"in f&&t(2,i=f.datetime)},n.$$.update=()=>{n.$$.dirty&2&&(tn.schedule=`${a.amS}-${a.pmS}`),n.$$.dirty&2&&(tn.weekends=`${a.amW}-${a.pmW}`)},[r,a,i,l,u,c,h]}class kh extends fe{constructor(e){super(),ce(this,e,wh,$h,ue,{typeBox:0,datetime:2})}}let Fn=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");const Sh=()=>{const{subscribe:n,update:e,set:t}=_e([]);let r;return n(u=>r=u),{subscribe:n,add:()=>e(u=>(u.push({idCategories:Fn(),nameCategories:[""],products:[]}),u)),remove:u=>e(c=>(r.filter((h,f)=>{h.idCategories===u&&c.splice(f,1)}),c)),establish:u=>t(u),addProduct:u=>e(c=>(r.filter(h=>{h.idCategories===u&&h.products.push({idProduct:Fn(),nameProduct:"",descriptionProduct:"",priceProduct:"",imageProduct:"",imageSrc:"2710"})}),c)),removeProduct:(u,c)=>e(h=>(r.filter(f=>{f.idCategories===u&&f.products.filter((p,m)=>{p.idProduct===c&&f.products.splice(m,1)})}),h))}};function us(n,e,t){const r=n.slice();return r[5]=e[t],r}const Eh=n=>({}),cs=n=>({});function fs(n){let e,t,r,i,s,o,a=n[5].img.name+"",l,u,c,h=n[2](n[5].img.size)+"",f,p;return{c(){e=w("div"),t=w("img"),s=E(),o=w("span"),l=oe(a),u=E(),c=w("span"),f=oe(h),p=E(),we(t.src,r=URL.createObjectURL(n[5].img))||d(t,"src",r),d(t,"alt",i=n[5].img.name),d(t,"class","svelte-1lt1gw8"),d(o,"class","svelte-1lt1gw8"),d(c,"class","size svelte-1lt1gw8"),d(e,"class","info svelte-1lt1gw8")},m(m,_){U(m,e,_),g(e,t),g(e,s),g(e,o),g(o,l),g(e,u),g(e,c),g(c,f),g(e,p)},p(m,_){_&2&&!we(t.src,r=URL.createObjectURL(m[5].img))&&d(t,"src",r),_&2&&i!==(i=m[5].img.name)&&d(t,"alt",i),_&2&&a!==(a=m[5].img.name+"")&&be(l,a),_&2&&h!==(h=m[2](m[5].img.size)+"")&&be(f,h)},d(m){m&&D(e)}}}function ds(n){let e,t=n[5].id===n[0]&&fs(n);return{c(){t&&t.c(),e=Ie()},m(r,i){t&&t.m(r,i),U(r,e,i)},p(r,i){r[5].id===r[0]?t?t.p(r,i):(t=fs(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&D(e)}}}function Ch(n){let e,t,r,i,s,o,a,l;const u=n[4].files,c=yt(u,n,n[3],cs);o=new ae({props:{name:"camera",color:"hsl(0,0%,100%)",size:1.7}});let h=n[1],f=[];for(let p=0;p<h.length;p+=1)f[p]=ds(us(n,h,p));return{c(){e=w("div"),t=w("label"),c&&c.c(),r=E(),i=w("span"),i.textContent="SUBIR IMAGEN",s=E(),H(o.$$.fragment),a=E();for(let p=0;p<f.length;p+=1)f[p].c();d(t,"for",n[0]),d(t,"class","svelte-1lt1gw8"),d(e,"class","box svelte-1lt1gw8")},m(p,m){U(p,e,m),g(e,t),c&&c.m(t,null),g(t,r),g(t,i),g(t,s),L(o,t,null),g(e,a);for(let _=0;_<f.length;_+=1)f[_].m(e,null);l=!0},p(p,[m]){if(c&&c.p&&(!l||m&8)&&wt(c,u,p,p[3],l?$t(u,p[3],m,Eh):kt(p[3]),cs),(!l||m&1)&&d(t,"for",p[0]),m&7){h=p[1];let _;for(_=0;_<h.length;_+=1){const v=us(p,h,_);f[_]?f[_].p(v,m):(f[_]=ds(v),f[_].c(),f[_].m(e,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=h.length}},i(p){l||($(c,p),$(o.$$.fragment,p),l=!0)},o(p){S(c,p),S(o.$$.fragment,p),l=!1},d(p){p&&D(e),c&&c.d(p),z(o),Te(f,p)}}}function Ph(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:s=""}=e,{details:o=[]}=e;const a=l=>{const u=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];let c=0;for(;l>=1024&&++c;)l=l/1024;return l.toFixed(l<10&&c>0?1:0)+" "+u[c]};return n.$$set=l=>{"name"in l&&t(0,s=l.name),"details"in l&&t(1,o=l.details),"$$scope"in l&&t(3,i=l.$$scope)},[s,o,a,i,r]}class Oh extends fe{constructor(e){super(),ce(this,e,Ph,Ch,ue,{name:0,details:1})}}const Th=()=>{const{subscribe:n,update:e}=_e([{id:"",img:[]}]);return{subscribe:n,add:(r,i)=>e(s=>{s.push({id:i,img:[]});var o={};return s=s.filter(function(a){var l=!o[a.id];return o[a.id]=!0,l}),s.map(({id:a},l)=>{a===i&&(s[l].img=r.target.files[0])}),s})}};function hs(n,e,t){const r=n.slice();return r[17]=e[t].idCategories,r[18]=e[t].nameCategories,r[19]=e[t].products,r}function ps(n,e,t){const r=n.slice();return r[22]=e[t].idProduct,r[23]=e[t].nameProduct,r[24]=e[t].descriptionProduct,r[25]=e[t].priceProduct,r[26]=e[t].imageProduct,r[27]=e[t].imageSrc,r[28]=e,r[29]=t,r}function ms(n,e,t){const r=n.slice();return r[30]=e[t],r[31]=e,r[32]=t,r}function _s(n){let e,t,r;function i(){n[7].call(e,n[31],n[32])}return{c(){e=w("input"),d(e,"type","text"),d(e,"name","nameCategory"),d(e,"placeholder","Ingrese el nombre de la categoria..."),d(e,"class","svelte-ayumdx")},m(s,o){U(s,e,o),le(e,n[30]),t||(r=te(e,"input",i),t=!0)},p(s,o){n=s,o[0]&2&&e.value!==n[30]&&le(e,n[30])},d(s){s&&D(e),t=!1,r()}}}function gs(n){let e,t;return{c(){e=w("img"),d(e,"class","image-food svelte-ayumdx"),we(e.src,t=n[27].secure_url)||d(e,"src",t),d(e,"alt","food_image")},m(r,i){U(r,e,i)},p(r,i){i[0]&2&&!we(e.src,t=r[27].secure_url)&&d(e,"src",t)},d(r){r&&D(e)}}}function Rh(n){let e,t,r,i;function s(){n[11].call(e,n[28],n[29])}function o(...a){return n[12](n[22],...a)}return{c(){e=w("input"),d(e,"type","file"),d(e,"slot","files"),d(e,"id",t=n[22]),d(e,"class","svelte-ayumdx"),W(e,"display","none",!1)},m(a,l){U(a,e,l),r||(i=[te(e,"change",s),te(e,"change",o)],r=!0)},p(a,l){n=a,l[0]&2&&t!==(t=n[22])&&d(e,"id",t)},d(a){a&&D(e),r=!1,Re(i)}}}function vs(n){let e,t,r,i,s,o,a,l,u,c,h;return a=new ae({props:{name:"pen-to-square",color:"hsl(0,0%,100%)",size:1}}),{c(){e=w("label"),t=w("input"),i=E(),s=w("span"),s.textContent="EDITAR PRODUCTO",o=E(),H(a.$$.fragment),d(t,"type","checkbox"),d(t,"id",r=n[22]+"5"),d(t,"class","svelte-ayumdx"),W(t,"display","none",!1),d(s,"class","svelte-ayumdx"),d(e,"for",l=n[22]+"5"),d(e,"class","edit-product svelte-ayumdx")},m(f,p){U(f,e,p),g(e,t),g(e,i),g(e,s),g(e,o),L(a,e,null),u=!0,c||(h=te(t,"click",n[4]),c=!0)},p(f,p){(!u||p[0]&2&&r!==(r=f[22]+"5"))&&d(t,"id",r),(!u||p[0]&2&&l!==(l=f[22]+"5"))&&d(e,"for",l)},i(f){u||($(a.$$.fragment,f),u=!0)},o(f){S(a.$$.fragment,f),u=!1},d(f){f&&D(e),z(a),c=!1,h()}}}function bs(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v=n[27]!==void 0&&n[27]!==""&&Object.keys(n[27]).length>0,y,j,b,T,P,A,R,N,G,J;function q(){n[8].call(i,n[28],n[29])}function K(){n[9].call(l,n[28],n[29])}function V(){n[10].call(f,n[28],n[29])}let Z=v&&gs(n);j=new Oh({props:{name:n[22],details:n[2],$$slots:{files:[Rh]},$$scope:{ctx:n}}});let Q=n[0]&&vs(n);R=new ae({props:{name:"close-simple",color:"hsl(0,0%,100%)",size:1}});function ie(){return n[13](n[17],n[22])}return{c(){e=w("div"),t=w("label"),t.textContent="Nombre del producto",r=E(),i=w("input"),s=E(),o=w("label"),o.textContent="Descripcion del producto",a=E(),l=w("textarea"),u=E(),c=w("label"),c.textContent="Precio del producto",h=E(),f=w("input"),p=E(),m=w("label"),m.textContent="Imagen del producto",_=E(),Z&&Z.c(),y=E(),H(j.$$.fragment),b=E(),Q&&Q.c(),T=E(),P=w("button"),A=oe(`ELIMINAR PRODUCTO
            `),H(R.$$.fragment),d(t,"for","nameProduct"),d(t,"class","svelte-ayumdx"),d(i,"type","text"),d(i,"name","nameProduct"),d(i,"placeholder","Ingrese el nombre..."),i.disabled=n[0],d(i,"autocomplete","off"),d(i,"class","svelte-ayumdx"),d(o,"for","descriptionProduct"),d(o,"class","svelte-ayumdx"),d(l,"type","text"),d(l,"name","descriptionProduct"),d(l,"placeholder","Agregue la descripcion del producto..."),l.disabled=n[0],d(l,"class","svelte-ayumdx"),d(c,"for","priceProduct"),d(c,"class","svelte-ayumdx"),d(f,"type","text"),d(f,"name","priceProduct"),d(f,"placeholder","Ingrese el precio..."),f.disabled=n[0],d(f,"autocomplete","off"),d(f,"class","svelte-ayumdx"),d(m,"for","imageProduct"),d(m,"class","svelte-ayumdx"),d(P,"class","remove-product svelte-ayumdx"),d(e,"class","product svelte-ayumdx")},m(ge,Y){U(ge,e,Y),g(e,t),g(e,r),g(e,i),le(i,n[23]),g(e,s),g(e,o),g(e,a),g(e,l),le(l,n[24]),g(e,u),g(e,c),g(e,h),g(e,f),le(f,n[25]),g(e,p),g(e,m),g(e,_),Z&&Z.m(e,null),g(e,y),L(j,e,null),g(e,b),Q&&Q.m(e,null),g(e,T),g(e,P),g(P,A),L(R,P,null),N=!0,G||(J=[te(i,"input",q),te(l,"input",K),te(f,"input",V),te(P,"click",ie)],G=!0)},p(ge,Y){n=ge,(!N||Y[0]&1)&&(i.disabled=n[0]),Y[0]&2&&i.value!==n[23]&&le(i,n[23]),(!N||Y[0]&1)&&(l.disabled=n[0]),Y[0]&2&&le(l,n[24]),(!N||Y[0]&1)&&(f.disabled=n[0]),Y[0]&2&&f.value!==n[25]&&le(f,n[25]),Y[0]&2&&(v=n[27]!==void 0&&n[27]!==""&&Object.keys(n[27]).length>0),v?Z?Z.p(n,Y):(Z=gs(n),Z.c(),Z.m(e,y)):Z&&(Z.d(1),Z=null);const X={};Y[0]&2&&(X.name=n[22]),Y[0]&4&&(X.details=n[2]),Y[0]&2|Y[1]&4&&(X.$$scope={dirty:Y,ctx:n}),j.$set(X),n[0]?Q?(Q.p(n,Y),Y[0]&1&&$(Q,1)):(Q=vs(n),Q.c(),$(Q,1),Q.m(e,T)):Q&&(he(),S(Q,1,1,()=>{Q=null}),pe())},i(ge){N||($(j.$$.fragment,ge),$(Q),$(R.$$.fragment,ge),N=!0)},o(ge){S(j.$$.fragment,ge),S(Q),S(R.$$.fragment,ge),N=!1},d(ge){ge&&D(e),Z&&Z.d(),z(j),Q&&Q.d(),z(R),G=!1,Re(J)}}}function ys(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m=n[18],_=[];for(let P=0;P<m.length;P+=1)_[P]=_s(ms(n,m,P));let v=n[19],y=[];for(let P=0;P<v.length;P+=1)y[P]=bs(ps(n,v,P));const j=P=>S(y[P],1,1,()=>{y[P]=null});o=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:1}});function b(){return n[14](n[17])}c=new ae({props:{name:"close-simple",color:"hsl(0,0%,100%)",size:1.2}});function T(){return n[15](n[17])}return{c(){e=w("div");for(let P=0;P<_.length;P+=1)_[P].c();t=E();for(let P=0;P<y.length;P+=1)y[P].c();r=E(),i=w("button"),s=oe(`AGREGAR PRODUCTOS
        `),H(o.$$.fragment),a=E(),l=w("button"),u=oe(`ELIMINAR CATEGORIAS
        `),H(c.$$.fragment),d(i,"class","add-products svelte-ayumdx"),d(l,"class","remove-products svelte-ayumdx"),d(e,"class","box-categories svelte-ayumdx")},m(P,A){U(P,e,A);for(let R=0;R<_.length;R+=1)_[R].m(e,null);g(e,t);for(let R=0;R<y.length;R+=1)y[R].m(e,null);g(e,r),g(e,i),g(i,s),L(o,i,null),g(e,a),g(e,l),g(l,u),L(c,l,null),h=!0,f||(p=[te(i,"click",b),te(l,"click",T)],f=!0)},p(P,A){if(n=P,A[0]&2){m=n[18];let R;for(R=0;R<m.length;R+=1){const N=ms(n,m,R);_[R]?_[R].p(N,A):(_[R]=_s(N),_[R].c(),_[R].m(e,t))}for(;R<_.length;R+=1)_[R].d(1);_.length=m.length}if(A[0]&63){v=n[19];let R;for(R=0;R<v.length;R+=1){const N=ps(n,v,R);y[R]?(y[R].p(N,A),$(y[R],1)):(y[R]=bs(N),y[R].c(),$(y[R],1),y[R].m(e,r))}for(he(),R=v.length;R<y.length;R+=1)j(R);pe()}},i(P){if(!h){for(let A=0;A<v.length;A+=1)$(y[A]);$(o.$$.fragment,P),$(c.$$.fragment,P),h=!0}},o(P){y=y.filter(Boolean);for(let A=0;A<y.length;A+=1)S(y[A]);S(o.$$.fragment,P),S(c.$$.fragment,P),h=!1},d(P){P&&D(e),Te(_,P),Te(y,P),z(o),z(c),f=!1,Re(p)}}}function jh(n){let e,t,r,i,s,o,a,l,u,c,h=n[1],f=[];for(let m=0;m<h.length;m+=1)f[m]=ys(hs(n,h,m));const p=m=>S(f[m],1,1,()=>{f[m]=null});return a=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:1.2}}),{c(){e=w("div"),t=w("h3"),t.textContent="PRODUCTOS",r=E();for(let m=0;m<f.length;m+=1)f[m].c();i=E(),s=w("button"),o=oe(`AGREGAR CATEGORIAS
    `),H(a.$$.fragment),d(t,"class","svelte-ayumdx"),d(s,"class","add-categories svelte-ayumdx"),d(e,"class","box-products svelte-ayumdx")},m(m,_){U(m,e,_),g(e,t),g(e,r);for(let v=0;v<f.length;v+=1)f[v].m(e,null);g(e,i),g(e,s),g(s,o),L(a,s,null),l=!0,u||(c=te(s,"click",n[3].add),u=!0)},p(m,_){if(_[0]&63){h=m[1];let v;for(v=0;v<h.length;v+=1){const y=hs(m,h,v);f[v]?(f[v].p(y,_),$(f[v],1)):(f[v]=ys(y),f[v].c(),$(f[v],1),f[v].m(e,i))}for(he(),v=h.length;v<f.length;v+=1)p(v);pe()}},i(m){if(!l){for(let _=0;_<h.length;_+=1)$(f[_]);$(a.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)S(f[_]);S(a.$$.fragment,m),l=!1},d(m){m&&D(e),Te(f,m),z(a),u=!1,c()}}}function Ah(n,e,t){let r,i,s;de(n,Ur,T=>t(16,i=T));let{typeBox:o=!1}=e,{category:a}=e;const l=Sh();de(n,l,T=>t(1,r=T)),l.establish(a),Oe(Ur,i=r,i);const u=T=>{T.target.parentNode.parentNode.childNodes.forEach(A=>{(A.nodeName==="INPUT"||A.nodeName==="TEXTAREA")&&(T.target.checked?A.disabled=!1:A.disabled=!0)})},c=Th();de(n,c,T=>t(2,s=T));function h(T,P){T[P]=this.value}function f(T,P){T[P].nameProduct=this.value}function p(T,P){T[P].descriptionProduct=this.value}function m(T,P){T[P].priceProduct=this.value}function _(T,P){T[P].imageProduct=this.files}const v=(T,P)=>c.add(P,T),y=(T,P)=>l.removeProduct(T,P),j=T=>l.addProduct(T),b=T=>l.remove(T);return n.$$set=T=>{"typeBox"in T&&t(0,o=T.typeBox),"category"in T&&t(6,a=T.category)},[o,r,s,l,u,c,a,h,f,p,m,_,v,y,j,b]}class Ih extends fe{constructor(e){super(),ce(this,e,Ah,jh,ue,{typeBox:0,category:6},null,[-1,-1])}}function $s(n,e,t){const r=n.slice();return r[5]=e[t],r}const Mh=n=>({}),ws=n=>({});function ks(n){let e,t,r,i,s,o,a=n[5].name+"",l,u,c,h=n[2](n[5].size)+"",f,p;return{c(){e=w("div"),t=w("img"),s=E(),o=w("span"),l=oe(a),u=E(),c=w("span"),f=oe(h),p=E(),we(t.src,r=URL.createObjectURL(n[5]))||d(t,"src",r),d(t,"alt",i=n[5].name),d(t,"class","svelte-1lt1gw8"),d(o,"class","svelte-1lt1gw8"),d(c,"class","size svelte-1lt1gw8"),d(e,"class","info svelte-1lt1gw8")},m(m,_){U(m,e,_),g(e,t),g(e,s),g(e,o),g(o,l),g(e,u),g(e,c),g(c,f),g(e,p)},p(m,_){_&2&&!we(t.src,r=URL.createObjectURL(m[5]))&&d(t,"src",r),_&2&&i!==(i=m[5].name)&&d(t,"alt",i),_&2&&a!==(a=m[5].name+"")&&be(l,a),_&2&&h!==(h=m[2](m[5].size)+"")&&be(f,h)},d(m){m&&D(e)}}}function Dh(n){let e,t,r,i,s,o,a,l;const u=n[4].files,c=yt(u,n,n[3],ws);o=new ae({props:{name:"camera",color:"hsl(0,0%,100%)",size:1.7}});let h=n[1],f=[];for(let p=0;p<h.length;p+=1)f[p]=ks($s(n,h,p));return{c(){e=w("div"),t=w("label"),c&&c.c(),r=E(),i=w("span"),i.textContent="SUBIR IMAGEN",s=E(),H(o.$$.fragment),a=E();for(let p=0;p<f.length;p+=1)f[p].c();d(t,"for",n[0]),d(t,"class","svelte-1lt1gw8"),d(e,"class","box svelte-1lt1gw8")},m(p,m){U(p,e,m),g(e,t),c&&c.m(t,null),g(t,r),g(t,i),g(t,s),L(o,t,null),g(e,a);for(let _=0;_<f.length;_+=1)f[_].m(e,null);l=!0},p(p,[m]){if(c&&c.p&&(!l||m&8)&&wt(c,u,p,p[3],l?$t(u,p[3],m,Mh):kt(p[3]),ws),(!l||m&1)&&d(t,"for",p[0]),m&6){h=p[1];let _;for(_=0;_<h.length;_+=1){const v=$s(p,h,_);f[_]?f[_].p(v,m):(f[_]=ks(v),f[_].c(),f[_].m(e,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=h.length}},i(p){l||($(c,p),$(o.$$.fragment,p),l=!0)},o(p){S(c,p),S(o.$$.fragment,p),l=!1},d(p){p&&D(e),c&&c.d(p),z(o),Te(f,p)}}}function Nh(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:s=""}=e,{details:o=[]}=e;const a=l=>{const u=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];let c=0;for(;l>=1024&&++c;)l=l/1024;return l.toFixed(l<10&&c>0?1:0)+" "+u[c]};return n.$$set=l=>{"name"in l&&t(0,s=l.name),"details"in l&&t(1,o=l.details),"$$scope"in l&&t(3,i=l.$$scope)},[s,o,a,i,r]}class fl extends fe{constructor(e){super(),ce(this,e,Nh,Dh,ue,{name:0,details:1})}}function Ss(n){let e,t;return{c(){e=w("img"),we(e.src,t=n[0].imageStore)||d(e,"src",t),d(e,"alt","logotipo"),d(e,"class","svelte-1p47727")},m(r,i){U(r,e,i)},p(r,i){i&1&&!we(e.src,t=r[0].imageStore)&&d(e,"src",t)},d(r){r&&D(e)}}}function Uh(n){let e,t,r;return{c(){e=w("input"),d(e,"type","file"),d(e,"slot","files"),d(e,"id","image-shop"),W(e,"display","none",!1)},m(i,s){U(i,e,s),n[3](e),t||(r=te(e,"change",n[4]),t=!0)},p:F,d(i){i&&D(e),n[3](null),t=!1,r()}}}function Bh(n){let e,t,r,i,s,o,a=n[0].imageStore!==""&&n[0]!==void 0&&Ss(n);return s=new fl({props:{name:"image-shop",details:n[1],$$slots:{files:[Uh]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("h3"),t.textContent="IMAGEN DE SU TIENDA",r=E(),a&&a.c(),i=E(),H(s.$$.fragment),d(t,"class","svelte-1p47727"),d(e,"class","box-image svelte-1p47727")},m(l,u){U(l,e,u),g(e,t),g(e,r),a&&a.m(e,null),g(e,i),L(s,e,null),o=!0},p(l,[u]){l[0].imageStore!==""&&l[0]!==void 0?a?a.p(l,u):(a=Ss(l),a.c(),a.m(e,i)):a&&(a.d(1),a=null);const c={};u&2&&(c.details=l[1]),u&70&&(c.$$scope={dirty:u,ctx:l}),s.$set(c)},i(l){o||($(s.$$.fragment,l),o=!0)},o(l){S(s.$$.fragment,l),o=!1},d(l){l&&D(e),a&&a.d(),z(s)}}}const Es=_e();function Lh(n,e,t){let r,i,s=F;de(n,Ut,c=>t(5,r=c)),de(n,Es,c=>t(2,i=c)),n.$$.on_destroy.push(()=>s());let{src:o={imageStore:""}}=e,a;Oe(Ut,r.imageSrc=o.imageSrc,r);function l(c){Mn[c?"unshift":"push"](()=>{i=c,Es.set(i)})}function u(){a=this.files,t(1,a)}return n.$$set=c=>{"src"in c&&t(0,o=c.src)},n.$$.update=()=>{if(n.$$.dirty&2&&a!==void 0){const c=new FileReader;c.readAsDataURL(a[0]),c.addEventListener("load",()=>{Oe(Ut,r.imageStore=encodeURIComponent(c.result),r)})}},[o,a,i,l,u]}class zh extends fe{constructor(e){super(),ce(this,e,Lh,Bh,ue,{src:0})}}function Cs(n,e,t){const r=n.slice();return r[5]=e[t].secure_url,r[6]=e[t].public_id,r}function Ps(n){let e,t,r;return{c(){e=w("img"),we(e.src,t=n[5])||d(e,"src",t),d(e,"alt",r=n[6]),d(e,"class","svelte-17aiegv")},m(i,s){U(i,e,s)},p(i,s){s&1&&!we(e.src,t=i[5])&&d(e,"src",t),s&1&&r!==(r=i[6])&&d(e,"alt",r)},d(i){i&&D(e)}}}function Hh(n){let e,t,r;return{c(){e=w("input"),d(e,"type","file"),d(e,"slot","files"),d(e,"id","imageMenu"),e.multiple=!0,W(e,"display","none",!1)},m(i,s){U(i,e,s),t||(r=te(e,"change",n[2]),t=!0)},p:F,d(i){i&&D(e),t=!1,r()}}}function Fh(n){let e,t,r,i,s,o,a=n[0],l=[];for(let u=0;u<a.length;u+=1)l[u]=Ps(Cs(n,a,u));return s=new fl({props:{name:"imageMenu",details:n[1],$$slots:{files:[Hh]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("h3"),t.textContent="IMAGENES DE SU MENU",r=E();for(let u=0;u<l.length;u+=1)l[u].c();i=E(),H(s.$$.fragment),d(t,"class","svelte-17aiegv"),d(e,"class","box-menu svelte-17aiegv")},m(u,c){U(u,e,c),g(e,t),g(e,r);for(let h=0;h<l.length;h+=1)l[h].m(e,null);g(e,i),L(s,e,null),o=!0},p(u,[c]){if(c&1){a=u[0];let f;for(f=0;f<a.length;f+=1){const p=Cs(u,a,f);l[f]?l[f].p(p,c):(l[f]=Ps(p),l[f].c(),l[f].m(e,i))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}const h={};c&2&&(h.details=u[1]),c&512&&(h.$$scope={dirty:c,ctx:u}),s.$set(h)},i(u){o||($(s.$$.fragment,u),o=!0)},o(u){S(s.$$.fragment,u),o=!1},d(u){u&&D(e),Te(l,u),z(s)}}}function Gh(n,e,t){let r;de(n,Pn,l=>t(3,r=l));let{menuImage:i=[]}=e;const s=pn.Evt.create();Oe(Pn,r.menuStore=i,r);let o;const a=async l=>{let u=[];if(l.target.files.length<5){t(1,o=l.target.files);for(const c of o){const h=new FileReader;h.readAsDataURL(c),h.addEventListener("load",async()=>{s.post(encodeURIComponent(h.result))}),u.push(await s.waitFor())}}Oe(Pn,r.menuStore=u,r)};return n.$$set=l=>{"menuImage"in l&&t(0,i=l.menuImage)},[i,o,a]}class qh extends fe{constructor(e){super(),ce(this,e,Gh,Fh,ue,{menuImage:0})}}function xh(n){let e,t,r,i,s,o,a;return i=new ae({props:{name:n[2],color:"hsl(0,0%,100%)",size:1.3}}),{c(){e=w("button"),t=oe(n[0]),r=E(),H(i.$$.fragment),d(e,"class","svelte-1vhx2qc"),W(e,"background-color",n[1],!1)},m(l,u){U(l,e,u),g(e,t),g(e,r),L(i,e,null),s=!0,o||(a=te(e,"click",n[3]),o=!0)},p(l,[u]){(!s||u&1)&&be(t,l[0]);const c={};u&4&&(c.name=l[2]),i.$set(c),u&2&&W(e,"background-color",l[1],!1)},i(l){s||($(i.$$.fragment,l),s=!0)},o(l){S(i.$$.fragment,l),s=!1},d(l){l&&D(e),z(i),o=!1,a()}}}function Wh(n,e,t){let{content:r}=e,{color:i}=e,{nameIcon:s}=e;function o(a){Lt.call(this,n,a)}return n.$$set=a=>{"content"in a&&t(0,r=a.content),"color"in a&&t(1,i=a.color),"nameIcon"in a&&t(2,s=a.nameIcon)},[r,i,s,o]}class Jh extends fe{constructor(e){super(),ce(this,e,Wh,xh,ue,{content:0,color:1,nameIcon:2})}}function Vh(n){let e;return{c(){e=w("article"),e.innerHTML='<div class="svelte-1e4a4jl"></div>',d(e,"class","svelte-1e4a4jl")},m(t,r){U(t,e,r)},p:F,i:F,o:F,d(t){t&&D(e)}}}class dl extends fe{constructor(e){super(),ce(this,e,null,Vh,ue,{})}}function Kh(n){let e,t=`${n[0]}em`;return{c(){e=w("article"),e.innerHTML='<div class="svelte-1mmbdnl"></div>',d(e,"class","svelte-1mmbdnl"),W(e,"height",t,!1)},m(r,i){U(r,e,i)},p(r,[i]){i&1&&t!==(t=`${r[0]}em`)&&W(e,"height",t,!1)},i:F,o:F,d(r){r&&D(e)}}}function Qh(n,e,t){let{size:r}=e;return n.$$set=i=>{"size"in i&&t(0,r=i.size)},[r]}class si extends fe{constructor(e){super(),ce(this,e,Qh,Kh,ue,{size:0})}}const hl=async n=>{const t=await(await fetch("https://ubifood-backend.deno.dev/ubifood/verifyStore",{method:"POST",body:Et.auth.user().id})).text();return t==="user not found"?hl(n):(n.set(t),t)};let ln=_e("awaiting");const Yh=n=>{ln.set("success"),n.imageStore=""};function Os(n){n[13]=n[15].timeDate,n[14]=n[15].dateSimple}function Ts(n){n[16]=n[15].menuImage}function Rs(n){n[17]=n[18].imageProfile}function js(n){n[19]=n[20].category}function Xh(n){let e,t;return e=new dl({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Zh(n){let e,t,r={ctx:n,current:null,token:null,hasCatch:!1,pending:dp,then:tp,catch:ep,value:15,blocks:[,,,]};return We(n[9],r),{c(){e=w("main"),r.block.c(),d(e,"class","svelte-180df1t")},m(i,s){U(i,e,s),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,t=!0},p(i,s){n=i,pt(r,n,s)},i(i){t||($(r.block),t=!0)},o(i){for(let s=0;s<3;s+=1){const o=r.blocks[s];S(o)}t=!1},d(i){i&&D(e),r.block.d(),r.token=null,r=null}}}function ep(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function tp(n){Os(n);let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A;t=new St({props:{to:"/user/store",$$slots:{default:[np]},$$scope:{ctx:n}}}),t.$on("click",n[10]),u=new ph({props:{typeBox:"update",dateSimple:n[14]}}),h=new kh({props:{typeBox:!0,datetime:n[13]}});let R={ctx:n,current:null,token:null,hasCatch:!1,pending:sp,then:ip,catch:rp,value:20,blocks:[,,,]};We(p=n[2],R);let N={ctx:n,current:null,token:null,hasCatch:!1,pending:ap,then:lp,catch:op,value:18,blocks:[,,,]};We(_=n[0],N);let G={ctx:n,current:null,token:null,hasCatch:!1,pending:fp,then:cp,catch:up,value:15,blocks:[,,,]};We(y=n[1],G),b=new Jh({props:{content:"ACTUALIZAR TIENDA",color:"limegreen",nameIcon:"bag-shopping"}}),b.$on("click",n[11]);let J={};return P=new Jf({props:J}),n[12](P),{c(){e=w("header"),H(t.$$.fragment),r=E(),i=w("h1"),i.textContent="TU TIENDA",s=E(),o=w("h2"),o.textContent="EDITA TU TIENDA",a=E(),l=w("section"),H(u.$$.fragment),c=E(),H(h.$$.fragment),f=E(),R.block.c(),m=E(),N.block.c(),v=E(),G.block.c(),j=E(),H(b.$$.fragment),T=E(),H(P.$$.fragment),d(i,"class","svelte-180df1t"),d(o,"class","svelte-180df1t"),d(e,"class","svelte-180df1t"),d(l,"class","svelte-180df1t")},m(q,K){U(q,e,K),L(t,e,null),g(e,r),g(e,i),g(e,s),g(e,o),U(q,a,K),U(q,l,K),L(u,l,null),g(l,c),L(h,l,null),g(l,f),R.block.m(l,R.anchor=null),R.mount=()=>l,R.anchor=m,g(l,m),N.block.m(l,N.anchor=null),N.mount=()=>l,N.anchor=v,g(l,v),G.block.m(l,G.anchor=null),G.mount=()=>l,G.anchor=j,g(l,j),L(b,l,null),U(q,T,K),L(P,q,K),A=!0},p(q,K){n=q,Os(n);const V={};K&2097152&&(V.$$scope={dirty:K,ctx:n}),t.$set(V),R.ctx=n,K&4&&p!==(p=n[2])&&We(p,R)||pt(R,n,K),N.ctx=n,K&1&&_!==(_=n[0])&&We(_,N)||pt(N,n,K),G.ctx=n,K&2&&y!==(y=n[1])&&We(y,G)||pt(G,n,K);const Z={};P.$set(Z)},i(q){A||($(t.$$.fragment,q),$(u.$$.fragment,q),$(h.$$.fragment,q),$(R.block),$(N.block),$(G.block),$(b.$$.fragment,q),$(P.$$.fragment,q),A=!0)},o(q){S(t.$$.fragment,q),S(u.$$.fragment,q),S(h.$$.fragment,q);for(let K=0;K<3;K+=1){const V=R.blocks[K];S(V)}for(let K=0;K<3;K+=1){const V=N.blocks[K];S(V)}for(let K=0;K<3;K+=1){const V=G.blocks[K];S(V)}S(b.$$.fragment,q),S(P.$$.fragment,q),A=!1},d(q){q&&D(e),z(t),q&&D(a),q&&D(l),z(u),z(h),R.block.d(),R.token=null,R=null,N.block.d(),N.token=null,N=null,G.block.d(),G.token=null,G=null,z(b),q&&D(T),n[12](null),z(P,q)}}}function np(n){let e,t;return e=new ae({props:{name:"arrow-left",color:"hsl(0,0%,100%)",size:2}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function rp(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function ip(n){js(n);let e,t;return e=new Ih({props:{category:n[19],typeBox:!0}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p(r,i){js(r);const s={};i&4&&(s.category=r[19]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function sp(n){let e,t;return e=new si({props:{size:20.25}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function op(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function lp(n){Rs(n);let e,t;return e=new zh({props:{src:n[17]}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p(r,i){Rs(r);const s={};i&1&&(s.src=r[17]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function ap(n){let e,t;return e=new si({props:{size:20.25}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function up(n){return{c:F,m:F,p:F,i:F,o:F,d:F}}function cp(n){Ts(n);let e,t;return e=new qh({props:{menuImage:n[16]}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p(r,i){Ts(r);const s={};i&2&&(s.menuImage=r[16]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function fp(n){let e,t;return e=new si({props:{size:20.25}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function dp(n){let e,t;return e=new dl({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function hp(n){let e,t,r,i;const s=[Zh,Xh],o=[];function a(l,u){return l[8]==="update"?0:l[8]==="await"?1:-1}return~(e=a(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),r=Ie()},m(l,u){~e&&o[e].m(l,u),U(l,r,u),i=!0},p(l,[u]){let c=e;e=a(l),e===c?~e&&o[e].p(l,u):(t&&(he(),S(o[c],1,1,()=>{o[c]=null}),pe()),~e?(t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),$(t,1),t.m(r.parentNode,r)):t=null)},i(l){i||($(t),i=!0)},o(l){S(t),i=!1},d(l){~e&&o[e].d(l),l&&D(r)}}}const As=_e(),Is=_e(),Ms=_e();function pp(n,e,t){let r,i=F,s,o=F,a,l,u=F,c;de(n,Ms,b=>t(4,r=b)),de(n,Is,b=>t(5,s=b)),de(n,Ut,b=>t(6,a=b)),de(n,As,b=>t(7,l=b)),de(n,uh,b=>t(8,c=b)),n.$$.on_destroy.push(()=>i()),n.$$.on_destroy.push(()=>o()),n.$$.on_destroy.push(()=>u());let h=at(),f=at(),p=at(),m=at();Oe(As,l=()=>{Oe(Ut,a.imageStore="",a),t(0,f=at())},l),Oe(Is,s=()=>{t(1,p=at())},s),Oe(Ms,r=()=>{t(2,m=at())},r);let _;const v=()=>Yh(a),y=b=>fh(l,s,r,b);function j(b){Mn[b?"unshift":"push"](()=>{_=b,t(3,_)})}return[f,p,m,_,r,s,a,l,c,h,v,y,j]}class mp extends fe{constructor(e){super(),ce(this,e,pp,hp,ue,{})}}function _p(n){let e,t,r,i,s;return i=new ae({props:{name:"pen-to-square",color:"hsl(0,0%,100%)",size:1.5}}),{c(){e=w("label"),t=w("input"),r=E(),H(i.$$.fragment),d(t,"type","checkbox"),d(t,"id",n[0]),d(t,"class","svelte-4ie4za"),d(e,"for",n[0]),d(e,"class","svelte-4ie4za")},m(o,a){U(o,e,a),g(e,t),g(e,r),L(i,e,null),s=!0},p(o,[a]){(!s||a&1)&&d(t,"id",o[0]),(!s||a&1)&&d(e,"for",o[0])},i(o){s||($(i.$$.fragment,o),s=!0)},o(o){S(i.$$.fragment,o),s=!1},d(o){o&&D(e),z(i)}}}function gp(n,e,t){let{name:r=""}=e;return n.$$set=i=>{"name"in i&&t(0,r=i.name)},[r]}class Rt extends fe{constructor(e){super(),ce(this,e,gp,_p,ue,{name:0})}}const Br=_e({imageStore:""}),Lr=_e({menuStore:[]});let zr;Br.subscribe(n=>zr=n);let Hr;Lr.subscribe(n=>Hr=n);const Ve=[{nameStore:"",addressStore:"",phoneStore:"",numberStore:"",shippingStore:""}],nn={schedule:"-",weekends:"-"},Fr=_e([]);let pl;Fr.subscribe(n=>pl=n);const vp=async n=>{try{const e=pn.Evt.create(),t=new FileReader;if(t.readAsDataURL(n),t.addEventListener("load",()=>{e.post(encodeURIComponent(t.result))}),t.error)throw t.error;return await e.waitFor()}catch{return""}},bp=async()=>{let n=[],e=[];pl.map(({idCategories:l,nameCategories:u,products:c})=>{n.push({idCategories:l,nameCategories:u}),c.map(async({idProduct:h,nameProduct:f,priceProduct:p,descriptionProduct:m,imageProduct:_,imageSrc:v})=>{e.push({[h]:{idCategories:l,nameProduct:f,priceProduct:p,descriptionProduct:m,imageProduct:vp(_[0]),imageSrc:v}})})});let t=[];for(const l of e){let u=[];for(const c in l){t.push({[c]:u});for(const h in l[c])u.push({[h]:await l[c][h]})}}const r=Object.assign({},zr,Hr,...Ve,nn,{categories:n},...t,{accountId:Et.auth.user().id});let i=[];t.map(async l=>{let u=[];for(const c in l)for(const h of l[c])Object.values(h)[0]!==""&&u.push(h);return u.length===5?i=[!0]:i=[!1]});let s=r.categories.map(l=>l.nameCategories[0]!==""),o=[];for(const l in Ve[0])Ve[0][l]!==""&&o.push(!0);let a=[];for(const l in nn)nn[l].split("-").every(u=>u!=="")&&a.push(!0);zr.imageStore!==void 0&&Hr.menuStore.length!==0&&s.length>0&&s.every(l=>l===!0)&&i[0]===!0&&o.length===5&&a.length>0&&a.every(l=>l===!0)&&(ln.set("awaiting"),await fetch("https://ubifood-backend.deno.dev/ubifood/createStore",{method:"POST",body:JSON.stringify(r)}),hl(ln))};function Ds(n,e,t){const r=n.slice();return r[10]=e[t].nameStore,r[11]=e[t].addressStore,r[12]=e[t].numberStore,r[13]=e[t].phoneStore,r[14]=e[t].shippingStore,r[15]=e,r[16]=t,r}function Ns(n){let e,t;return e=new Rt({props:{name:"name"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Us(n){let e,t;return e=new Rt({props:{name:"address"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Bs(n){let e,t;return e=new Rt({props:{name:"number"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ls(n){let e,t;return e=new Rt({props:{name:"whatsapp"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function zs(n){let e,t;return e=new Rt({props:{name:"shipping"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Hs(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N,G,J,q,K,V,Z;function Q(){n[4].call(i,n[15],n[16])}let ie=n[0]==="update"&&Ns();function ge(){n[5].call(u,n[15],n[16])}let Y=n[0]==="update"&&Us();function X(){n[6].call(m,n[15],n[16])}let se=n[0]==="update"&&Bs();function I(){n[7].call(b,n[15],n[16])}let k=n[0]==="update"&&Ls();function O(){n[8].call(N,n[15],n[16])}let C=n[0]==="update"&&zs();return{c(){e=w("div"),t=w("label"),t.textContent="Nombre de su tienda",r=E(),i=w("input"),s=E(),ie&&ie.c(),o=E(),a=w("label"),a.textContent="Dirrecci\xF3n de su tienda",l=E(),u=w("input"),c=E(),Y&&Y.c(),h=E(),f=w("label"),f.textContent="N\xFAmero de telefono",p=E(),m=w("input"),_=E(),se&&se.c(),v=E(),y=w("label"),y.textContent="N\xFAmero de Whatsapp",j=E(),b=w("input"),T=E(),k&&k.c(),P=E(),A=w("label"),A.textContent="Costo de env\xEDo",R=E(),N=w("input"),G=E(),C&&C.c(),J=E(),d(t,"for","nameStore"),d(t,"class","svelte-k4cl4g"),d(i,"type","text"),d(i,"name","nameStore"),d(i,"placeholder","Introducir nombre de su tienda..."),d(i,"autocomplete","off"),i.disabled=n[2],d(i,"class","svelte-k4cl4g"),d(a,"for","addressStore"),d(a,"class","svelte-k4cl4g"),d(u,"type","text"),d(u,"name","addressStore"),d(u,"placeholder","Introducir su dirrecci\xF3n..."),d(u,"autocomplete","off"),u.disabled=n[2],d(u,"class","svelte-k4cl4g"),d(f,"for","numberStore"),d(f,"class","svelte-k4cl4g"),d(m,"type","text"),d(m,"name","numberStore"),d(m,"placeholder","11 9999-9999"),d(m,"autocomplete","off"),m.disabled=n[2],d(m,"class","svelte-k4cl4g"),d(y,"for","whatsappStore"),d(y,"class","svelte-k4cl4g"),d(b,"type","text"),d(b,"name","whatsappStore"),d(b,"placeholder","11 9999-9999"),d(b,"autocomplete","off"),b.disabled=n[2],d(b,"class","svelte-k4cl4g"),d(A,"for","shippingStore"),d(A,"class","svelte-k4cl4g"),d(N,"type","text"),d(N,"name","shippingStore"),d(N,"placeholder","Introducir coste de env\xEDo..."),d(N,"autocomplete","off"),N.disabled=n[2],d(N,"class","svelte-k4cl4g"),d(e,"class",q="box-data "+n[0]+" svelte-k4cl4g")},m(M,B){U(M,e,B),g(e,t),g(e,r),g(e,i),le(i,n[10]),g(e,s),ie&&ie.m(e,null),g(e,o),g(e,a),g(e,l),g(e,u),le(u,n[11]),g(e,c),Y&&Y.m(e,null),g(e,h),g(e,f),g(e,p),g(e,m),le(m,n[12]),g(e,_),se&&se.m(e,null),g(e,v),g(e,y),g(e,j),g(e,b),le(b,n[13]),g(e,T),k&&k.m(e,null),g(e,P),g(e,A),g(e,R),g(e,N),le(N,n[14]),g(e,G),C&&C.m(e,null),g(e,J),K=!0,V||(Z=[te(i,"input",Q),te(u,"input",ge),te(m,"input",X),te(b,"input",I),te(N,"input",O),te(e,"click",n[3])],V=!0)},p(M,B){n=M,(!K||B&4)&&(i.disabled=n[2]),B&2&&i.value!==n[10]&&le(i,n[10]),n[0]==="update"?ie?B&1&&$(ie,1):(ie=Ns(),ie.c(),$(ie,1),ie.m(e,o)):ie&&(he(),S(ie,1,1,()=>{ie=null}),pe()),(!K||B&4)&&(u.disabled=n[2]),B&2&&u.value!==n[11]&&le(u,n[11]),n[0]==="update"?Y?B&1&&$(Y,1):(Y=Us(),Y.c(),$(Y,1),Y.m(e,h)):Y&&(he(),S(Y,1,1,()=>{Y=null}),pe()),(!K||B&4)&&(m.disabled=n[2]),B&2&&m.value!==n[12]&&le(m,n[12]),n[0]==="update"?se?B&1&&$(se,1):(se=Bs(),se.c(),$(se,1),se.m(e,v)):se&&(he(),S(se,1,1,()=>{se=null}),pe()),(!K||B&4)&&(b.disabled=n[2]),B&2&&b.value!==n[13]&&le(b,n[13]),n[0]==="update"?k?B&1&&$(k,1):(k=Ls(),k.c(),$(k,1),k.m(e,P)):k&&(he(),S(k,1,1,()=>{k=null}),pe()),(!K||B&4)&&(N.disabled=n[2]),B&2&&N.value!==n[14]&&le(N,n[14]),n[0]==="update"?C?B&1&&$(C,1):(C=zs(),C.c(),$(C,1),C.m(e,J)):C&&(he(),S(C,1,1,()=>{C=null}),pe()),(!K||B&1&&q!==(q="box-data "+n[0]+" svelte-k4cl4g"))&&d(e,"class",q)},i(M){K||($(ie),$(Y),$(se),$(k),$(C),K=!0)},o(M){S(ie),S(Y),S(se),S(k),S(C),K=!1},d(M){M&&D(e),ie&&ie.d(),Y&&Y.d(),se&&se.d(),k&&k.d(),C&&C.d(),V=!1,Re(Z)}}}function yp(n){let e,t,r=n[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=Hs(Ds(n,r,o));const s=o=>S(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ie()},m(o,a){for(let l=0;l<i.length;l+=1)i[l].m(o,a);U(o,e,a),t=!0},p(o,[a]){if(a&15){r=o[1];let l;for(l=0;l<r.length;l+=1){const u=Ds(o,r,l);i[l]?(i[l].p(u,a),$(i[l],1)):(i[l]=Hs(u),i[l].c(),$(i[l],1),i[l].m(e.parentNode,e))}for(he(),l=r.length;l<i.length;l+=1)s(l);pe()}},i(o){if(!t){for(let a=0;a<r.length;a+=1)$(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)S(i[a]);t=!1},d(o){Te(i,o),o&&D(e)}}}function $p(n,e,t){let{typeBox:r="create"}=e,i=!1;r==="update"&&(i=!0);const s=f=>{const p=f.target,m=p.checked,_=p.parentNode.previousSibling.previousSibling;if(m)return _.disabled=!1,_.style.borderColor="hsl(120, 60.8%, 50%)";_.disabled=!0,_.style.borderColor="hsl(0,0%,100%)"},o=f=>{f.target.type==="checkbox"&&s(f)};function a(f,p){f[p].nameStore=this.value,t(1,Ve)}function l(f,p){f[p].addressStore=this.value,t(1,Ve)}function u(f,p){f[p].numberStore=this.value,t(1,Ve)}function c(f,p){f[p].phoneStore=this.value,t(1,Ve)}function h(f,p){f[p].shippingStore=this.value,t(1,Ve)}return n.$$set=f=>{"typeBox"in f&&t(0,r=f.typeBox)},[r,Ve,i,o,a,l,u,c,h]}class wp extends fe{constructor(e){super(),ce(this,e,$p,yp,ue,{typeBox:0})}}function kp(n){let e,t;return e=new ae({props:{name:"clock",color:"hsl(0,0%,100%)",size:2}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Sp(n){let e,t;return e=new Rt({props:{name:"Schedule"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ep(n){let e,t;return e=new ae({props:{name:"clock",color:"hsl(0,0%,100%)",size:2}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Cp(n){let e,t;return e=new Rt({props:{name:"Weekends"}}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Pp(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N,G,J,q,K,V,Z,Q,ie,ge;c=new ae({props:{name:"minus",color:"hsl(0,0%,100%)",size:.6}});const Y=[Sp,kp],X=[];function se(C,M){return C[0]?0:1}_=se(n),v=X[_]=Y[_](n),N=new ae({props:{name:"minus",color:"hsl(0,0%,100%)",size:.6}});const I=[Cp,Ep],k=[];function O(C,M){return C[0]?0:1}return V=O(n),Z=k[V]=I[V](n),{c(){e=w("div"),t=w("h3"),t.textContent="Horarios",r=E(),i=w("label"),i.textContent="LUNES A VIERNES",s=E(),o=w("input"),a=w("span"),a.textContent="am",l=E(),u=w("span"),H(c.$$.fragment),h=E(),f=w("input"),p=w("span"),p.textContent="pm",m=E(),v.c(),y=E(),j=w("label"),j.textContent="SABADO",b=E(),T=w("input"),P=w("span"),P.textContent="am",A=E(),R=w("span"),H(N.$$.fragment),G=E(),J=w("input"),q=w("span"),q.textContent="pm",K=E(),Z.c(),d(t,"class","svelte-rcihff"),d(i,"for","schedule"),d(i,"class","svelte-rcihff"),d(o,"type","text"),d(o,"placeholder","8:30"),o.disabled=n[0],d(o,"class","svelte-rcihff"),d(a,"class","svelte-rcihff"),d(u,"class","space svelte-rcihff"),d(f,"type","text"),d(f,"placeholder","18:30"),f.disabled=n[0],d(f,"class","svelte-rcihff"),d(p,"class","svelte-rcihff"),d(j,"for","weekends"),d(j,"class","svelte-rcihff"),d(T,"type","text"),d(T,"placeholder","8:30"),T.disabled=n[0],d(T,"class","svelte-rcihff"),d(P,"class","svelte-rcihff"),d(R,"class","space svelte-rcihff"),d(J,"type","text"),d(J,"placeholder","18:30"),J.disabled=n[0],d(J,"class","svelte-rcihff"),d(q,"class","svelte-rcihff"),d(e,"class","svelte-rcihff")},m(C,M){U(C,e,M),g(e,t),g(e,r),g(e,i),g(e,s),g(e,o),le(o,n[1]),g(e,a),g(e,l),g(e,u),L(c,u,null),g(e,h),g(e,f),le(f,n[2]),g(e,p),g(e,m),X[_].m(e,null),g(e,y),g(e,j),g(e,b),g(e,T),le(T,n[3]),g(e,P),g(e,A),g(e,R),L(N,R,null),g(e,G),g(e,J),le(J,n[4]),g(e,q),g(e,K),k[V].m(e,null),Q=!0,ie||(ge=[te(o,"input",n[9]),te(f,"input",n[10]),te(T,"input",n[11]),te(J,"input",n[12]),te(e,"click",n[5])],ie=!0)},p(C,[M]){(!Q||M&1)&&(o.disabled=C[0]),M&2&&o.value!==C[1]&&le(o,C[1]),(!Q||M&1)&&(f.disabled=C[0]),M&4&&f.value!==C[2]&&le(f,C[2]);let B=_;_=se(C),_!==B&&(he(),S(X[B],1,1,()=>{X[B]=null}),pe(),v=X[_],v||(v=X[_]=Y[_](C),v.c()),$(v,1),v.m(e,y)),(!Q||M&1)&&(T.disabled=C[0]),M&8&&T.value!==C[3]&&le(T,C[3]),(!Q||M&1)&&(J.disabled=C[0]),M&16&&J.value!==C[4]&&le(J,C[4]);let ee=V;V=O(C),V!==ee&&(he(),S(k[ee],1,1,()=>{k[ee]=null}),pe(),Z=k[V],Z||(Z=k[V]=I[V](C),Z.c()),$(Z,1),Z.m(e,null))},i(C){Q||($(c.$$.fragment,C),$(v),$(N.$$.fragment,C),$(Z),Q=!0)},o(C){S(c.$$.fragment,C),S(v),S(N.$$.fragment,C),S(Z),Q=!1},d(C){C&&D(e),z(c),X[_].d(),z(N),k[V].d(),ie=!1,Re(ge)}}}function Op(n,e,t){let r,i,{typeBox:s=!1}=e,{date:o={schedule:"-",weekends:"-"}}=e,a=o.weekends.split("-"),l=o.schedule.split("-"),u=l[0],c=l[1],h=a[0],f=a[1];const p=b=>{const T=b.target,P=T.checked,A=T.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling,R=T.parentNode.previousSibling.previousSibling.previousSibling,N=T.parentNode.previousSibling.previousSibling,G=T.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling;if(P)return R.style.borderColor="hsl(120, 60.8%, 50%)",A.style.borderColor="hsl(120, 60.8%, 50%)",N.style.borderColor="hsl(120, 60.8%, 50%)",G.style.borderColor="hsl(120, 60.8%, 50%)",A.disabled=!1,R.disabled=!1;R.style.borderColor="hsl(0, 0%, 100%)",A.style.borderColor="hsl(0, 0%, 100%)",N.style.borderColor="hsl(0, 0%, 100%)",G.style.borderColor="hsl(0, 0%, 100%)",A.disabled=!0,R.disabled=!0},m=b=>{b.target.type==="checkbox"&&p(b)};function _(){u=this.value,t(1,u)}function v(){c=this.value,t(2,c)}function y(){h=this.value,t(3,h)}function j(){f=this.value,t(4,f)}return n.$$set=b=>{"typeBox"in b&&t(0,s=b.typeBox),"date"in b&&t(6,o=b.date)},n.$$.update=()=>{n.$$.dirty&6&&t(7,r=`${u}-${c}`),n.$$.dirty&24&&t(8,i=`${h}-${f}`),n.$$.dirty&256&&(nn.weekends=i),n.$$.dirty&128&&(nn.schedule=r)},[s,u,c,h,f,m,o,r,i,_,v,y,j]}class Tp extends fe{constructor(e){super(),ce(this,e,Op,Pp,ue,{typeBox:0,date:6})}}const Rp=()=>{const{subscribe:n,update:e,set:t}=_e([]);let r;return n(u=>r=u),{subscribe:n,add:()=>e(u=>(u.push({idCategories:Fn(),nameCategories:[""],products:[]}),u)),remove:u=>e(c=>(r.filter((h,f)=>{h.idCategories===u&&c.splice(f,1)}),c)),establish:u=>t(u),addProduct:u=>e(c=>(r.filter(h=>{h.idCategories===u&&h.products.push({idProduct:Fn(),nameProduct:"",descriptionProduct:"",priceProduct:"",imageProduct:"",imageSrc:""})}),c)),removeProduct:(u,c)=>e(h=>(r.filter(f=>{f.idCategories===u&&f.products.filter((p,m)=>{p.idProduct===c&&f.products.splice(m,1)})}),h))}};function Fs(n,e,t){const r=n.slice();return r[5]=e[t],r}const jp=n=>({}),Gs=n=>({});function qs(n){let e,t,r,i,s,o,a=n[5].img.name+"",l,u,c,h=n[2](n[5].img.size)+"",f,p;return{c(){e=w("div"),t=w("img"),s=E(),o=w("span"),l=oe(a),u=E(),c=w("span"),f=oe(h),p=E(),we(t.src,r=URL.createObjectURL(n[5].img))||d(t,"src",r),d(t,"alt",i=n[5].img.name),d(t,"class","svelte-1lt1gw8"),d(o,"class","svelte-1lt1gw8"),d(c,"class","size svelte-1lt1gw8"),d(e,"class","info svelte-1lt1gw8")},m(m,_){U(m,e,_),g(e,t),g(e,s),g(e,o),g(o,l),g(e,u),g(e,c),g(c,f),g(e,p)},p(m,_){_&2&&!we(t.src,r=URL.createObjectURL(m[5].img))&&d(t,"src",r),_&2&&i!==(i=m[5].img.name)&&d(t,"alt",i),_&2&&a!==(a=m[5].img.name+"")&&be(l,a),_&2&&h!==(h=m[2](m[5].img.size)+"")&&be(f,h)},d(m){m&&D(e)}}}function xs(n){let e,t=n[5].id===n[0]&&qs(n);return{c(){t&&t.c(),e=Ie()},m(r,i){t&&t.m(r,i),U(r,e,i)},p(r,i){r[5].id===r[0]?t?t.p(r,i):(t=qs(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&D(e)}}}function Ap(n){let e,t,r,i,s,o,a,l;const u=n[4].files,c=yt(u,n,n[3],Gs);o=new ae({props:{name:"camera",color:"hsl(0,0%,100%)",size:1.7}});let h=n[1],f=[];for(let p=0;p<h.length;p+=1)f[p]=xs(Fs(n,h,p));return{c(){e=w("div"),t=w("label"),c&&c.c(),r=E(),i=w("span"),i.textContent="SUBIR IMAGEN",s=E(),H(o.$$.fragment),a=E();for(let p=0;p<f.length;p+=1)f[p].c();d(t,"for",n[0]),d(t,"class","svelte-1lt1gw8"),d(e,"class","box svelte-1lt1gw8")},m(p,m){U(p,e,m),g(e,t),c&&c.m(t,null),g(t,r),g(t,i),g(t,s),L(o,t,null),g(e,a);for(let _=0;_<f.length;_+=1)f[_].m(e,null);l=!0},p(p,[m]){if(c&&c.p&&(!l||m&8)&&wt(c,u,p,p[3],l?$t(u,p[3],m,jp):kt(p[3]),Gs),(!l||m&1)&&d(t,"for",p[0]),m&7){h=p[1];let _;for(_=0;_<h.length;_+=1){const v=Fs(p,h,_);f[_]?f[_].p(v,m):(f[_]=xs(v),f[_].c(),f[_].m(e,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=h.length}},i(p){l||($(c,p),$(o.$$.fragment,p),l=!0)},o(p){S(c,p),S(o.$$.fragment,p),l=!1},d(p){p&&D(e),c&&c.d(p),z(o),Te(f,p)}}}function Ip(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:s=""}=e,{details:o=[]}=e;const a=l=>{const u=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];let c=0;for(;l>=1024&&++c;)l=l/1024;return l.toFixed(l<10&&c>0?1:0)+" "+u[c]};return n.$$set=l=>{"name"in l&&t(0,s=l.name),"details"in l&&t(1,o=l.details),"$$scope"in l&&t(3,i=l.$$scope)},[s,o,a,i,r]}class Mp extends fe{constructor(e){super(),ce(this,e,Ip,Ap,ue,{name:0,details:1})}}const Dp=()=>{const{subscribe:n,update:e}=_e([{id:"",img:[]}]);return{subscribe:n,add:(r,i)=>e(s=>{s.push({id:i,img:[]});var o={};return s=s.filter(function(a){var l=!o[a.id];return o[a.id]=!0,l}),s.map(({id:a},l)=>{a===i&&(s[l].img=r.target.files[0])}),s})}};function Ws(n,e,t){const r=n.slice();return r[16]=e[t].idCategories,r[17]=e[t].nameCategories,r[18]=e[t].products,r}function Js(n,e,t){const r=n.slice();return r[21]=e[t].idProduct,r[22]=e[t].nameProduct,r[23]=e[t].descriptionProduct,r[24]=e[t].priceProduct,r[25]=e[t].imageProduct,r[26]=e,r[27]=t,r}function Vs(n,e,t){const r=n.slice();return r[28]=e[t],r[29]=e,r[30]=t,r}function Ks(n){let e,t,r;function i(){n[6].call(e,n[29],n[30])}return{c(){e=w("input"),d(e,"type","text"),d(e,"name","nameCategory"),d(e,"placeholder","Ingrese el nombre de la categoria..."),d(e,"class","svelte-1flxsph")},m(s,o){U(s,e,o),le(e,n[28]),t||(r=te(e,"input",i),t=!0)},p(s,o){n=s,o[0]&2&&e.value!==n[28]&&le(e,n[28])},d(s){s&&D(e),t=!1,r()}}}function Np(n){let e,t,r,i;function s(){n[10].call(e,n[26],n[27])}function o(...a){return n[11](n[21],...a)}return{c(){e=w("input"),d(e,"type","file"),d(e,"slot","files"),d(e,"id",t=n[21]),d(e,"class","svelte-1flxsph"),W(e,"display","none",!1)},m(a,l){U(a,e,l),r||(i=[te(e,"change",s),te(e,"change",o)],r=!0)},p(a,l){n=a,l[0]&2&&t!==(t=n[21])&&d(e,"id",t)},d(a){a&&D(e),r=!1,Re(i)}}}function Qs(n){let e,t,r,i,s,o,a,l,u,c,h;return a=new ae({props:{name:"pen-to-square",color:"hsl(0,0%,100%)",size:1}}),{c(){e=w("label"),t=w("input"),i=E(),s=w("span"),s.textContent="EDITAR PRODUCTO",o=E(),H(a.$$.fragment),d(t,"type","checkbox"),d(t,"id",r=n[21]),d(t,"class","svelte-1flxsph"),W(t,"display","none",!1),d(s,"class","svelte-1flxsph"),d(e,"for",l=n[21]),d(e,"class","edit-product svelte-1flxsph")},m(f,p){U(f,e,p),g(e,t),g(e,i),g(e,s),g(e,o),L(a,e,null),u=!0,c||(h=te(t,"click",n[4]),c=!0)},p(f,p){(!u||p[0]&2&&r!==(r=f[21]))&&d(t,"id",r),(!u||p[0]&2&&l!==(l=f[21]))&&d(e,"for",l)},i(f){u||($(a.$$.fragment,f),u=!0)},o(f){S(a.$$.fragment,f),u=!1},d(f){f&&D(e),z(a),c=!1,h()}}}function Ys(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j,b,T,P,A,R,N;function G(){n[7].call(i,n[26],n[27])}function J(){n[8].call(l,n[26],n[27])}function q(){n[9].call(f,n[26],n[27])}v=new Mp({props:{name:n[21],details:n[2],$$slots:{files:[Np]},$$scope:{ctx:n}}}),T=new ae({props:{name:"close-simple",color:"hsl(0,0%,100%)",size:1}});function K(){return n[12](n[16],n[21])}let V=n[0]&&Qs(n);return{c(){e=w("div"),t=w("label"),t.textContent="Nombre del producto",r=E(),i=w("input"),s=E(),o=w("label"),o.textContent="Descripcion del producto",a=E(),l=w("textarea"),u=E(),c=w("label"),c.textContent="Precio del producto",h=E(),f=w("input"),p=E(),m=w("label"),m.textContent="Imagen del producto",_=E(),H(v.$$.fragment),y=E(),j=w("button"),b=oe(`ELIMINAR PRODUCTO
            `),H(T.$$.fragment),P=E(),V&&V.c(),d(t,"for","nameProduct"),d(t,"class","svelte-1flxsph"),d(i,"type","text"),d(i,"name","nameProduct"),d(i,"placeholder","Ingrese el nombre..."),i.disabled=n[0],d(i,"autocomplete","off"),d(i,"class","svelte-1flxsph"),d(o,"for","descriptionProduct"),d(o,"class","svelte-1flxsph"),d(l,"type","text"),d(l,"name","descriptionProduct"),d(l,"placeholder","Agregue la descripcion del producto..."),l.disabled=n[0],d(l,"class","svelte-1flxsph"),d(c,"for","priceProduct"),d(c,"class","svelte-1flxsph"),d(f,"type","text"),d(f,"name","priceProduct"),d(f,"placeholder","Ingrese el precio..."),f.disabled=n[0],d(f,"autocomplete","off"),d(f,"class","svelte-1flxsph"),d(m,"for","imageProduct"),d(m,"class","svelte-1flxsph"),d(j,"class","remove-product svelte-1flxsph"),d(e,"class","product svelte-1flxsph")},m(Z,Q){U(Z,e,Q),g(e,t),g(e,r),g(e,i),le(i,n[22]),g(e,s),g(e,o),g(e,a),g(e,l),le(l,n[23]),g(e,u),g(e,c),g(e,h),g(e,f),le(f,n[24]),g(e,p),g(e,m),g(e,_),L(v,e,null),g(e,y),g(e,j),g(j,b),L(T,j,null),g(e,P),V&&V.m(e,null),A=!0,R||(N=[te(i,"input",G),te(l,"input",J),te(f,"input",q),te(j,"click",K)],R=!0)},p(Z,Q){n=Z,(!A||Q[0]&1)&&(i.disabled=n[0]),Q[0]&2&&i.value!==n[22]&&le(i,n[22]),(!A||Q[0]&1)&&(l.disabled=n[0]),Q[0]&2&&le(l,n[23]),(!A||Q[0]&1)&&(f.disabled=n[0]),Q[0]&2&&f.value!==n[24]&&le(f,n[24]);const ie={};Q[0]&2&&(ie.name=n[21]),Q[0]&4&&(ie.details=n[2]),Q[0]&2|Q[1]&1&&(ie.$$scope={dirty:Q,ctx:n}),v.$set(ie),n[0]?V?(V.p(n,Q),Q[0]&1&&$(V,1)):(V=Qs(n),V.c(),$(V,1),V.m(e,null)):V&&(he(),S(V,1,1,()=>{V=null}),pe())},i(Z){A||($(v.$$.fragment,Z),$(T.$$.fragment,Z),$(V),A=!0)},o(Z){S(v.$$.fragment,Z),S(T.$$.fragment,Z),S(V),A=!1},d(Z){Z&&D(e),z(v),z(T),V&&V.d(),R=!1,Re(N)}}}function Xs(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m=n[17],_=[];for(let P=0;P<m.length;P+=1)_[P]=Ks(Vs(n,m,P));let v=n[18],y=[];for(let P=0;P<v.length;P+=1)y[P]=Ys(Js(n,v,P));const j=P=>S(y[P],1,1,()=>{y[P]=null});o=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:1}});function b(){return n[13](n[16])}c=new ae({props:{name:"close-simple",color:"hsl(0,0%,100%)",size:1.2}});function T(){return n[14](n[16])}return{c(){e=w("div");for(let P=0;P<_.length;P+=1)_[P].c();t=E();for(let P=0;P<y.length;P+=1)y[P].c();r=E(),i=w("button"),s=oe(`AGREGAR PRODUCTOS
        `),H(o.$$.fragment),a=E(),l=w("button"),u=oe(`ELIMINAR CATEGORIAS
        `),H(c.$$.fragment),d(i,"class","add-products svelte-1flxsph"),d(l,"class","remove-products svelte-1flxsph"),d(e,"class","box-categories svelte-1flxsph")},m(P,A){U(P,e,A);for(let R=0;R<_.length;R+=1)_[R].m(e,null);g(e,t);for(let R=0;R<y.length;R+=1)y[R].m(e,null);g(e,r),g(e,i),g(i,s),L(o,i,null),g(e,a),g(e,l),g(l,u),L(c,l,null),h=!0,f||(p=[te(i,"click",b),te(l,"click",T)],f=!0)},p(P,A){if(n=P,A[0]&2){m=n[17];let R;for(R=0;R<m.length;R+=1){const N=Vs(n,m,R);_[R]?_[R].p(N,A):(_[R]=Ks(N),_[R].c(),_[R].m(e,t))}for(;R<_.length;R+=1)_[R].d(1);_.length=m.length}if(A[0]&63){v=n[18];let R;for(R=0;R<v.length;R+=1){const N=Js(n,v,R);y[R]?(y[R].p(N,A),$(y[R],1)):(y[R]=Ys(N),y[R].c(),$(y[R],1),y[R].m(e,r))}for(he(),R=v.length;R<y.length;R+=1)j(R);pe()}},i(P){if(!h){for(let A=0;A<v.length;A+=1)$(y[A]);$(o.$$.fragment,P),$(c.$$.fragment,P),h=!0}},o(P){y=y.filter(Boolean);for(let A=0;A<y.length;A+=1)S(y[A]);S(o.$$.fragment,P),S(c.$$.fragment,P),h=!1},d(P){P&&D(e),Te(_,P),Te(y,P),z(o),z(c),f=!1,Re(p)}}}function Up(n){let e,t,r,i,s,o,a,l,u,c,h=n[1],f=[];for(let m=0;m<h.length;m+=1)f[m]=Xs(Ws(n,h,m));const p=m=>S(f[m],1,1,()=>{f[m]=null});return a=new ae({props:{name:"plus",color:"hsl(0,0%,100%)",size:1.2}}),{c(){e=w("div"),t=w("h3"),t.textContent="PRODUCTOS",r=E();for(let m=0;m<f.length;m+=1)f[m].c();i=E(),s=w("button"),o=oe(`AGREGAR CATEGORIAS
    `),H(a.$$.fragment),d(t,"class","svelte-1flxsph"),d(s,"class","add-categories svelte-1flxsph"),d(e,"class","box-products svelte-1flxsph")},m(m,_){U(m,e,_),g(e,t),g(e,r);for(let v=0;v<f.length;v+=1)f[v].m(e,null);g(e,i),g(e,s),g(s,o),L(a,s,null),l=!0,u||(c=te(s,"click",n[3].add),u=!0)},p(m,_){if(_[0]&63){h=m[1];let v;for(v=0;v<h.length;v+=1){const y=Ws(m,h,v);f[v]?(f[v].p(y,_),$(f[v],1)):(f[v]=Xs(y),f[v].c(),$(f[v],1),f[v].m(e,i))}for(he(),v=h.length;v<f.length;v+=1)p(v);pe()}},i(m){if(!l){for(let _=0;_<h.length;_+=1)$(f[_]);$(a.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)S(f[_]);S(a.$$.fragment,m),l=!1},d(m){m&&D(e),Te(f,m),z(a),u=!1,c()}}}function Bp(n,e,t){let r,i,s;de(n,Fr,b=>t(15,i=b));let{typeBox:o=!1}=e;const a=Rp();de(n,a,b=>t(1,r=b)),Oe(Fr,i=r,i);const l=b=>{b.target.parentNode.parentNode.childNodes.forEach(P=>{(P.nodeName==="INPUT"||P.nodeName==="TEXTAREA")&&(b.target.checked?P.disabled=!1:P.disabled=!0)})},u=Dp();de(n,u,b=>t(2,s=b));function c(b,T){b[T]=this.value}function h(b,T){b[T].nameProduct=this.value}function f(b,T){b[T].descriptionProduct=this.value}function p(b,T){b[T].priceProduct=this.value}function m(b,T){b[T].imageProduct=this.files}const _=(b,T)=>u.add(T,b),v=(b,T)=>a.removeProduct(b,T),y=b=>a.addProduct(b),j=b=>a.remove(b);return n.$$set=b=>{"typeBox"in b&&t(0,o=b.typeBox)},[o,r,s,a,l,u,c,h,f,p,m,_,v,y,j]}class Lp extends fe{constructor(e){super(),ce(this,e,Bp,Up,ue,{typeBox:0},null,[-1,-1])}}function Zs(n,e,t){const r=n.slice();return r[5]=e[t],r}const zp=n=>({}),eo=n=>({});function to(n){let e,t,r,i,s,o,a=n[5].name+"",l,u,c,h=n[2](n[5].size)+"",f,p;return{c(){e=w("div"),t=w("img"),s=E(),o=w("span"),l=oe(a),u=E(),c=w("span"),f=oe(h),p=E(),we(t.src,r=URL.createObjectURL(n[5]))||d(t,"src",r),d(t,"alt",i=n[5].name),d(t,"class","svelte-1lt1gw8"),d(o,"class","svelte-1lt1gw8"),d(c,"class","size svelte-1lt1gw8"),d(e,"class","info svelte-1lt1gw8")},m(m,_){U(m,e,_),g(e,t),g(e,s),g(e,o),g(o,l),g(e,u),g(e,c),g(c,f),g(e,p)},p(m,_){_&2&&!we(t.src,r=URL.createObjectURL(m[5]))&&d(t,"src",r),_&2&&i!==(i=m[5].name)&&d(t,"alt",i),_&2&&a!==(a=m[5].name+"")&&be(l,a),_&2&&h!==(h=m[2](m[5].size)+"")&&be(f,h)},d(m){m&&D(e)}}}function Hp(n){let e,t,r,i,s,o,a,l;const u=n[4].files,c=yt(u,n,n[3],eo);o=new ae({props:{name:"camera",color:"hsl(0,0%,100%)",size:1.7}});let h=n[1],f=[];for(let p=0;p<h.length;p+=1)f[p]=to(Zs(n,h,p));return{c(){e=w("div"),t=w("label"),c&&c.c(),r=E(),i=w("span"),i.textContent="SUBIR IMAGEN",s=E(),H(o.$$.fragment),a=E();for(let p=0;p<f.length;p+=1)f[p].c();d(t,"for",n[0]),d(t,"class","svelte-1lt1gw8"),d(e,"class","box svelte-1lt1gw8")},m(p,m){U(p,e,m),g(e,t),c&&c.m(t,null),g(t,r),g(t,i),g(t,s),L(o,t,null),g(e,a);for(let _=0;_<f.length;_+=1)f[_].m(e,null);l=!0},p(p,[m]){if(c&&c.p&&(!l||m&8)&&wt(c,u,p,p[3],l?$t(u,p[3],m,zp):kt(p[3]),eo),(!l||m&1)&&d(t,"for",p[0]),m&6){h=p[1];let _;for(_=0;_<h.length;_+=1){const v=Zs(p,h,_);f[_]?f[_].p(v,m):(f[_]=to(v),f[_].c(),f[_].m(e,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=h.length}},i(p){l||($(c,p),$(o.$$.fragment,p),l=!0)},o(p){S(c,p),S(o.$$.fragment,p),l=!1},d(p){p&&D(e),c&&c.d(p),z(o),Te(f,p)}}}function Fp(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:s=""}=e,{details:o=[]}=e;const a=l=>{const u=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];let c=0;for(;l>=1024&&++c;)l=l/1024;return l.toFixed(l<10&&c>0?1:0)+" "+u[c]};return n.$$set=l=>{"name"in l&&t(0,s=l.name),"details"in l&&t(1,o=l.details),"$$scope"in l&&t(3,i=l.$$scope)},[s,o,a,i,r]}class ml extends fe{constructor(e){super(),ce(this,e,Fp,Hp,ue,{name:0,details:1})}}function Gp(n){let e,t,r;return{c(){e=w("input"),d(e,"type","file"),d(e,"slot","files"),d(e,"id","image-shop"),W(e,"display","none",!1)},m(i,s){U(i,e,s),t||(r=te(e,"change",n[1]),t=!0)},p:F,d(i){i&&D(e),t=!1,r()}}}function qp(n){let e,t,r,i,s;return i=new ml({props:{name:"image-shop",details:n[0],$$slots:{files:[Gp]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("h3"),t.textContent="IMAGEN DE SU TIENDA",r=E(),H(i.$$.fragment),d(t,"class","svelte-hi5hqc"),d(e,"class","box-image svelte-hi5hqc")},m(o,a){U(o,e,a),g(e,t),g(e,r),L(i,e,null),s=!0},p(o,[a]){const l={};a&1&&(l.details=o[0]),a&9&&(l.$$scope={dirty:a,ctx:o}),i.$set(l)},i(o){s||($(i.$$.fragment,o),s=!0)},o(o){S(i.$$.fragment,o),s=!1},d(o){o&&D(e),z(i)}}}function xp(n,e,t){let r;de(n,Br,o=>t(2,r=o));let i;function s(){i=this.files,t(0,i)}return n.$$.update=()=>{if(n.$$.dirty&1&&i!==void 0){const o=new FileReader;o.readAsDataURL(i[0]),o.addEventListener("load",()=>{Oe(Br,r.imageStore=encodeURIComponent(o.result),r)})}},[i,s]}class Wp extends fe{constructor(e){super(),ce(this,e,xp,qp,ue,{})}}function Jp(n){let e,t,r;return{c(){e=w("input"),d(e,"type","file"),d(e,"slot","files"),d(e,"id","imageMenu"),e.multiple=!0,W(e,"display","none",!1)},m(i,s){U(i,e,s),t||(r=te(e,"change",n[1]),t=!0)},p:F,d(i){i&&D(e),t=!1,r()}}}function Vp(n){let e,t,r,i,s;return i=new ml({props:{name:"imageMenu",details:n[0],$$slots:{files:[Jp]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("h3"),t.textContent="IMAGENES DE SU MENU",r=E(),H(i.$$.fragment),d(t,"class","svelte-apb6c7"),d(e,"class","box-menu svelte-apb6c7")},m(o,a){U(o,e,a),g(e,t),g(e,r),L(i,e,null),s=!0},p(o,[a]){const l={};a&1&&(l.details=o[0]),a&16&&(l.$$scope={dirty:a,ctx:o}),i.$set(l)},i(o){s||($(i.$$.fragment,o),s=!0)},o(o){S(i.$$.fragment,o),s=!1},d(o){o&&D(e),z(i)}}}function Kp(n,e,t){let r;de(n,Lr,a=>t(2,r=a));const i=pn.Evt.create();let s;return[s,async a=>{let l=[];if(a.target.files.length<5){t(0,s=a.target.files);for(const u of s){const c=new FileReader;c.readAsDataURL(u),c.addEventListener("load",async()=>{i.post(encodeURIComponent(c.result))}),l.push(await i.waitFor())}}Oe(Lr,r.menuStore=l,r)}]}class Qp extends fe{constructor(e){super(),ce(this,e,Kp,Vp,ue,{})}}function Yp(n){let e,t,r,i,s,o,a;return i=new ae({props:{name:n[2],color:"hsl(0,0%,100%)",size:1.3}}),{c(){e=w("button"),t=oe(n[0]),r=E(),H(i.$$.fragment),d(e,"class","svelte-1f9qwox"),W(e,"background-color",n[1],!1)},m(l,u){U(l,e,u),g(e,t),g(e,r),L(i,e,null),s=!0,o||(a=te(e,"click",bp),o=!0)},p(l,[u]){(!s||u&1)&&be(t,l[0]);const c={};u&4&&(c.name=l[2]),i.$set(c),u&2&&W(e,"background-color",l[1],!1)},i(l){s||($(i.$$.fragment,l),s=!0)},o(l){S(i.$$.fragment,l),s=!1},d(l){l&&D(e),z(i),o=!1,a()}}}function Xp(n,e,t){let{content:r}=e,{color:i}=e,{nameIcon:s}=e;return n.$$set=o=>{"content"in o&&t(0,r=o.content),"color"in o&&t(1,i=o.color),"nameIcon"in o&&t(2,s=o.nameIcon)},[r,i,s]}class Zp extends fe{constructor(e){super(),ce(this,e,Xp,Yp,ue,{content:0,color:1,nameIcon:2})}}function em(n){let e,t,r,i;return r=new ae({props:{name:n[1],color:"hsl(0,0%,100%)",size:1.6}}),{c(){e=oe(n[0]),t=E(),H(r.$$.fragment)},m(s,o){U(s,e,o),U(s,t,o),L(r,s,o),i=!0},p(s,o){(!i||o&1)&&be(e,s[0]);const a={};o&2&&(a.name=s[1]),r.$set(a)},i(s){i||($(r.$$.fragment,s),i=!0)},o(s){S(r.$$.fragment,s),i=!1},d(s){s&&D(e),s&&D(t),z(r,s)}}}function tm(n){let e,t,r,i,s;return t=new St({props:{to:n[3],$$slots:{default:[em]},$$scope:{ctx:n}}}),{c(){e=w("button"),H(t.$$.fragment),d(e,"class","svelte-5wd8cv"),W(e,"background-color",n[2],!1)},m(o,a){U(o,e,a),L(t,e,null),r=!0,i||(s=te(e,"click",xo),i=!0)},p(o,[a]){const l={};a&8&&(l.to=o[3]),a&19&&(l.$$scope={dirty:a,ctx:o}),t.$set(l),a&4&&W(e,"background-color",o[2],!1)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){S(t.$$.fragment,o),r=!1},d(o){o&&D(e),z(t),i=!1,s()}}}function nm(n,e,t){let{label:r}=e,{nameIcon:i}=e,{color:s}=e,{page:o}=e;return n.$$set=a=>{"label"in a&&t(0,r=a.label),"nameIcon"in a&&t(1,i=a.nameIcon),"color"in a&&t(2,s=a.color),"page"in a&&t(3,o=a.page)},[r,i,s,o]}class rm extends fe{constructor(e){super(),ce(this,e,nm,tm,ue,{label:0,nameIcon:1,color:2,page:3})}}function im(n){let e,t,r,i,s,o,a,l,u,c,h,f,p,m,_,v,y,j;return s=new wp({}),a=new Tp({}),u=new Lp({}),h=new Wp({}),p=new Qp({}),_=new Zp({props:{content:"CREAR TIENDA",color:"limegreen",nameIcon:"bag-shopping"}}),_.$on("click",n[0]),y=new rm({props:{label:"CERRAR SESI\xD3N",color:"hsl(0,100%,50%)",nameIcon:"google",page:"/"}}),{c(){e=w("main"),t=w("header"),t.innerHTML=`<h1>UBIFOOD</h1> 
    <h2 class="svelte-pm5g52">CREA TU TIENDA EN POCOS PASOS</h2>`,r=E(),i=w("section"),H(s.$$.fragment),o=E(),H(a.$$.fragment),l=E(),H(u.$$.fragment),c=E(),H(h.$$.fragment),f=E(),H(p.$$.fragment),m=E(),H(_.$$.fragment),v=E(),H(y.$$.fragment),d(t,"class","svelte-pm5g52"),d(i,"class","svelte-pm5g52"),d(e,"class","svelte-pm5g52")},m(b,T){U(b,e,T),g(e,t),g(e,r),g(e,i),L(s,i,null),g(i,o),L(a,i,null),g(i,l),L(u,i,null),g(i,c),L(h,i,null),g(i,f),L(p,i,null),g(i,m),L(_,i,null),g(i,v),L(y,i,null),j=!0},p:F,i(b){j||($(s.$$.fragment,b),$(a.$$.fragment,b),$(u.$$.fragment,b),$(h.$$.fragment,b),$(p.$$.fragment,b),$(_.$$.fragment,b),$(y.$$.fragment,b),j=!0)},o(b){S(s.$$.fragment,b),S(a.$$.fragment,b),S(u.$$.fragment,b),S(h.$$.fragment,b),S(p.$$.fragment,b),S(_.$$.fragment,b),S(y.$$.fragment,b),j=!1},d(b){b&&D(e),z(s),z(a),z(u),z(h),z(p),z(_),z(y)}}}function sm(n){function e(t){Lt.call(this,n,t)}return[e]}class om extends fe{constructor(e){super(),ce(this,e,sm,im,ue,{})}}function lm(n){let e,t,r,i;return r=new ae({props:{name:n[1],color:"hsl(0,0%,100%)",size:1.6}}),{c(){e=oe(n[0]),t=E(),H(r.$$.fragment)},m(s,o){U(s,e,o),U(s,t,o),L(r,s,o),i=!0},p(s,o){(!i||o&1)&&be(e,s[0]);const a={};o&2&&(a.name=s[1]),r.$set(a)},i(s){i||($(r.$$.fragment,s),i=!0)},o(s){S(r.$$.fragment,s),i=!1},d(s){s&&D(e),s&&D(t),z(r,s)}}}function am(n){let e,t,r,i,s;return t=new St({props:{to:n[3],$$slots:{default:[lm]},$$scope:{ctx:n}}}),{c(){e=w("button"),H(t.$$.fragment),d(e,"class","svelte-8lsd9i"),W(e,"background-color",n[2],!1)},m(o,a){U(o,e,a),L(t,e,null),r=!0,i||(s=te(e,"click",n[4]),i=!0)},p(o,[a]){const l={};a&8&&(l.to=o[3]),a&35&&(l.$$scope={dirty:a,ctx:o}),t.$set(l),a&4&&W(e,"background-color",o[2],!1)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){S(t.$$.fragment,o),r=!1},d(o){o&&D(e),z(t),i=!1,s()}}}function um(n,e,t){let{label:r}=e,{nameIcon:i}=e,{color:s}=e,{page:o}=e;function a(l){Lt.call(this,n,l)}return n.$$set=l=>{"label"in l&&t(0,r=l.label),"nameIcon"in l&&t(1,i=l.nameIcon),"color"in l&&t(2,s=l.color),"page"in l&&t(3,o=l.page)},[r,i,s,o,a]}class no extends fe{constructor(e){super(),ce(this,e,um,am,ue,{label:0,nameIcon:1,color:2,page:3})}}function cm(n){let e;return{c(){e=w("article"),e.innerHTML='<div class="svelte-1e4a4jl"></div>',d(e,"class","svelte-1e4a4jl")},m(t,r){U(t,e,r)},p:F,i:F,o:F,d(t){t&&D(e)}}}class fm extends fe{constructor(e){super(),ce(this,e,null,cm,ue,{})}}function dm(n){let e;return{c(){e=w("style"),e.textContent=`body {
      background-color: hsl(0, 0%, 15%);
    }`},m(t,r){U(t,e,r)},d(t){t&&D(e)}}}function hm(n){let e,t;return e=new fm({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function pm(n){let e,t;return e=new om({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},p:F,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function mm(n){let e,t,r,i,s,o,a,l,u,c,h,f,p;return s=new ae({props:{name:"user",color:"hsl(0,0%,100%)",size:5}}),c=new no({props:{label:"EDITAR TIENDA",nameIcon:"bag-shopping",color:"hsl(120, 60.8%, 50%)",page:"/user/update"}}),f=new no({props:{label:"CERRAR SESION",nameIcon:"google",color:"hsl(0,100%,50%)",page:"/"}}),f.$on("click",xo),{c(){e=w("main"),t=w("header"),t.innerHTML='<h1 class="svelte-ebhf0r">UBIFOOD</h1>',r=E(),i=w("div"),H(s.$$.fragment),o=E(),a=w("span"),l=oe(n[0]),u=E(),H(c.$$.fragment),h=E(),H(f.$$.fragment),d(t,"class","svelte-ebhf0r"),d(i,"class","box-user svelte-ebhf0r"),d(a,"class","user-email svelte-ebhf0r"),d(e,"class","svelte-ebhf0r")},m(m,_){U(m,e,_),g(e,t),g(e,r),g(e,i),L(s,i,null),g(e,o),g(e,a),g(a,l),g(e,u),L(c,e,null),g(e,h),L(f,e,null),p=!0},p(m,_){(!p||_&1)&&be(l,m[0])},i(m){p||($(s.$$.fragment,m),$(c.$$.fragment,m),$(f.$$.fragment,m),p=!0)},o(m){S(s.$$.fragment,m),S(c.$$.fragment,m),S(f.$$.fragment,m),p=!1},d(m){m&&D(e),z(s),z(c),z(f)}}}function _m(n){let e,t,r,i,s,o=dm();const a=[mm,pm,hm],l=[];function u(c,h){return c[1]==="success"?0:c[1]==="user not found"?1:c[1]==="awaiting"?2:-1}return~(t=u(n))&&(r=l[t]=a[t](n)),{c(){o&&o.c(),e=E(),r&&r.c(),i=Ie()},m(c,h){o&&o.m(c,h),U(c,e,h),~t&&l[t].m(c,h),U(c,i,h),s=!0},p(c,[h]){let f=t;t=u(c),t===f?~t&&l[t].p(c,h):(r&&(he(),S(l[f],1,1,()=>{l[f]=null}),pe()),~t?(r=l[t],r?r.p(c,h):(r=l[t]=a[t](c),r.c()),$(r,1),r.m(i.parentNode,i)):r=null)},i(c){s||($(r),s=!0)},o(c){S(r),s=!1},d(c){o&&o.d(c),c&&D(e),~t&&l[t].d(c),c&&D(i)}}}function gm(n,e,t){let r;de(n,ln,s=>t(1,r=s));let i="";return Et.auth.onAuthStateChange(async(s,o)=>{const l=await(await fetch("https://ubifood-backend.deno.dev/ubifood/verifyStore",{method:"POST",body:o.user.id})).text();ln.set(l),t(0,i=o.user.email)}),[i,r]}class vm extends fe{constructor(e){super(),ce(this,e,gm,_m,ue,{})}}function bm(n){let e,t,r,i,s;return t=new No({}),i=new Eu({}),{c(){e=w("main"),H(t.$$.fragment),r=E(),H(i.$$.fragment)},m(o,a){U(o,e,a),L(t,e,null),g(e,r),L(i,e,null),s=!0},p:F,i(o){s||($(t.$$.fragment,o),$(i.$$.fragment,o),s=!0)},o(o){S(t.$$.fragment,o),S(i.$$.fragment,o),s=!1},d(o){o&&D(e),z(t),z(i)}}}function ym(n){let e,t;return e=new Ff({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function $m(n){let e,t;return e=new Zu({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function wm(n){let e,t;return e=new vm({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function km(n){let e,t;return e=new mp({}),{c(){H(e.$$.fragment)},m(r,i){L(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Sm(n){let e,t,r,i,s,o,a,l,u,c,h,f;return e=new Ja({}),r=new Vt({props:{path:"/",$$slots:{default:[bm]},$$scope:{ctx:n}}}),s=new Vt({props:{path:"/login",$$slots:{default:[ym]},$$scope:{ctx:n}}}),a=new Vt({props:{path:"/food/*",$$slots:{default:[$m]},$$scope:{ctx:n}}}),u=new Vt({props:{path:"user/store",$$slots:{default:[wm]},$$scope:{ctx:n}}}),h=new Vt({props:{path:"user/update",$$slots:{default:[km]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment),t=E(),H(r.$$.fragment),i=E(),H(s.$$.fragment),o=E(),H(a.$$.fragment),l=E(),H(u.$$.fragment),c=E(),H(h.$$.fragment)},m(p,m){L(e,p,m),U(p,t,m),L(r,p,m),U(p,i,m),L(s,p,m),U(p,o,m),L(a,p,m),U(p,l,m),L(u,p,m),U(p,c,m),L(h,p,m),f=!0},p(p,m){const _={};m&1&&(_.$$scope={dirty:m,ctx:p}),r.$set(_);const v={};m&1&&(v.$$scope={dirty:m,ctx:p}),s.$set(v);const y={};m&1&&(y.$$scope={dirty:m,ctx:p}),a.$set(y);const j={};m&1&&(j.$$scope={dirty:m,ctx:p}),u.$set(j);const b={};m&1&&(b.$$scope={dirty:m,ctx:p}),h.$set(b)},i(p){f||($(e.$$.fragment,p),$(r.$$.fragment,p),$(s.$$.fragment,p),$(a.$$.fragment,p),$(u.$$.fragment,p),$(h.$$.fragment,p),f=!0)},o(p){S(e.$$.fragment,p),S(r.$$.fragment,p),S(s.$$.fragment,p),S(a.$$.fragment,p),S(u.$$.fragment,p),S(h.$$.fragment,p),f=!1},d(p){z(e,p),p&&D(t),z(r,p),p&&D(i),z(s,p),p&&D(o),z(a,p),p&&D(l),z(u,p),p&&D(c),z(h,p)}}}function Em(n){let e,t,r,i;return e=new xa({}),r=new Ao({props:{$$slots:{default:[Sm]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment),t=E(),H(r.$$.fragment)},m(s,o){L(e,s,o),U(s,t,o),L(r,s,o),i=!0},p(s,[o]){const a={};o&1&&(a.$$scope={dirty:o,ctx:s}),r.$set(a)},i(s){i||($(e.$$.fragment,s),$(r.$$.fragment,s),i=!0)},o(s){S(e.$$.fragment,s),S(r.$$.fragment,s),i=!1},d(s){z(e,s),s&&D(t),z(r,s)}}}class Cm extends fe{constructor(e){super(),ce(this,e,null,Em,ue,{})}}new Cm({target:document.body});export{x as c,Pm as g};
